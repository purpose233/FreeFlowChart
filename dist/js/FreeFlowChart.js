/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 6);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calcPositionInCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcPointToLineFoot; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_getUIParameters__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common__ = __webpack_require__(3);\n\r\n\r\n\r\nfunction calcPositionInCanvas (x, y) {\r\n  let drawLayout = document.getElementById('draw-layout')\r\n  let parameters = Object(__WEBPACK_IMPORTED_MODULE_0__common_getUIParameters__[\"a\" /* default */])()\r\n  return {\r\n    x: x - parameters.canvasLeft - (parameters.canvasPadding - drawLayout.scrollLeft),\r\n    y: y - parameters.canvasTop - (parameters.canvasPadding - drawLayout.scrollTop)\r\n  }\r\n}\r\n\r\nfunction calcPointToLineFoot (point, line) {\r\n  let [x, y] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"b\" /* generalizePoint */])(point)\r\n  let [A, B, C] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"a\" /* generalizeLine */])(line)\r\n  return {\r\n    x: (B * B * x - A * B * y - A * C) / (A * A + B * B),\r\n    y: (-A * B * x + A * A * y - B * C) / (A * A + B * B)\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L2NvcmUvY2FsY3VsYXRpb24vY2FsY1Bvc2l0aW9uLmpzPzZjZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFVJUGFyYW1ldGVycyBmcm9tICcuLi8uLi9jb21tb24vZ2V0VUlQYXJhbWV0ZXJzJ1xyXG5pbXBvcnQge2dlbmVyYWxpemVMaW5lLCBnZW5lcmFsaXplUG9pbnR9IGZyb20gXCIuL2NvbW1vblwiO1xyXG5cclxuZnVuY3Rpb24gY2FsY1Bvc2l0aW9uSW5DYW52YXMgKHgsIHkpIHtcclxuICBsZXQgZHJhd0xheW91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3LWxheW91dCcpXHJcbiAgbGV0IHBhcmFtZXRlcnMgPSBnZXRVSVBhcmFtZXRlcnMoKVxyXG4gIHJldHVybiB7XHJcbiAgICB4OiB4IC0gcGFyYW1ldGVycy5jYW52YXNMZWZ0IC0gKHBhcmFtZXRlcnMuY2FudmFzUGFkZGluZyAtIGRyYXdMYXlvdXQuc2Nyb2xsTGVmdCksXHJcbiAgICB5OiB5IC0gcGFyYW1ldGVycy5jYW52YXNUb3AgLSAocGFyYW1ldGVycy5jYW52YXNQYWRkaW5nIC0gZHJhd0xheW91dC5zY3JvbGxUb3ApXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjUG9pbnRUb0xpbmVGb290IChwb2ludCwgbGluZSkge1xyXG4gIGxldCBbeCwgeV0gPSBnZW5lcmFsaXplUG9pbnQocG9pbnQpXHJcbiAgbGV0IFtBLCBCLCBDXSA9IGdlbmVyYWxpemVMaW5lKGxpbmUpXHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IChCICogQiAqIHggLSBBICogQiAqIHkgLSBBICogQykgLyAoQSAqIEEgKyBCICogQiksXHJcbiAgICB5OiAoLUEgKiBCICogeCArIEEgKiBBICogeSAtIEIgKiBDKSAvIChBICogQSArIEIgKiBCKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtjYWxjUG9zaXRpb25JbkNhbnZhcywgY2FsY1BvaW50VG9MaW5lRm9vdH1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9jb3JlL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__process__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__line__ = __webpack_require__(10);\n\r\n\r\n\r\nfunction getShapeByType (shapeName) {\r\n  switch (shapeName) {\r\n    case 'process': return __WEBPACK_IMPORTED_MODULE_0__process__[\"a\" /* default */]\r\n    case 'line': return __WEBPACK_IMPORTED_MODULE_1__line__[\"a\" /* default */]\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getShapeByType);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L3NoYXBlcy9pbmRleC5qcz85ZmM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9jZXNzIGZyb20gJy4vcHJvY2VzcydcclxuaW1wb3J0IExpbmUgZnJvbSAnLi9saW5lJ1xyXG5cclxuZnVuY3Rpb24gZ2V0U2hhcGVCeVR5cGUgKHNoYXBlTmFtZSkge1xyXG4gIHN3aXRjaCAoc2hhcGVOYW1lKSB7XHJcbiAgICBjYXNlICdwcm9jZXNzJzogcmV0dXJuIFByb2Nlc3NcclxuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gTGluZVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2V0U2hhcGVCeVR5cGVcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kcmF3L3NoYXBlcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getDefaultSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return drawingDefaultSetting; });\nlet basic = {\r\n  width: 120,\r\n  height: 90\r\n}\r\nlet process = {\r\n  width: 120,\r\n  height: 90,\r\n  shapeName: '流程'\r\n}\r\nlet decision = {\r\n  width: 110,\r\n  height: 90,\r\n  shapeName: '判定'\r\n}\r\nlet terminator = {\r\n  width: 120,\r\n  height: 70,\r\n  shapeName: '开始/结束'\r\n}\r\nlet storedData = {\r\n  width: 120,\r\n  height: 90,\r\n  shapeName: '数据库'\r\n}\r\nlet line = {\r\n  linkerType: 'straight',\r\n  arrowType: 'basic'\r\n}\r\n\r\nfunction getDefaultSetting (type) {\r\n  switch (type) {\r\n    case 'process': return process\r\n    case 'decision': return decision\r\n    case 'terminator': return terminator\r\n    case 'storedData': return storedData\r\n    case 'line': return line\r\n    default: return basic\r\n  }\r\n}\r\n\r\nlet drawingDefaultSetting = {\r\n  fillStyle: '#FFFFFF',\r\n  strokeStyle: '#000000',\r\n  lineWidth: 2,\r\n  lineDash: []\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L3NoYXBlcy9zaGFwZURlZmF1bHRTZXR0aW5nLmpzPzc1ZWEiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGJhc2ljID0ge1xyXG4gIHdpZHRoOiAxMjAsXHJcbiAgaGVpZ2h0OiA5MFxyXG59XHJcbmxldCBwcm9jZXNzID0ge1xyXG4gIHdpZHRoOiAxMjAsXHJcbiAgaGVpZ2h0OiA5MCxcclxuICBzaGFwZU5hbWU6ICfmtYHnqIsnXHJcbn1cclxubGV0IGRlY2lzaW9uID0ge1xyXG4gIHdpZHRoOiAxMTAsXHJcbiAgaGVpZ2h0OiA5MCxcclxuICBzaGFwZU5hbWU6ICfliKTlrponXHJcbn1cclxubGV0IHRlcm1pbmF0b3IgPSB7XHJcbiAgd2lkdGg6IDEyMCxcclxuICBoZWlnaHQ6IDcwLFxyXG4gIHNoYXBlTmFtZTogJ+W8gOWniy/nu5PmnZ8nXHJcbn1cclxubGV0IHN0b3JlZERhdGEgPSB7XHJcbiAgd2lkdGg6IDEyMCxcclxuICBoZWlnaHQ6IDkwLFxyXG4gIHNoYXBlTmFtZTogJ+aVsOaNruW6kydcclxufVxyXG5sZXQgbGluZSA9IHtcclxuICBsaW5rZXJUeXBlOiAnc3RyYWlnaHQnLFxyXG4gIGFycm93VHlwZTogJ2Jhc2ljJ1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREZWZhdWx0U2V0dGluZyAodHlwZSkge1xyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSAncHJvY2Vzcyc6IHJldHVybiBwcm9jZXNzXHJcbiAgICBjYXNlICdkZWNpc2lvbic6IHJldHVybiBkZWNpc2lvblxyXG4gICAgY2FzZSAndGVybWluYXRvcic6IHJldHVybiB0ZXJtaW5hdG9yXHJcbiAgICBjYXNlICdzdG9yZWREYXRhJzogcmV0dXJuIHN0b3JlZERhdGFcclxuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gbGluZVxyXG4gICAgZGVmYXVsdDogcmV0dXJuIGJhc2ljXHJcbiAgfVxyXG59XHJcblxyXG5sZXQgZHJhd2luZ0RlZmF1bHRTZXR0aW5nID0ge1xyXG4gIGZpbGxTdHlsZTogJyNGRkZGRkYnLFxyXG4gIHN0cm9rZVN0eWxlOiAnIzAwMDAwMCcsXHJcbiAgbGluZVdpZHRoOiAyLFxyXG4gIGxpbmVEYXNoOiBbXVxyXG59XHJcblxyXG5leHBvcnQge2dldERlZmF1bHRTZXR0aW5nLCBkcmF3aW5nRGVmYXVsdFNldHRpbmd9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvc2hhcGVzL3NoYXBlRGVmYXVsdFNldHRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return generalizeLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return generalizePoint; });\n// Line can be presented by (x - x2) / (x1 - x2) = (y - y2) / (x1 - y2)\r\n// or Ax + By + C = 0\r\n// or Kx + B = y\r\n// The order of parameters must be [x1, y1, x2, y2], [A, B, C] or [K, B].\r\n\r\n// Points must contain x and y.\r\n// The order of parameters must be [x, y] or {x, y}\r\n\r\nfunction generalizeLine (line) {\r\n  switch (line.length) {\r\n    case 2: return [line[0], -1, line[1]]\r\n    case 3: return line\r\n    case 4:\r\n      let [x1, y1, x2, y2] = line\r\n      let A = (y1 - y2) / (x1 - x2)\r\n      let B = -1\r\n      let C = y2 - A * x2\r\n      return [A, B, C]\r\n  }\r\n}\r\n\r\nfunction generalizePoint (point) {\r\n  if (Array.isArray(point)) {\r\n    return point\r\n  }\r\n  else {\r\n    return [point.x, point.y]\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L2NvcmUvY2FsY3VsYXRpb24vY29tbW9uLmpzP2ZhYzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTGluZSBjYW4gYmUgcHJlc2VudGVkIGJ5ICh4IC0geDIpIC8gKHgxIC0geDIpID0gKHkgLSB5MikgLyAoeDEgLSB5MilcclxuLy8gb3IgQXggKyBCeSArIEMgPSAwXHJcbi8vIG9yIEt4ICsgQiA9IHlcclxuLy8gVGhlIG9yZGVyIG9mIHBhcmFtZXRlcnMgbXVzdCBiZSBbeDEsIHkxLCB4MiwgeTJdLCBbQSwgQiwgQ10gb3IgW0ssIEJdLlxyXG5cclxuLy8gUG9pbnRzIG11c3QgY29udGFpbiB4IGFuZCB5LlxyXG4vLyBUaGUgb3JkZXIgb2YgcGFyYW1ldGVycyBtdXN0IGJlIFt4LCB5XSBvciB7eCwgeX1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYWxpemVMaW5lIChsaW5lKSB7XHJcbiAgc3dpdGNoIChsaW5lLmxlbmd0aCkge1xyXG4gICAgY2FzZSAyOiByZXR1cm4gW2xpbmVbMF0sIC0xLCBsaW5lWzFdXVxyXG4gICAgY2FzZSAzOiByZXR1cm4gbGluZVxyXG4gICAgY2FzZSA0OlxyXG4gICAgICBsZXQgW3gxLCB5MSwgeDIsIHkyXSA9IGxpbmVcclxuICAgICAgbGV0IEEgPSAoeTEgLSB5MikgLyAoeDEgLSB4MilcclxuICAgICAgbGV0IEIgPSAtMVxyXG4gICAgICBsZXQgQyA9IHkyIC0gQSAqIHgyXHJcbiAgICAgIHJldHVybiBbQSwgQiwgQ11cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYWxpemVQb2ludCAocG9pbnQpIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShwb2ludCkpIHtcclxuICAgIHJldHVybiBwb2ludFxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJldHVybiBbcG9pbnQueCwgcG9pbnQueV1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Z2VuZXJhbGl6ZUxpbmUsIGdlbmVyYWxpemVQb2ludH1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9jb3JlL2NhbGN1bGF0aW9uL2NvbW1vbi5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function getUIParameters () {\r\n  let canvasLayout = document.getElementById('draw-layout')\r\n  let drawContainer = document.getElementById('draw-container')\r\n  return {\r\n    canvasPadding: drawContainer.style.padding.slice(0, -2) - 0,\r\n    canvasLeft: canvasLayout.offsetLeft,\r\n    canvasTop: canvasLayout.offsetTop\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getUIParameters);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L2NvbW1vbi9nZXRVSVBhcmFtZXRlcnMuanM/ZjFlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRVSVBhcmFtZXRlcnMgKCkge1xyXG4gIGxldCBjYW52YXNMYXlvdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhdy1sYXlvdXQnKVxyXG4gIGxldCBkcmF3Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXctY29udGFpbmVyJylcclxuICByZXR1cm4ge1xyXG4gICAgY2FudmFzUGFkZGluZzogZHJhd0NvbnRhaW5lci5zdHlsZS5wYWRkaW5nLnNsaWNlKDAsIC0yKSAtIDAsXHJcbiAgICBjYW52YXNMZWZ0OiBjYW52YXNMYXlvdXQub2Zmc2V0TGVmdCxcclxuICAgIGNhbnZhc1RvcDogY2FudmFzTGF5b3V0Lm9mZnNldFRvcFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2V0VUlQYXJhbWV0ZXJzXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9jb21tb24vZ2V0VUlQYXJhbWV0ZXJzLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createNewShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createNewLine; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_index__ = __webpack_require__(1);\n\r\n\r\nfunction createNewShape (type, left, top, width, height) {\r\n  let component = document.createElement('div')\r\n  component.classList.add('shape-box')\r\n\r\n  component.innerHTML = `\r\n    <canvas class=\"shape-canvas\"></canvas>\r\n    <div class=\"shape-text\" contenteditable=\"true\"></div>`\r\n\r\n  let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(type))(component, type, left, top, width, height)\r\n\r\n  component.setAttribute('shapeid', shape.id)\r\n  return shape\r\n}\r\n\r\nfunction createNewLine (src, dist) {\r\n  let component = document.createElement('div')\r\n  component.classList.add('shape-box', 'linker_box')\r\n\r\n  component.innerHTML = `\r\n    <canvas class=\"shape-canvas\"></canvas>\r\n    <div class=\"shape-text\" contenteditable=\"true\"></div>`\r\n\r\n  let line = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])('line'))(component, src, dist)\r\n\r\n  component.setAttribute('shapeid', line.id)\r\n  return line\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L2NvcmUvY3JlYXRlTmV3U2hhcGUuanM/NTJkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0U2hhcGVCeVR5cGUgZnJvbSAnLi4vc2hhcGVzL2luZGV4J1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlTmV3U2hhcGUgKHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xyXG4gIGxldCBjb21wb25lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gIGNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdzaGFwZS1ib3gnKVxyXG5cclxuICBjb21wb25lbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGNhbnZhcyBjbGFzcz1cInNoYXBlLWNhbnZhc1wiPjwvY2FudmFzPlxyXG4gICAgPGRpdiBjbGFzcz1cInNoYXBlLXRleHRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC9kaXY+YFxyXG5cclxuICBsZXQgc2hhcGUgPSBuZXcgKGdldFNoYXBlQnlUeXBlKHR5cGUpKShjb21wb25lbnQsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodClcclxuXHJcbiAgY29tcG9uZW50LnNldEF0dHJpYnV0ZSgnc2hhcGVpZCcsIHNoYXBlLmlkKVxyXG4gIHJldHVybiBzaGFwZVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOZXdMaW5lIChzcmMsIGRpc3QpIHtcclxuICBsZXQgY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBjb21wb25lbnQuY2xhc3NMaXN0LmFkZCgnc2hhcGUtYm94JywgJ2xpbmtlcl9ib3gnKVxyXG5cclxuICBjb21wb25lbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGNhbnZhcyBjbGFzcz1cInNoYXBlLWNhbnZhc1wiPjwvY2FudmFzPlxyXG4gICAgPGRpdiBjbGFzcz1cInNoYXBlLXRleHRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC9kaXY+YFxyXG5cclxuICBsZXQgbGluZSA9IG5ldyAoZ2V0U2hhcGVCeVR5cGUoJ2xpbmUnKSkoY29tcG9uZW50LCBzcmMsIGRpc3QpXHJcblxyXG4gIGNvbXBvbmVudC5zZXRBdHRyaWJ1dGUoJ3NoYXBlaWQnLCBsaW5lLmlkKVxyXG4gIHJldHVybiBsaW5lXHJcbn1cclxuXHJcbmV4cG9ydCB7Y3JlYXRlTmV3U2hhcGUsIGNyZWF0ZU5ld0xpbmV9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvY29yZS9jcmVhdGVOZXdTaGFwZS5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__init__ = __webpack_require__(7);\n\r\n\r\n(function (window, document) {\r\n  const defaultInstanceSettings = {\r\n    shapes: ['process']\r\n  }\r\n\r\n  function cloneObject (o) {\r\n    let clone = {}\r\n    for (let prop in o)\r\n      clone[prop] = o[prop]\r\n    return clone\r\n  }\r\n\r\n  function hasProp (o, prop) {\r\n    return o.hasOwnProperty(prop)\r\n  }\r\n\r\n  function replaceObjectProps (target, source) {\r\n    let clone = cloneObject(target)\r\n    for (let prop in clone)\r\n      clone[prop] = hasProp(source, prop) ? source[prop] : clone[prop]\r\n    return clone\r\n  }\r\n\r\n  function createInstanceSetting (params) {\r\n    let el\r\n    if (!params.el || !(el = document.querySelectorAll(params.el)[0])) {\r\n      return null\r\n    }\r\n\r\n    let instanceSetting = replaceObjectProps(defaultInstanceSettings, params)\r\n    instanceSetting.el = el\r\n\r\n    return instanceSetting\r\n  }\r\n\r\n  class FlowChart {\r\n    constructor (options) {\r\n      this.instanceSetting = createInstanceSetting(options)\r\n      if (!this.instanceSetting) {\r\n        return {}\r\n      }\r\n\r\n      this.shapeList = []\r\n      this.init()\r\n    }\r\n    init() {\r\n      Object(__WEBPACK_IMPORTED_MODULE_0__init__[\"a\" /* default */])(this.instanceSetting, this.shapeList)\r\n    }\r\n  }\r\n\r\n  let FreeFlowChart = (function () {\r\n    let instance = null\r\n\r\n    return function (options) {\r\n      if (instance) { return instance }\r\n      else {\r\n        let instance = new FlowChart(options)\r\n        if (!instance.init) {\r\n          console.log('Invalid options!')\r\n          instance = null\r\n        }\r\n        return instance\r\n      }\r\n    }\r\n  })()\r\n\r\n  window.FreeFlowChart = FreeFlowChart\r\n})(window, document)//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L2luZGV4LmpzPzRmZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXQgZnJvbSAnLi9pbml0J1xyXG5cclxuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50KSB7XHJcbiAgY29uc3QgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XHJcbiAgICBzaGFwZXM6IFsncHJvY2VzcyddXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjbG9uZU9iamVjdCAobykge1xyXG4gICAgbGV0IGNsb25lID0ge31cclxuICAgIGZvciAobGV0IHByb3AgaW4gbylcclxuICAgICAgY2xvbmVbcHJvcF0gPSBvW3Byb3BdXHJcbiAgICByZXR1cm4gY2xvbmVcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhc1Byb3AgKG8sIHByb3ApIHtcclxuICAgIHJldHVybiBvLmhhc093blByb3BlcnR5KHByb3ApXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMgKHRhcmdldCwgc291cmNlKSB7XHJcbiAgICBsZXQgY2xvbmUgPSBjbG9uZU9iamVjdCh0YXJnZXQpXHJcbiAgICBmb3IgKGxldCBwcm9wIGluIGNsb25lKVxyXG4gICAgICBjbG9uZVtwcm9wXSA9IGhhc1Byb3Aoc291cmNlLCBwcm9wKSA/IHNvdXJjZVtwcm9wXSA6IGNsb25lW3Byb3BdXHJcbiAgICByZXR1cm4gY2xvbmVcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlU2V0dGluZyAocGFyYW1zKSB7XHJcbiAgICBsZXQgZWxcclxuICAgIGlmICghcGFyYW1zLmVsIHx8ICEoZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbClbMF0pKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGluc3RhbmNlU2V0dGluZyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKVxyXG4gICAgaW5zdGFuY2VTZXR0aW5nLmVsID0gZWxcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2VTZXR0aW5nXHJcbiAgfVxyXG5cclxuICBjbGFzcyBGbG93Q2hhcnQge1xyXG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcclxuICAgICAgdGhpcy5pbnN0YW5jZVNldHRpbmcgPSBjcmVhdGVJbnN0YW5jZVNldHRpbmcob3B0aW9ucylcclxuICAgICAgaWYgKCF0aGlzLmluc3RhbmNlU2V0dGluZykge1xyXG4gICAgICAgIHJldHVybiB7fVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNoYXBlTGlzdCA9IFtdXHJcbiAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICBpbml0KHRoaXMuaW5zdGFuY2VTZXR0aW5nLCB0aGlzLnNoYXBlTGlzdClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBGcmVlRmxvd0NoYXJ0ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBpbnN0YW5jZSA9IG51bGxcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgaWYgKGluc3RhbmNlKSB7IHJldHVybiBpbnN0YW5jZSB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCBpbnN0YW5jZSA9IG5ldyBGbG93Q2hhcnQob3B0aW9ucylcclxuICAgICAgICBpZiAoIWluc3RhbmNlLmluaXQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIG9wdGlvbnMhJylcclxuICAgICAgICAgIGluc3RhbmNlID0gbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2VcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pKClcclxuXHJcbiAgd2luZG93LkZyZWVGbG93Q2hhcnQgPSBGcmVlRmxvd0NoYXJ0XHJcbn0pKHdpbmRvdywgZG9jdW1lbnQpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_index__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_background__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_events_index__ = __webpack_require__(13);\n\r\n\r\n\r\n\r\nconst drawContainerHtml = `<div class=\"draw-main\">\r\n    <div id=\"draw-components\">\r\n    </div>\r\n    <div id=\"draw-layout\">\r\n        <div id=\"draw-container\" style=\"padding:1000px;\">\r\n            <div id=\"designer_canvas\">\r\n                <canvas id=\"canvas-background\"></canvas>\r\n                <div id=\"shape_controls\">\r\n                    <canvas id=\"controls_bounding\" width=\"120\" height=\"90\"></canvas>\r\n                    <div class=\"shape_controller n w\" resizedir=\"nw\" style=\"cursor:nw-resize; left:6px; top:6px;\"></div>\r\n                    <div class=\"shape_controller n e\" resizedir=\"ne\" style=\"cursor:ne-resize; left:calc(100% - 14px); top:6px;\"></div>\r\n                    <div class=\"shape_controller s e\" resizedir=\"se\" style=\"cursor:se-resize; left:calc(100% - 14px); top:calc(100% - 14px);\"></div>\r\n                    <div class=\"shape_controller s w\" resizedir=\"sw\" style=\"cursor:sw-resize; left:6px; top:calc(100% - 14px);\"></div>\r\n                </div>\r\n                <div id=\"bezier_controls\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`\r\n\r\nfunction createContainer (el) {\r\n  el.innerHTML = drawContainerHtml\r\n}\r\n\r\nfunction init (instanceSetting, shapeList) {\r\n  instanceSetting.el.classList.add('draw-main')\r\n  createContainer(instanceSetting.el)\r\n\r\n  let componentGroup = document.getElementById('draw-components')\r\n  let tempHtml = ''\r\n  for (let i = 0; i < instanceSetting.shapes.length; i++) {\r\n    let shapeName = instanceSetting.shapes[i]\r\n    tempHtml += `<div class=\"component-box\" shapename=\"${shapeName}\">\r\n        <canvas class=\"component-item\" width=\"30\" height=\"30\"></canvas>\r\n    </div>`\r\n  }\r\n  componentGroup.innerHTML = tempHtml\r\n  let componentItems = document.getElementsByClassName('component-box')\r\n  for (let i = 0; i < instanceSetting.shapes.length; i++) {\r\n    let shapeName = instanceSetting.shapes[i]\r\n    let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(shapeName))(componentItems[i], 'process', -1, -1, 30, 30)\r\n    shape.draw(2, 5)\r\n  }\r\n\r\n  let canvasBackground = document.getElementById('canvas-background')\r\n  Object(__WEBPACK_IMPORTED_MODULE_1__draw_background__[\"a\" /* default */])(canvasBackground)\r\n\r\n  let canvasController = document.getElementById('controls_bounding')\r\n\r\n  let drawLayout = document.getElementById('draw-layout')\r\n  drawLayout.scrollTop = 1000 - 10\r\n  drawLayout.scrollLeft = 1000 - 10\r\n\r\n  function curryEventHandlers (eventType) {\r\n    let handlers = Object(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"b\" /* getEventHandlers */])(eventType)\r\n    return function () {\r\n      for (let j = 0; j < handlers.length; j++) {\r\n        handlers[j].call(this, event, shapeList)\r\n      }\r\n    }\r\n  }\r\n  for (let i = 0; i < __WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */].length; i++) {\r\n    let func = curryEventHandlers(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */][i])\r\n    window.addEventListener(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */][i], func)\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (init);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L2luaXQuanM/NjJmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0U2hhcGVCeVR5cGUgZnJvbSAnLi9zaGFwZXMvaW5kZXgnXHJcbmltcG9ydCBiYWNrZ3JvdW5kRHJhdyBmcm9tICcuL2RyYXcvYmFja2dyb3VuZCdcclxuaW1wb3J0IHtldmVudExpc3QsIGdldEV2ZW50SGFuZGxlcnN9IGZyb20gJy4vY29yZS9ldmVudHMvaW5kZXgnXHJcblxyXG5jb25zdCBkcmF3Q29udGFpbmVySHRtbCA9IGA8ZGl2IGNsYXNzPVwiZHJhdy1tYWluXCI+XHJcbiAgICA8ZGl2IGlkPVwiZHJhdy1jb21wb25lbnRzXCI+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgaWQ9XCJkcmF3LWxheW91dFwiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJkcmF3LWNvbnRhaW5lclwiIHN0eWxlPVwicGFkZGluZzoxMDAwcHg7XCI+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJkZXNpZ25lcl9jYW52YXNcIj5cclxuICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9XCJjYW52YXMtYmFja2dyb3VuZFwiPjwvY2FudmFzPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cInNoYXBlX2NvbnRyb2xzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBpZD1cImNvbnRyb2xzX2JvdW5kaW5nXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCI5MFwiPjwvY2FudmFzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFwZV9jb250cm9sbGVyIG4gd1wiIHJlc2l6ZWRpcj1cIm53XCIgc3R5bGU9XCJjdXJzb3I6bnctcmVzaXplOyBsZWZ0OjZweDsgdG9wOjZweDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGVfY29udHJvbGxlciBuIGVcIiByZXNpemVkaXI9XCJuZVwiIHN0eWxlPVwiY3Vyc29yOm5lLXJlc2l6ZTsgbGVmdDpjYWxjKDEwMCUgLSAxNHB4KTsgdG9wOjZweDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGVfY29udHJvbGxlciBzIGVcIiByZXNpemVkaXI9XCJzZVwiIHN0eWxlPVwiY3Vyc29yOnNlLXJlc2l6ZTsgbGVmdDpjYWxjKDEwMCUgLSAxNHB4KTsgdG9wOmNhbGMoMTAwJSAtIDE0cHgpO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFwZV9jb250cm9sbGVyIHMgd1wiIHJlc2l6ZWRpcj1cInN3XCIgc3R5bGU9XCJjdXJzb3I6c3ctcmVzaXplOyBsZWZ0OjZweDsgdG9wOmNhbGMoMTAwJSAtIDE0cHgpO1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiYmV6aWVyX2NvbnRyb2xzXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+YFxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyIChlbCkge1xyXG4gIGVsLmlubmVySFRNTCA9IGRyYXdDb250YWluZXJIdG1sXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQgKGluc3RhbmNlU2V0dGluZywgc2hhcGVMaXN0KSB7XHJcbiAgaW5zdGFuY2VTZXR0aW5nLmVsLmNsYXNzTGlzdC5hZGQoJ2RyYXctbWFpbicpXHJcbiAgY3JlYXRlQ29udGFpbmVyKGluc3RhbmNlU2V0dGluZy5lbClcclxuXHJcbiAgbGV0IGNvbXBvbmVudEdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXctY29tcG9uZW50cycpXHJcbiAgbGV0IHRlbXBIdG1sID0gJydcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlU2V0dGluZy5zaGFwZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBzaGFwZU5hbWUgPSBpbnN0YW5jZVNldHRpbmcuc2hhcGVzW2ldXHJcbiAgICB0ZW1wSHRtbCArPSBgPGRpdiBjbGFzcz1cImNvbXBvbmVudC1ib3hcIiBzaGFwZW5hbWU9XCIke3NoYXBlTmFtZX1cIj5cclxuICAgICAgICA8Y2FudmFzIGNsYXNzPVwiY29tcG9uZW50LWl0ZW1cIiB3aWR0aD1cIjMwXCIgaGVpZ2h0PVwiMzBcIj48L2NhbnZhcz5cclxuICAgIDwvZGl2PmBcclxuICB9XHJcbiAgY29tcG9uZW50R3JvdXAuaW5uZXJIVE1MID0gdGVtcEh0bWxcclxuICBsZXQgY29tcG9uZW50SXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb21wb25lbnQtYm94JylcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlU2V0dGluZy5zaGFwZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBzaGFwZU5hbWUgPSBpbnN0YW5jZVNldHRpbmcuc2hhcGVzW2ldXHJcbiAgICBsZXQgc2hhcGUgPSBuZXcgKGdldFNoYXBlQnlUeXBlKHNoYXBlTmFtZSkpKGNvbXBvbmVudEl0ZW1zW2ldLCAncHJvY2VzcycsIC0xLCAtMSwgMzAsIDMwKVxyXG4gICAgc2hhcGUuZHJhdygyLCA1KVxyXG4gIH1cclxuXHJcbiAgbGV0IGNhbnZhc0JhY2tncm91bmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWJhY2tncm91bmQnKVxyXG4gIGJhY2tncm91bmREcmF3KGNhbnZhc0JhY2tncm91bmQpXHJcblxyXG4gIGxldCBjYW52YXNDb250cm9sbGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzX2JvdW5kaW5nJylcclxuXHJcbiAgbGV0IGRyYXdMYXlvdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhdy1sYXlvdXQnKVxyXG4gIGRyYXdMYXlvdXQuc2Nyb2xsVG9wID0gMTAwMCAtIDEwXHJcbiAgZHJhd0xheW91dC5zY3JvbGxMZWZ0ID0gMTAwMCAtIDEwXHJcblxyXG4gIGZ1bmN0aW9uIGN1cnJ5RXZlbnRIYW5kbGVycyAoZXZlbnRUeXBlKSB7XHJcbiAgICBsZXQgaGFuZGxlcnMgPSBnZXRFdmVudEhhbmRsZXJzKGV2ZW50VHlwZSlcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBoYW5kbGVyc1tqXS5jYWxsKHRoaXMsIGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBmdW5jID0gY3VycnlFdmVudEhhbmRsZXJzKGV2ZW50TGlzdFtpXSlcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TGlzdFtpXSwgZnVuYylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kcmF3L2luaXQuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shape__ = __webpack_require__(9);\n\r\n\r\nclass Process extends __WEBPACK_IMPORTED_MODULE_0__shape__[\"a\" /* default */] {\r\n  constructor (el, type, left, top, width, height) {\r\n    super(el, type, left, top, width, height)\r\n  }\r\n  draw (paddingHorizontal, paddingVertical) {\r\n    let horizontal = typeof paddingHorizontal === 'undefined' ? 10 : paddingHorizontal\r\n    let vertical = typeof paddingVertical === 'undefined' ? 10 : paddingVertical\r\n\r\n    this.resetDrawStyle()\r\n    this.context.fillRect(horizontal, vertical, this.width - 2 * horizontal, this.height - 2 * vertical)\r\n    this.context.beginPath()\r\n    this.context.rect(horizontal, vertical, this.width - 2 * horizontal, this.height - 2 * vertical);\r\n    this.context.stroke()\r\n  }\r\n  isPositionInShape (x, y) {\r\n    return (x >= this.left + 10 && x <= this.left + this.width - 10\r\n      && y >= this.top + 10 && y <= this.top + this.height - 10)\r\n  }\r\n  isPositionInLineArea (x, y) {\r\n    if (this.isPositionInShape(x, y)) {\r\n      return false\r\n    }\r\n    else return (x >= this.left && x <= this.left + this.width\r\n      && y >= this.top && y <= this.top + this.height)\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type\r\n    type = (this.isPositionInShape(x, y)) ? 'shapeBody' : null\r\n    type = (!type) ? ((this.isPositionInLineArea(x, y)) ? 'shapeLineArea' : 'empty') : type\r\n    return { shape: this, type: type }\r\n  }\r\n\r\n  // Every shape rely on it's own way to calculate line end positions\r\n  // and all what the lines need to get is just the positions.\r\n\r\n  // ReferPosition includes up, down, left, right, nwCorner, neCorner, seCorner, swCorner.\r\n  // Note that the referPercent is based on inner width of the shape.\r\n  calcLinePosition (referPosition, referPercent) {\r\n    let x, y\r\n    switch (referPosition) {\r\n      case 'nwCorner':\r\n        x = this.left + 10\r\n        y = this.top + 10\r\n        break\r\n      case 'neCorner':\r\n        x = this.left + this.width - 10\r\n        y = this.top + 10\r\n        break\r\n      case 'seCorner':\r\n        x = this.left + this.width - 10\r\n        y = this.top + this.height - 10\r\n        break\r\n      case 'swCorner':\r\n        x = this.left + 10\r\n        y = this.top + this.height - 10\r\n        break\r\n      case 'up':\r\n        x = this.left + 10 + referPercent * (this.width - 20)\r\n        y = this.top + 10\r\n        break\r\n      case 'down':\r\n        x = this.left + 10 + referPercent * (this.width - 20)\r\n        y = this.top + this.height - 10\r\n        break\r\n      case 'left':\r\n        x = this.left + 10\r\n        y = this.top + 10 + referPercent * (this.height - 20)\r\n        break\r\n      case 'right':\r\n        x = this.left + this.width - 10\r\n        y = this.top + 10 + referPercent * (this.height - 20)\r\n        break\r\n    }\r\n    return { x: x, y: y }\r\n  }\r\n  calcShapePoints () {\r\n    let x1 = this.left + 10, y1 = this.top + 10\r\n    let x2 = this.left + this.width - 10, y2 = this.top + 10\r\n    let x3 = this.left + this.width - 10, y3 = this.top + this.height - 10\r\n    let x4 = this.left + 10, y4 = this.top + this.height - 10\r\n    return [ x1, y1, x2, y2, x3, y3, x4, y4 ]\r\n  }\r\n  getLineReference (x, y) {\r\n    let referPosition = null, referPercent = 0, position\r\n    let [ x1, y1, x2, y2, x3, y3, x4, y4 ] = this.calcShapePoints()\r\n    if (this.isPositionInLineArea(x, y)) {\r\n      if (y < y1) {\r\n        if (x < x1) {\r\n          referPosition = 'nwCorner'\r\n        }\r\n        else if (x > x2) {\r\n          referPosition = 'neCorner'\r\n        }\r\n        else {\r\n          referPosition = 'up'\r\n          referPercent = (x - x1) / (this.width - 20)\r\n        }\r\n      }\r\n      else if (y > y4) {\r\n        if (x < x4) {\r\n          referPosition = 'swCorner'\r\n        }\r\n        else if (x > x3) {\r\n          referPosition = 'seCorner'\r\n        }\r\n        else {\r\n          referPosition = 'down'\r\n          referPercent = (x - x4) / (this.width - 20)\r\n        }\r\n      }\r\n      else {\r\n        if (x < this.left + this.width / 2) {\r\n          referPosition = 'left'\r\n          referPercent = (y - this.top - 10) / (this.height - 20)\r\n        }\r\n        else {\r\n          referPosition = 'right'\r\n          referPercent = (y - this.top - 10) / (this.height - 20)\r\n        }\r\n      }\r\n    }\r\n    else if (this.isPositionInShape(x, y)) {\r\n      referPercent = 0.5\r\n      // check the position in which area of the shape\r\n      // the areas are shown below:\r\n      //  __\r\n      // |\\/|\r\n      // |/\\|\r\n      //  --\r\n      let lineRefer1 = (x - x3) / (x1 - x3) - (y - y3) / (y1 - y3)\r\n      let lineRefer2 = (x - x4) / (x2 - x4) - (y - y4) / (y2 - y4)\r\n      //let lineRefer1 = ((x - this.left - this.width + 10) / (20 - this.width)\r\n      //  - (y - this.top - this.height + 10) / (20 - this.height))\r\n      //let lineRefer2 = ((x - this.left - this.width + 10) / (20 - this.width)\r\n      //  - (y - this.top - 10) / (-20 + this.height))\r\n      if (lineRefer1 <= 0 && lineRefer2 <= 0) {\r\n        referPosition = 'up'\r\n      }\r\n      else if (lineRefer1 <= 0 && lineRefer2 >= 0) {\r\n        referPosition = 'right'\r\n      }\r\n      else if (lineRefer1 >= 0 && lineRefer2 >= 0) {\r\n        referPosition = 'down'\r\n      }\r\n      else {\r\n        referPosition = 'left'\r\n      }\r\n    }\r\n    else {\r\n      return null\r\n    }\r\n\r\n    position = this.calcLinePosition(referPosition, referPercent)\r\n    return {\r\n      referPosition: referPosition,\r\n      referPercent: referPercent,\r\n      position: position\r\n    }\r\n  }\r\n  resetLinesPosition () {\r\n    let lineData, position\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      lineData = this.relativeLines[i]\r\n      position = this.calcLinePosition(lineData.referPosition, lineData.referPercent)\r\n      if (lineData.type === 'src') {\r\n        lineData.line.resetSrcPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n      else {\r\n        lineData.line.resetDestPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Basically, each shape behaves like this one\r\n// and these function must be contained for calling:\r\n// draw, judgeInShape, getLineReference, resetLinesPosition\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Process);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L3NoYXBlcy9wcm9jZXNzLmpzP2NmNDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoYXBlIGZyb20gJy4vc2hhcGUnXHJcblxyXG5jbGFzcyBQcm9jZXNzIGV4dGVuZHMgU2hhcGUge1xyXG4gIGNvbnN0cnVjdG9yIChlbCwgdHlwZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICBzdXBlcihlbCwgdHlwZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gIH1cclxuICBkcmF3IChwYWRkaW5nSG9yaXpvbnRhbCwgcGFkZGluZ1ZlcnRpY2FsKSB7XHJcbiAgICBsZXQgaG9yaXpvbnRhbCA9IHR5cGVvZiBwYWRkaW5nSG9yaXpvbnRhbCA9PT0gJ3VuZGVmaW5lZCcgPyAxMCA6IHBhZGRpbmdIb3Jpem9udGFsXHJcbiAgICBsZXQgdmVydGljYWwgPSB0eXBlb2YgcGFkZGluZ1ZlcnRpY2FsID09PSAndW5kZWZpbmVkJyA/IDEwIDogcGFkZGluZ1ZlcnRpY2FsXHJcblxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoaG9yaXpvbnRhbCwgdmVydGljYWwsIHRoaXMud2lkdGggLSAyICogaG9yaXpvbnRhbCwgdGhpcy5oZWlnaHQgLSAyICogdmVydGljYWwpXHJcbiAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgIHRoaXMuY29udGV4dC5yZWN0KGhvcml6b250YWwsIHZlcnRpY2FsLCB0aGlzLndpZHRoIC0gMiAqIGhvcml6b250YWwsIHRoaXMuaGVpZ2h0IC0gMiAqIHZlcnRpY2FsKTtcclxuICAgIHRoaXMuY29udGV4dC5zdHJva2UoKVxyXG4gIH1cclxuICBpc1Bvc2l0aW9uSW5TaGFwZSAoeCwgeSkge1xyXG4gICAgcmV0dXJuICh4ID49IHRoaXMubGVmdCArIDEwICYmIHggPD0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAtIDEwXHJcbiAgICAgICYmIHkgPj0gdGhpcy50b3AgKyAxMCAmJiB5IDw9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSAxMClcclxuICB9XHJcbiAgaXNQb3NpdGlvbkluTGluZUFyZWEgKHgsIHkpIHtcclxuICAgIGlmICh0aGlzLmlzUG9zaXRpb25JblNoYXBlKHgsIHkpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgZWxzZSByZXR1cm4gKHggPj0gdGhpcy5sZWZ0ICYmIHggPD0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aFxyXG4gICAgICAmJiB5ID49IHRoaXMudG9wICYmIHkgPD0gdGhpcy50b3AgKyB0aGlzLmhlaWdodClcclxuICB9XHJcbiAganVkZ2VJblNoYXBlICh4LCB5KSB7XHJcbiAgICBsZXQgdHlwZVxyXG4gICAgdHlwZSA9ICh0aGlzLmlzUG9zaXRpb25JblNoYXBlKHgsIHkpKSA/ICdzaGFwZUJvZHknIDogbnVsbFxyXG4gICAgdHlwZSA9ICghdHlwZSkgPyAoKHRoaXMuaXNQb3NpdGlvbkluTGluZUFyZWEoeCwgeSkpID8gJ3NoYXBlTGluZUFyZWEnIDogJ2VtcHR5JykgOiB0eXBlXHJcbiAgICByZXR1cm4geyBzaGFwZTogdGhpcywgdHlwZTogdHlwZSB9XHJcbiAgfVxyXG5cclxuICAvLyBFdmVyeSBzaGFwZSByZWx5IG9uIGl0J3Mgb3duIHdheSB0byBjYWxjdWxhdGUgbGluZSBlbmQgcG9zaXRpb25zXHJcbiAgLy8gYW5kIGFsbCB3aGF0IHRoZSBsaW5lcyBuZWVkIHRvIGdldCBpcyBqdXN0IHRoZSBwb3NpdGlvbnMuXHJcblxyXG4gIC8vIFJlZmVyUG9zaXRpb24gaW5jbHVkZXMgdXAsIGRvd24sIGxlZnQsIHJpZ2h0LCBud0Nvcm5lciwgbmVDb3JuZXIsIHNlQ29ybmVyLCBzd0Nvcm5lci5cclxuICAvLyBOb3RlIHRoYXQgdGhlIHJlZmVyUGVyY2VudCBpcyBiYXNlZCBvbiBpbm5lciB3aWR0aCBvZiB0aGUgc2hhcGUuXHJcbiAgY2FsY0xpbmVQb3NpdGlvbiAocmVmZXJQb3NpdGlvbiwgcmVmZXJQZXJjZW50KSB7XHJcbiAgICBsZXQgeCwgeVxyXG4gICAgc3dpdGNoIChyZWZlclBvc2l0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ253Q29ybmVyJzpcclxuICAgICAgICB4ID0gdGhpcy5sZWZ0ICsgMTBcclxuICAgICAgICB5ID0gdGhpcy50b3AgKyAxMFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ25lQ29ybmVyJzpcclxuICAgICAgICB4ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAtIDEwXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgMTBcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdzZUNvcm5lcic6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMFxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdzd0Nvcm5lcic6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIDEwXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSAxMFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3VwJzpcclxuICAgICAgICB4ID0gdGhpcy5sZWZ0ICsgMTAgKyByZWZlclBlcmNlbnQgKiAodGhpcy53aWR0aCAtIDIwKVxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIDEwXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnZG93bic6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIDEwICsgcmVmZXJQZXJjZW50ICogKHRoaXMud2lkdGggLSAyMClcclxuICAgICAgICB5ID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAtIDEwXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIDEwXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgMTAgKyByZWZlclBlcmNlbnQgKiAodGhpcy5oZWlnaHQgLSAyMClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMFxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIDEwICsgcmVmZXJQZXJjZW50ICogKHRoaXMuaGVpZ2h0IC0gMjApXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfVxyXG4gIH1cclxuICBjYWxjU2hhcGVQb2ludHMgKCkge1xyXG4gICAgbGV0IHgxID0gdGhpcy5sZWZ0ICsgMTAsIHkxID0gdGhpcy50b3AgKyAxMFxyXG4gICAgbGV0IHgyID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAtIDEwLCB5MiA9IHRoaXMudG9wICsgMTBcclxuICAgIGxldCB4MyA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMCwgeTMgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgIGxldCB4NCA9IHRoaXMubGVmdCArIDEwLCB5NCA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSAxMFxyXG4gICAgcmV0dXJuIFsgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0IF1cclxuICB9XHJcbiAgZ2V0TGluZVJlZmVyZW5jZSAoeCwgeSkge1xyXG4gICAgbGV0IHJlZmVyUG9zaXRpb24gPSBudWxsLCByZWZlclBlcmNlbnQgPSAwLCBwb3NpdGlvblxyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0IF0gPSB0aGlzLmNhbGNTaGFwZVBvaW50cygpXHJcbiAgICBpZiAodGhpcy5pc1Bvc2l0aW9uSW5MaW5lQXJlYSh4LCB5KSkge1xyXG4gICAgICBpZiAoeSA8IHkxKSB7XHJcbiAgICAgICAgaWYgKHggPCB4MSkge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdud0Nvcm5lcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoeCA+IHgyKSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ25lQ29ybmVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAndXAnXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQgPSAoeCAtIHgxKSAvICh0aGlzLndpZHRoIC0gMjApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHkgPiB5NCkge1xyXG4gICAgICAgIGlmICh4IDwgeDQpIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnc3dDb3JuZXInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHggPiB4Mykge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdzZUNvcm5lcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ2Rvd24nXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQgPSAoeCAtIHg0KSAvICh0aGlzLndpZHRoIC0gMjApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICh4IDwgdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnbGVmdCdcclxuICAgICAgICAgIHJlZmVyUGVyY2VudCA9ICh5IC0gdGhpcy50b3AgLSAxMCkgLyAodGhpcy5oZWlnaHQgLSAyMClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ3JpZ2h0J1xyXG4gICAgICAgICAgcmVmZXJQZXJjZW50ID0gKHkgLSB0aGlzLnRvcCAtIDEwKSAvICh0aGlzLmhlaWdodCAtIDIwKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5pc1Bvc2l0aW9uSW5TaGFwZSh4LCB5KSkge1xyXG4gICAgICByZWZlclBlcmNlbnQgPSAwLjVcclxuICAgICAgLy8gY2hlY2sgdGhlIHBvc2l0aW9uIGluIHdoaWNoIGFyZWEgb2YgdGhlIHNoYXBlXHJcbiAgICAgIC8vIHRoZSBhcmVhcyBhcmUgc2hvd24gYmVsb3c6XHJcbiAgICAgIC8vICBfX1xyXG4gICAgICAvLyB8XFwvfFxyXG4gICAgICAvLyB8L1xcfFxyXG4gICAgICAvLyAgLS1cclxuICAgICAgbGV0IGxpbmVSZWZlcjEgPSAoeCAtIHgzKSAvICh4MSAtIHgzKSAtICh5IC0geTMpIC8gKHkxIC0geTMpXHJcbiAgICAgIGxldCBsaW5lUmVmZXIyID0gKHggLSB4NCkgLyAoeDIgLSB4NCkgLSAoeSAtIHk0KSAvICh5MiAtIHk0KVxyXG4gICAgICAvL2xldCBsaW5lUmVmZXIxID0gKCh4IC0gdGhpcy5sZWZ0IC0gdGhpcy53aWR0aCArIDEwKSAvICgyMCAtIHRoaXMud2lkdGgpXHJcbiAgICAgIC8vICAtICh5IC0gdGhpcy50b3AgLSB0aGlzLmhlaWdodCArIDEwKSAvICgyMCAtIHRoaXMuaGVpZ2h0KSlcclxuICAgICAgLy9sZXQgbGluZVJlZmVyMiA9ICgoeCAtIHRoaXMubGVmdCAtIHRoaXMud2lkdGggKyAxMCkgLyAoMjAgLSB0aGlzLndpZHRoKVxyXG4gICAgICAvLyAgLSAoeSAtIHRoaXMudG9wIC0gMTApIC8gKC0yMCArIHRoaXMuaGVpZ2h0KSlcclxuICAgICAgaWYgKGxpbmVSZWZlcjEgPD0gMCAmJiBsaW5lUmVmZXIyIDw9IDApIHtcclxuICAgICAgICByZWZlclBvc2l0aW9uID0gJ3VwJ1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGxpbmVSZWZlcjEgPD0gMCAmJiBsaW5lUmVmZXIyID49IDApIHtcclxuICAgICAgICByZWZlclBvc2l0aW9uID0gJ3JpZ2h0J1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGxpbmVSZWZlcjEgPj0gMCAmJiBsaW5lUmVmZXIyID49IDApIHtcclxuICAgICAgICByZWZlclBvc2l0aW9uID0gJ2Rvd24nXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdsZWZ0J1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHJcbiAgICBwb3NpdGlvbiA9IHRoaXMuY2FsY0xpbmVQb3NpdGlvbihyZWZlclBvc2l0aW9uLCByZWZlclBlcmNlbnQpXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZWZlclBvc2l0aW9uOiByZWZlclBvc2l0aW9uLFxyXG4gICAgICByZWZlclBlcmNlbnQ6IHJlZmVyUGVyY2VudCxcclxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlc2V0TGluZXNQb3NpdGlvbiAoKSB7XHJcbiAgICBsZXQgbGluZURhdGEsIHBvc2l0aW9uXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVsYXRpdmVMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsaW5lRGF0YSA9IHRoaXMucmVsYXRpdmVMaW5lc1tpXVxyXG4gICAgICBwb3NpdGlvbiA9IHRoaXMuY2FsY0xpbmVQb3NpdGlvbihsaW5lRGF0YS5yZWZlclBvc2l0aW9uLCBsaW5lRGF0YS5yZWZlclBlcmNlbnQpXHJcbiAgICAgIGlmIChsaW5lRGF0YS50eXBlID09PSAnc3JjJykge1xyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUucmVzZXRTcmNQb3NpdGlvbihwb3NpdGlvbilcclxuICAgICAgICBsaW5lRGF0YS5saW5lLmRyYXcoKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUucmVzZXREZXN0UG9zaXRpb24ocG9zaXRpb24pXHJcbiAgICAgICAgbGluZURhdGEubGluZS5kcmF3KClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQmFzaWNhbGx5LCBlYWNoIHNoYXBlIGJlaGF2ZXMgbGlrZSB0aGlzIG9uZVxyXG4vLyBhbmQgdGhlc2UgZnVuY3Rpb24gbXVzdCBiZSBjb250YWluZWQgZm9yIGNhbGxpbmc6XHJcbi8vIGRyYXcsIGp1ZGdlSW5TaGFwZSwgZ2V0TGluZVJlZmVyZW5jZSwgcmVzZXRMaW5lc1Bvc2l0aW9uXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvc2hhcGVzL3Byb2Nlc3MuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__ = __webpack_require__(2);\n\r\n\r\nlet shapeId = 0\r\n\r\nclass Shape {\r\n  constructor (el, type, left, top, width, height) {\r\n    this.id = 'shape' + shapeId++\r\n    this.el = el\r\n    this.canvas = el.getElementsByTagName('canvas')[0]\r\n    this.shapeText = el.getElementsByClassName('shape-text')[0]\r\n    this.context = this.canvas.getContext('2d')\r\n    this.type = type\r\n    this.left = left\r\n    this.top = top\r\n\r\n    let temp = Object(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* getDefaultSetting */])(this.type)\r\n    this.shapeName = temp.shapeName\r\n    if (typeof width !== 'undefined') {\r\n      this.width = width\r\n      this.height = height\r\n    }\r\n    else {\r\n      this.width = temp.width\r\n      this.height = temp.height\r\n    }\r\n\r\n    this.fillStyle = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].fillStyle\r\n    this.strokeStyle = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].strokeStyle\r\n    this.lineWidth = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineWidth\r\n    this.lineDash = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineDash\r\n\r\n    this.relativeLines = []\r\n\r\n    this.init()\r\n  }\r\n  destruct () {\r\n    this.remove()\r\n    this.callLinesToDetach()\r\n  }\r\n  init () {\r\n    this.el.style.width = this.width + 'px'\r\n    this.el.style.height = this.height + 'px'\r\n    this.canvas.width = this.width\r\n    this.canvas.height = this.height\r\n    //this.context.lineCap = 'round'\r\n    //this.context.lineJoin = 'round'\r\n  }\r\n  append () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    let sibling = document.getElementById('shape_controls')\r\n\r\n    parent.insertBefore(this.el, sibling)\r\n  }\r\n  remove () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    parent.removeChild(this.el)\r\n  }\r\n  setPosition (left, top) {\r\n    this.left = left\r\n    this.top = top\r\n    this.el.style.left = this.left + 'px'\r\n    this.el.style.top = this.top + 'px'\r\n  }\r\n  setSize (width, height) {\r\n    this.canvas.width = this.el.width = this.width = width\r\n    this.el.style.width = this.canvas.style.width = width + 'px'\r\n    this.canvas.height = this.el.height = this.height = height\r\n    this.el.style.height = this.canvas.style.height = height + 'px'\r\n  }\r\n  resetDrawStyle () {\r\n    this.context.fillStyle = this.fillStyle\r\n    this.context.strokeStyle = this.strokeStyle\r\n    this.context.lineWidth = this.lineWidth\r\n    this.context.setLineDash(this.lineDash)\r\n  }\r\n  setFillStyle (fillStyle) {\r\n    this.fillStyle = fillStyle\r\n    this.resetDrawStyle()\r\n  }\r\n  setStrokeStyle (strokeStyle) {\r\n    this.strokeStyle = strokeStyle\r\n    this.resetDrawStyle()\r\n  }\r\n  setLineWidth (lineWidth) {\r\n    this.lineWidth = lineWidth\r\n    this.resetDrawStyle()\r\n  }\r\n  setLineDash (lineDash) {\r\n    this.lineDash = lineDash\r\n    this.resetDrawStyle()\r\n  }\r\n  addLine (line, type, referPosition, referPercent) {\r\n    this.relativeLines.push({\r\n      line: line,\r\n      // type values: 'src', 'dest'\r\n      type: type,\r\n      referPosition: referPosition,\r\n      referPercent: referPercent\r\n    })\r\n  }\r\n  getLineData (line) {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (line === this.relativeLines[i].line) {\r\n        return this.relativeLines[i]\r\n      }\r\n    }\r\n  }\r\n  deleteLine (line) {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (line === this.relativeLines[i].line) {\r\n        return this.relativeLines.splice(i, 1)[0]\r\n      }\r\n    }\r\n  }\r\n  callLinesToDetach () {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (this.relativeLines[i].type === 'src') {\r\n        this.relativeLines[i].line.src.shape = null\r\n      }\r\n      else {\r\n        this.relativeLines[i].line.dest.shape = null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Shape);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kcmF3L3NoYXBlcy9zaGFwZS5qcz9lNGQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2V0RGVmYXVsdFNldHRpbmcsIGRyYXdpbmdEZWZhdWx0U2V0dGluZ30gZnJvbSAnLi9zaGFwZURlZmF1bHRTZXR0aW5nJ1xyXG5cclxubGV0IHNoYXBlSWQgPSAwXHJcblxyXG5jbGFzcyBTaGFwZSB7XHJcbiAgY29uc3RydWN0b3IgKGVsLCB0eXBlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHRoaXMuaWQgPSAnc2hhcGUnICsgc2hhcGVJZCsrXHJcbiAgICB0aGlzLmVsID0gZWxcclxuICAgIHRoaXMuY2FudmFzID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhbnZhcycpWzBdXHJcbiAgICB0aGlzLnNoYXBlVGV4dCA9IGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NoYXBlLXRleHQnKVswXVxyXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG4gICAgdGhpcy50eXBlID0gdHlwZVxyXG4gICAgdGhpcy5sZWZ0ID0gbGVmdFxyXG4gICAgdGhpcy50b3AgPSB0b3BcclxuXHJcbiAgICBsZXQgdGVtcCA9IGdldERlZmF1bHRTZXR0aW5nKHRoaXMudHlwZSlcclxuICAgIHRoaXMuc2hhcGVOYW1lID0gdGVtcC5zaGFwZU5hbWVcclxuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxyXG4gICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMud2lkdGggPSB0ZW1wLndpZHRoXHJcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGVtcC5oZWlnaHRcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmZpbGxTdHlsZSA9IGRyYXdpbmdEZWZhdWx0U2V0dGluZy5maWxsU3R5bGVcclxuICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSBkcmF3aW5nRGVmYXVsdFNldHRpbmcuc3Ryb2tlU3R5bGVcclxuICAgIHRoaXMubGluZVdpZHRoID0gZHJhd2luZ0RlZmF1bHRTZXR0aW5nLmxpbmVXaWR0aFxyXG4gICAgdGhpcy5saW5lRGFzaCA9IGRyYXdpbmdEZWZhdWx0U2V0dGluZy5saW5lRGFzaFxyXG5cclxuICAgIHRoaXMucmVsYXRpdmVMaW5lcyA9IFtdXHJcblxyXG4gICAgdGhpcy5pbml0KClcclxuICB9XHJcbiAgZGVzdHJ1Y3QgKCkge1xyXG4gICAgdGhpcy5yZW1vdmUoKVxyXG4gICAgdGhpcy5jYWxsTGluZXNUb0RldGFjaCgpXHJcbiAgfVxyXG4gIGluaXQgKCkge1xyXG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnXHJcbiAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4J1xyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoXHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodFxyXG4gICAgLy90aGlzLmNvbnRleHQubGluZUNhcCA9ICdyb3VuZCdcclxuICAgIC8vdGhpcy5jb250ZXh0LmxpbmVKb2luID0gJ3JvdW5kJ1xyXG4gIH1cclxuICBhcHBlbmQgKCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcl9jYW52YXMnKVxyXG4gICAgbGV0IHNpYmxpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcGVfY29udHJvbHMnKVxyXG5cclxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5lbCwgc2libGluZylcclxuICB9XHJcbiAgcmVtb3ZlICgpIHtcclxuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzaWduZXJfY2FudmFzJylcclxuICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmVsKVxyXG4gIH1cclxuICBzZXRQb3NpdGlvbiAobGVmdCwgdG9wKSB7XHJcbiAgICB0aGlzLmxlZnQgPSBsZWZ0XHJcbiAgICB0aGlzLnRvcCA9IHRvcFxyXG4gICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gdGhpcy5sZWZ0ICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS50b3AgPSB0aGlzLnRvcCArICdweCdcclxuICB9XHJcbiAgc2V0U2l6ZSAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmVsLndpZHRoID0gdGhpcy53aWR0aCA9IHdpZHRoXHJcbiAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCdcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuZWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPSBoZWlnaHRcclxuICAgIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4J1xyXG4gIH1cclxuICByZXNldERyYXdTdHlsZSAoKSB7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGVcclxuICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGVcclxuICAgIHRoaXMuY29udGV4dC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aFxyXG4gICAgdGhpcy5jb250ZXh0LnNldExpbmVEYXNoKHRoaXMubGluZURhc2gpXHJcbiAgfVxyXG4gIHNldEZpbGxTdHlsZSAoZmlsbFN0eWxlKSB7XHJcbiAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZVxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgfVxyXG4gIHNldFN0cm9rZVN0eWxlIChzdHJva2VTdHlsZSkge1xyXG4gICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlXHJcbiAgICB0aGlzLnJlc2V0RHJhd1N0eWxlKClcclxuICB9XHJcbiAgc2V0TGluZVdpZHRoIChsaW5lV2lkdGgpIHtcclxuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoXHJcbiAgICB0aGlzLnJlc2V0RHJhd1N0eWxlKClcclxuICB9XHJcbiAgc2V0TGluZURhc2ggKGxpbmVEYXNoKSB7XHJcbiAgICB0aGlzLmxpbmVEYXNoID0gbGluZURhc2hcclxuICAgIHRoaXMucmVzZXREcmF3U3R5bGUoKVxyXG4gIH1cclxuICBhZGRMaW5lIChsaW5lLCB0eXBlLCByZWZlclBvc2l0aW9uLCByZWZlclBlcmNlbnQpIHtcclxuICAgIHRoaXMucmVsYXRpdmVMaW5lcy5wdXNoKHtcclxuICAgICAgbGluZTogbGluZSxcclxuICAgICAgLy8gdHlwZSB2YWx1ZXM6ICdzcmMnLCAnZGVzdCdcclxuICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgcmVmZXJQb3NpdGlvbjogcmVmZXJQb3NpdGlvbixcclxuICAgICAgcmVmZXJQZXJjZW50OiByZWZlclBlcmNlbnRcclxuICAgIH0pXHJcbiAgfVxyXG4gIGdldExpbmVEYXRhIChsaW5lKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVsYXRpdmVMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAobGluZSA9PT0gdGhpcy5yZWxhdGl2ZUxpbmVzW2ldLmxpbmUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWxhdGl2ZUxpbmVzW2ldXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgZGVsZXRlTGluZSAobGluZSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aXZlTGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGxpbmUgPT09IHRoaXMucmVsYXRpdmVMaW5lc1tpXS5saW5lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsYXRpdmVMaW5lcy5zcGxpY2UoaSwgMSlbMF1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBjYWxsTGluZXNUb0RldGFjaCAoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVsYXRpdmVMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodGhpcy5yZWxhdGl2ZUxpbmVzW2ldLnR5cGUgPT09ICdzcmMnKSB7XHJcbiAgICAgICAgdGhpcy5yZWxhdGl2ZUxpbmVzW2ldLmxpbmUuc3JjLnNoYXBlID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMucmVsYXRpdmVMaW5lc1tpXS5saW5lLmRlc3Quc2hhcGUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoYXBlXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvc2hhcGVzL3NoYXBlLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_calculation_calcPosition__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\nlet lineId = 0\r\nconst lineAreaWidth = 7\r\n// Delta is a number which is small enough\r\n// that it can be used while judging whether\r\n// two floating numbers are equal.\r\nconst delta = 0.1\r\n\r\n// Cubic bezier curve:\r\n// begin point: (x0,y0), control points: (x1,y1), (x2,y2), end point: (x3,y3)\r\n// x(t) = ax * t ^ 3 + bx * t ^ 2 + cx * t + x0\r\n// y(t) = ay * t ^ 3 + by * t ^ 2 + cy * t + y0\r\n// x1 = x0 + cx / 3\r\n// x2 = x1 + ( cx + bx ) / 3\r\n// x3 = x0 + cx + bx + ax\r\n// y1 = y0 + cy / 3\r\n// y2 = y1 + ( cy + by ) / 3\r\n// y3 = y0 + cy + by + ay\r\n// cx = 3 * ( x1 - x0 )\r\n// bx = 3 * ( x2 - x1 ) - cx\r\n// ax = x3 - x0 - cx - bx\r\n// cy = 3 * ( y1 - y0 )\r\n// by = 3 * ( y2 - y1 ) - cy\r\n// ay = y3 - y0 - cy - by\r\n// x(t) = (1-t)^3x0 + 3t(1-t)^2x1 + 3t^2(1-t)x2 + t^3x3\r\n// y(t) = (1-t)^3y0 + 3t(1-t)^2y1 + 3t^2(1-t)y2 + t^3y3\r\n\r\nclass Line {\r\n  constructor (el, src, dest) {\r\n    this.id = 'line' + lineId++\r\n    this.el = el\r\n    this.canvas = el.getElementsByTagName('canvas')[0]\r\n    this.shapeText = el.getElementsByClassName('shape-text')[0]\r\n    this.context = this.canvas.getContext('2d')\r\n    // src and dest contain shape, position\r\n    this.src = src\r\n    this.dest = dest\r\n\r\n    let temp = Object(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* getDefaultSetting */])('line')\r\n    this.linkerType = temp.linkerType\r\n    this.arrowType = temp.arrowType\r\n\r\n    this.width = 0\r\n    this.height = 0\r\n    this.left = 0\r\n    this.top = 0\r\n\r\n    this.strokeStyle = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].strokeStyle\r\n    this.lineWidth = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineWidth\r\n    this.lineDash = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineDash\r\n\r\n    this.drawBeginPosition = {}\r\n    this.drawEndPosition = {}\r\n    this.bezierControlPoints = []\r\n\r\n    this.init()\r\n  }\r\n  destruct () {\r\n    this.remove()\r\n    this.callShapesToDetach()\r\n  }\r\n  init () {\r\n    this.resetCanvas()\r\n  }\r\n  resetSrcPosition (position) {\r\n    this.src.position = position\r\n    this.resetCanvas()\r\n  }\r\n  resetDestPosition (position) {\r\n    this.dest.position = position\r\n    this.resetCanvas()\r\n  }\r\n  resetCanvas () {\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        let width = Math.abs(this.src.position.x - this.dest.position.x) + 20\r\n        let height = Math.abs(this.src.position.y - this.dest.position.y) + 20\r\n\r\n        this.canvas.width = this.el.width = this.width = width\r\n        this.el.style.width = this.canvas.style.width = width + 'px'\r\n        this.canvas.height = this.el.height = this.height = height\r\n        this.el.style.height = this.canvas.style.height = height + 'px'\r\n\r\n        let x, y\r\n        if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n          x = this.src.position.x - 10\r\n        }\r\n        else {\r\n          x = this.dest.position.x - 10\r\n        }\r\n        if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n          y = this.src.position.y - 10\r\n        }\r\n        else {\r\n          y = this.dest.position.y - 10\r\n        }\r\n        this.setPosition(x, y)\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  resetSrc (src) {\r\n    this.src = src\r\n    this.resetCanvas()\r\n  }\r\n  resetDest (dest) {\r\n    this.dest = dest\r\n    this.resetCanvas()\r\n  }\r\n  setPosition (x, y) {\r\n    this.left = x\r\n    this.top = y\r\n    this.el.style.left = x + 'px'\r\n    this.el.style.top = y + 'px'\r\n  }\r\n  append () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    let sibling = document.getElementById('shape_controls')\r\n\r\n    parent.insertBefore(this.el, sibling)\r\n  }\r\n  remove () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    parent.removeChild(this.el)\r\n  }\r\n  resetDrawStyle () {\r\n    this.context.strokeStyle = this.strokeStyle\r\n    this.context.lineWidth = this.lineWidth\r\n    this.context.setLineDash(this.lineDash)\r\n  }\r\n  drawArrow (angle) {\r\n    this.context.translate(this.drawEndPosition.x, this.drawEndPosition.y)\r\n    this.context.rotate(angle)\r\n    this.context.beginPath()\r\n    this.context.moveTo(0, 0)\r\n    this.context.lineTo(5, 14)\r\n    this.context.lineTo(-5, 14)\r\n    this.context.fillStyle = '#000000'\r\n    this.context.fill()\r\n    this.context.translate(-this.drawEndPosition.x, -this.drawEndPosition.y)\r\n  }\r\n  drawReferMark (end) {\r\n    let position\r\n    if (end === 'src') {\r\n      position = {\r\n        x: this.drawBeginPosition.x,\r\n        y: this.drawBeginPosition.y\r\n      }\r\n    }\r\n    else {\r\n      position = {\r\n        x: this.drawEndPosition.x,\r\n        y: this.drawEndPosition.y\r\n      }\r\n    }\r\n    this.context.beginPath()\r\n    this.context.arc(position.x, position.y, 10, 0, 2 * Math.PI)\r\n    this.context.fillStyle = 'rgba(237, 65, 65, 0.5)'\r\n    this.context.fill()\r\n  }\r\n  calcDrawingBeginEndPoints () {\r\n    if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n      this.drawBeginPosition.x = 10\r\n      this.drawEndPosition.x = this.width - 10\r\n    }\r\n    else {\r\n      this.drawBeginPosition.x = this.width - 10\r\n      this.drawEndPosition.x = 10\r\n    }\r\n    if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n      this.drawBeginPosition.y = 10\r\n      this.drawEndPosition.y = this.height - 10\r\n    }\r\n    else {\r\n      this.drawBeginPosition.y = this.height - 10\r\n      this.drawEndPosition.y = 10\r\n    }\r\n  }\r\n  calcJudgingBeginEndPoints () {\r\n    let x1, x2, y1, y2\r\n    if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n      x1 = this.left + 10\r\n      x2 = this.left + this.width - 10\r\n    }\r\n    else {\r\n      x1 = this.left + this.width - 10\r\n      x2 = this.left + 10\r\n    }\r\n    if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n      y1 = this.top + 10\r\n      y2 = this.top + this.height - 10\r\n    }\r\n    else {\r\n      y1 = this.top + this.height - 10\r\n      y2 = this.top + 10\r\n    }\r\n    return [ x1, y1, x2, y2 ]\r\n  }\r\n  clearCanvas () {\r\n    this.canvas.width = this.width\r\n  }\r\n  calcArrowAngle () {\r\n    let angle\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        let offsetX = this.dest.position.x - this.src.position.x\r\n        let offsetY = this.dest.position.y - this.src.position.y\r\n        if (offsetY === 0) {\r\n          angle = (offsetX >= 0) ? Math.PI / 2 : - Math.PI / 2\r\n        }\r\n        else if (offsetY < 0) {\r\n          angle = Math.atan(offsetX / -offsetY)\r\n        }\r\n        else {\r\n          angle = Math.PI - Math.atan(offsetX / offsetY)\r\n        }\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n    return angle\r\n  }\r\n  drawLineBody () {\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        this.context.beginPath()\r\n        this.context.moveTo(this.drawBeginPosition.x, this.drawBeginPosition.y)\r\n        this.context.lineTo(this.drawEndPosition.x, this.drawEndPosition.y)\r\n        this.context.stroke()\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  draw (referMark, isSelected) {\r\n    this.clearCanvas()\r\n    this.resetDrawStyle()\r\n    this.calcDrawingBeginEndPoints()\r\n\r\n    if (referMark) {\r\n      this.drawReferMark(referMark)\r\n    }\r\n\r\n    this.drawLineBody()\r\n    if (isSelected) {\r\n      this.context.strokeStyle = 'rgba(237, 65, 65, 0.15)'\r\n      this.context.lineWidth = 6\r\n      this.drawLineBody()\r\n    }\r\n\r\n    this.drawArrow(this.calcArrowAngle())\r\n  }\r\n  // Judge whether a point is in the rectangle area which is covered by\r\n  isPointInLineRectangle (x, y) {\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    let xBig = (x1 >= x2) ? x1 : x2\r\n    let xSmall = (xBig === x2) ? x1 : x2\r\n    let yBig = (y1 >= y2) ? y1 : y2\r\n    let ySmall = (yBig === y2) ? y1 : y2\r\n\r\n    // The calculated result of point might not be accurate,\r\n    // it will effect the judgement when x1 === x2 or y1 === y2.\r\n    // So, it requires a small enough number to help.\r\n    return (x <= xBig + delta && x >= xSmall - delta\r\n      && y <= yBig + delta && y >= ySmall - delta)\r\n  }\r\n  isInLine (x, y, endExcluded) {\r\n    if (!endExcluded) {\r\n      if (this.isInLineEnd(x, y)) {\r\n        return false\r\n      }\r\n    }\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    switch  (this.linkerType) {\r\n      case 'straight':\r\n        // Calculate the distance from point to line.\r\n        let distance = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"a\" /* calcPointToLineDistance */])([x, y], [x1, y1, x2, y2])\r\n        let foot = Object(__WEBPACK_IMPORTED_MODULE_2__core_calculation_calcPosition__[\"a\" /* calcPointToLineFoot */])([x, y], [x1, y1, x2, y2])\r\n\r\n        return (distance <= lineAreaWidth && distance >= -lineAreaWidth\r\n          && this.isPointInLineRectangle(foot.x, foot.y))\r\n\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  isInLineEnd (x, y) {\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    let distanceSrc = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"b\" /* calcPointToPointDistance */])([x, y], [x1, y1])\r\n    let distanceDest = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"b\" /* calcPointToPointDistance */])([x, y], [x2, y2])\r\n\r\n    if (distanceDest <= lineAreaWidth) {\r\n     return 'lineDest'\r\n    }\r\n    else if (distanceSrc <= lineAreaWidth) {\r\n      return 'lineSrc'\r\n    }\r\n    return null\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type = this.isInLineEnd(x, y)\r\n    if (!type) {\r\n      type = this.isInLine(x, y, true) ? 'lineBody' : 'empty'\r\n    }\r\n    return { shape: this, type: type }\r\n  }\r\n  callShapesToDetach () {\r\n    if (this.src.shape) {\r\n      this.src.shape.deleteLine(this)\r\n    }\r\n    if (this.dest.shape) {\r\n      this.dest.shape.deleteLine(this)\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Line);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9zaGFwZXMvbGluZS5qcz9hMWJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2V0RGVmYXVsdFNldHRpbmcsIGRyYXdpbmdEZWZhdWx0U2V0dGluZ30gZnJvbSAnLi9zaGFwZURlZmF1bHRTZXR0aW5nJ1xyXG5pbXBvcnQge2NhbGNQb2ludFRvUG9pbnREaXN0YW5jZSwgY2FsY1BvaW50VG9MaW5lRGlzdGFuY2V9IGZyb20gXCIuLi9jb3JlL2NhbGN1bGF0aW9uL2NhbGNEaXN0YW5jZVwiO1xyXG5pbXBvcnQge2NhbGNQb2ludFRvTGluZUZvb3R9IGZyb20gXCIuLi9jb3JlL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvblwiO1xyXG5cclxubGV0IGxpbmVJZCA9IDBcclxuY29uc3QgbGluZUFyZWFXaWR0aCA9IDdcclxuLy8gRGVsdGEgaXMgYSBudW1iZXIgd2hpY2ggaXMgc21hbGwgZW5vdWdoXHJcbi8vIHRoYXQgaXQgY2FuIGJlIHVzZWQgd2hpbGUganVkZ2luZyB3aGV0aGVyXHJcbi8vIHR3byBmbG9hdGluZyBudW1iZXJzIGFyZSBlcXVhbC5cclxuY29uc3QgZGVsdGEgPSAwLjFcclxuXHJcbi8vIEN1YmljIGJlemllciBjdXJ2ZTpcclxuLy8gYmVnaW4gcG9pbnQ6ICh4MCx5MCksIGNvbnRyb2wgcG9pbnRzOiAoeDEseTEpLCAoeDIseTIpLCBlbmQgcG9pbnQ6ICh4Myx5MylcclxuLy8geCh0KSA9IGF4ICogdCBeIDMgKyBieCAqIHQgXiAyICsgY3ggKiB0ICsgeDBcclxuLy8geSh0KSA9IGF5ICogdCBeIDMgKyBieSAqIHQgXiAyICsgY3kgKiB0ICsgeTBcclxuLy8geDEgPSB4MCArIGN4IC8gM1xyXG4vLyB4MiA9IHgxICsgKCBjeCArIGJ4ICkgLyAzXHJcbi8vIHgzID0geDAgKyBjeCArIGJ4ICsgYXhcclxuLy8geTEgPSB5MCArIGN5IC8gM1xyXG4vLyB5MiA9IHkxICsgKCBjeSArIGJ5ICkgLyAzXHJcbi8vIHkzID0geTAgKyBjeSArIGJ5ICsgYXlcclxuLy8gY3ggPSAzICogKCB4MSAtIHgwIClcclxuLy8gYnggPSAzICogKCB4MiAtIHgxICkgLSBjeFxyXG4vLyBheCA9IHgzIC0geDAgLSBjeCAtIGJ4XHJcbi8vIGN5ID0gMyAqICggeTEgLSB5MCApXHJcbi8vIGJ5ID0gMyAqICggeTIgLSB5MSApIC0gY3lcclxuLy8gYXkgPSB5MyAtIHkwIC0gY3kgLSBieVxyXG4vLyB4KHQpID0gKDEtdCleM3gwICsgM3QoMS10KV4yeDEgKyAzdF4yKDEtdCl4MiArIHReM3gzXHJcbi8vIHkodCkgPSAoMS10KV4zeTAgKyAzdCgxLXQpXjJ5MSArIDN0XjIoMS10KXkyICsgdF4zeTNcclxuXHJcbmNsYXNzIExpbmUge1xyXG4gIGNvbnN0cnVjdG9yIChlbCwgc3JjLCBkZXN0KSB7XHJcbiAgICB0aGlzLmlkID0gJ2xpbmUnICsgbGluZUlkKytcclxuICAgIHRoaXMuZWwgPSBlbFxyXG4gICAgdGhpcy5jYW52YXMgPSBlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF1cclxuICAgIHRoaXMuc2hhcGVUZXh0ID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2hhcGUtdGV4dCcpWzBdXHJcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcbiAgICAvLyBzcmMgYW5kIGRlc3QgY29udGFpbiBzaGFwZSwgcG9zaXRpb25cclxuICAgIHRoaXMuc3JjID0gc3JjXHJcbiAgICB0aGlzLmRlc3QgPSBkZXN0XHJcblxyXG4gICAgbGV0IHRlbXAgPSBnZXREZWZhdWx0U2V0dGluZygnbGluZScpXHJcbiAgICB0aGlzLmxpbmtlclR5cGUgPSB0ZW1wLmxpbmtlclR5cGVcclxuICAgIHRoaXMuYXJyb3dUeXBlID0gdGVtcC5hcnJvd1R5cGVcclxuXHJcbiAgICB0aGlzLndpZHRoID0gMFxyXG4gICAgdGhpcy5oZWlnaHQgPSAwXHJcbiAgICB0aGlzLmxlZnQgPSAwXHJcbiAgICB0aGlzLnRvcCA9IDBcclxuXHJcbiAgICB0aGlzLnN0cm9rZVN0eWxlID0gZHJhd2luZ0RlZmF1bHRTZXR0aW5nLnN0cm9rZVN0eWxlXHJcbiAgICB0aGlzLmxpbmVXaWR0aCA9IGRyYXdpbmdEZWZhdWx0U2V0dGluZy5saW5lV2lkdGhcclxuICAgIHRoaXMubGluZURhc2ggPSBkcmF3aW5nRGVmYXVsdFNldHRpbmcubGluZURhc2hcclxuXHJcbiAgICB0aGlzLmRyYXdCZWdpblBvc2l0aW9uID0ge31cclxuICAgIHRoaXMuZHJhd0VuZFBvc2l0aW9uID0ge31cclxuICAgIHRoaXMuYmV6aWVyQ29udHJvbFBvaW50cyA9IFtdXHJcblxyXG4gICAgdGhpcy5pbml0KClcclxuICB9XHJcbiAgZGVzdHJ1Y3QgKCkge1xyXG4gICAgdGhpcy5yZW1vdmUoKVxyXG4gICAgdGhpcy5jYWxsU2hhcGVzVG9EZXRhY2goKVxyXG4gIH1cclxuICBpbml0ICgpIHtcclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICByZXNldFNyY1Bvc2l0aW9uIChwb3NpdGlvbikge1xyXG4gICAgdGhpcy5zcmMucG9zaXRpb24gPSBwb3NpdGlvblxyXG4gICAgdGhpcy5yZXNldENhbnZhcygpXHJcbiAgfVxyXG4gIHJlc2V0RGVzdFBvc2l0aW9uIChwb3NpdGlvbikge1xyXG4gICAgdGhpcy5kZXN0LnBvc2l0aW9uID0gcG9zaXRpb25cclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICByZXNldENhbnZhcyAoKSB7XHJcbiAgICBzd2l0Y2ggKHRoaXMubGlua2VyVHlwZSkge1xyXG4gICAgICBjYXNlICdzdHJhaWdodCc6XHJcbiAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5hYnModGhpcy5zcmMucG9zaXRpb24ueCAtIHRoaXMuZGVzdC5wb3NpdGlvbi54KSArIDIwXHJcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguYWJzKHRoaXMuc3JjLnBvc2l0aW9uLnkgLSB0aGlzLmRlc3QucG9zaXRpb24ueSkgKyAyMFxyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuZWwud2lkdGggPSB0aGlzLndpZHRoID0gd2lkdGhcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCdcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmVsLmhlaWdodCA9IHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnXHJcblxyXG4gICAgICAgIGxldCB4LCB5XHJcbiAgICAgICAgaWYgKCh0aGlzLmRlc3QucG9zaXRpb24ueCAtIHRoaXMuc3JjLnBvc2l0aW9uLngpID49IDApIHtcclxuICAgICAgICAgIHggPSB0aGlzLnNyYy5wb3NpdGlvbi54IC0gMTBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB4ID0gdGhpcy5kZXN0LnBvc2l0aW9uLnggLSAxMFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi55IC0gdGhpcy5zcmMucG9zaXRpb24ueSkgPj0gMCkge1xyXG4gICAgICAgICAgeSA9IHRoaXMuc3JjLnBvc2l0aW9uLnkgLSAxMFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHkgPSB0aGlzLmRlc3QucG9zaXRpb24ueSAtIDEwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oeCwgeSlcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmV6aWVyJzpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmVzZXRTcmMgKHNyYykge1xyXG4gICAgdGhpcy5zcmMgPSBzcmNcclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICByZXNldERlc3QgKGRlc3QpIHtcclxuICAgIHRoaXMuZGVzdCA9IGRlc3RcclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICBzZXRQb3NpdGlvbiAoeCwgeSkge1xyXG4gICAgdGhpcy5sZWZ0ID0geFxyXG4gICAgdGhpcy50b3AgPSB5XHJcbiAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSB4ICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS50b3AgPSB5ICsgJ3B4J1xyXG4gIH1cclxuICBhcHBlbmQgKCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcl9jYW52YXMnKVxyXG4gICAgbGV0IHNpYmxpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcGVfY29udHJvbHMnKVxyXG5cclxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5lbCwgc2libGluZylcclxuICB9XHJcbiAgcmVtb3ZlICgpIHtcclxuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzaWduZXJfY2FudmFzJylcclxuICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmVsKVxyXG4gIH1cclxuICByZXNldERyYXdTdHlsZSAoKSB7XHJcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlXHJcbiAgICB0aGlzLmNvbnRleHQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGhcclxuICAgIHRoaXMuY29udGV4dC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKVxyXG4gIH1cclxuICBkcmF3QXJyb3cgKGFuZ2xlKSB7XHJcbiAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRlKHRoaXMuZHJhd0VuZFBvc2l0aW9uLngsIHRoaXMuZHJhd0VuZFBvc2l0aW9uLnkpXHJcbiAgICB0aGlzLmNvbnRleHQucm90YXRlKGFuZ2xlKVxyXG4gICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICB0aGlzLmNvbnRleHQubW92ZVRvKDAsIDApXHJcbiAgICB0aGlzLmNvbnRleHQubGluZVRvKDUsIDE0KVxyXG4gICAgdGhpcy5jb250ZXh0LmxpbmVUbygtNSwgMTQpXHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAwMDAnXHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbCgpXHJcbiAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRlKC10aGlzLmRyYXdFbmRQb3NpdGlvbi54LCAtdGhpcy5kcmF3RW5kUG9zaXRpb24ueSlcclxuICB9XHJcbiAgZHJhd1JlZmVyTWFyayAoZW5kKSB7XHJcbiAgICBsZXQgcG9zaXRpb25cclxuICAgIGlmIChlbmQgPT09ICdzcmMnKSB7XHJcbiAgICAgIHBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueCxcclxuICAgICAgICB5OiB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHBvc2l0aW9uID0ge1xyXG4gICAgICAgIHg6IHRoaXMuZHJhd0VuZFBvc2l0aW9uLngsXHJcbiAgICAgICAgeTogdGhpcy5kcmF3RW5kUG9zaXRpb24ueVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgIHRoaXMuY29udGV4dC5hcmMocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgMTAsIDAsIDIgKiBNYXRoLlBJKVxyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDIzNywgNjUsIDY1LCAwLjUpJ1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGwoKVxyXG4gIH1cclxuICBjYWxjRHJhd2luZ0JlZ2luRW5kUG9pbnRzICgpIHtcclxuICAgIGlmICgodGhpcy5kZXN0LnBvc2l0aW9uLnggLSB0aGlzLnNyYy5wb3NpdGlvbi54KSA+PSAwKSB7XHJcbiAgICAgIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueCA9IDEwXHJcbiAgICAgIHRoaXMuZHJhd0VuZFBvc2l0aW9uLnggPSB0aGlzLndpZHRoIC0gMTBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnggPSB0aGlzLndpZHRoIC0gMTBcclxuICAgICAgdGhpcy5kcmF3RW5kUG9zaXRpb24ueCA9IDEwXHJcbiAgICB9XHJcbiAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi55IC0gdGhpcy5zcmMucG9zaXRpb24ueSkgPj0gMCkge1xyXG4gICAgICB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnkgPSAxMFxyXG4gICAgICB0aGlzLmRyYXdFbmRQb3NpdGlvbi55ID0gdGhpcy5oZWlnaHQgLSAxMFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueSA9IHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgICAgdGhpcy5kcmF3RW5kUG9zaXRpb24ueSA9IDEwXHJcbiAgICB9XHJcbiAgfVxyXG4gIGNhbGNKdWRnaW5nQmVnaW5FbmRQb2ludHMgKCkge1xyXG4gICAgbGV0IHgxLCB4MiwgeTEsIHkyXHJcbiAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi54IC0gdGhpcy5zcmMucG9zaXRpb24ueCkgPj0gMCkge1xyXG4gICAgICB4MSA9IHRoaXMubGVmdCArIDEwXHJcbiAgICAgIHgyID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAtIDEwXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgeDEgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC0gMTBcclxuICAgICAgeDIgPSB0aGlzLmxlZnQgKyAxMFxyXG4gICAgfVxyXG4gICAgaWYgKCh0aGlzLmRlc3QucG9zaXRpb24ueSAtIHRoaXMuc3JjLnBvc2l0aW9uLnkpID49IDApIHtcclxuICAgICAgeTEgPSB0aGlzLnRvcCArIDEwXHJcbiAgICAgIHkyID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAtIDEwXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgeTEgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgICAgeTIgPSB0aGlzLnRvcCArIDEwXHJcbiAgICB9XHJcbiAgICByZXR1cm4gWyB4MSwgeTEsIHgyLCB5MiBdXHJcbiAgfVxyXG4gIGNsZWFyQ2FudmFzICgpIHtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aFxyXG4gIH1cclxuICBjYWxjQXJyb3dBbmdsZSAoKSB7XHJcbiAgICBsZXQgYW5nbGVcclxuICAgIHN3aXRjaCAodGhpcy5saW5rZXJUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N0cmFpZ2h0JzpcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMuZGVzdC5wb3NpdGlvbi54IC0gdGhpcy5zcmMucG9zaXRpb24ueFxyXG4gICAgICAgIGxldCBvZmZzZXRZID0gdGhpcy5kZXN0LnBvc2l0aW9uLnkgLSB0aGlzLnNyYy5wb3NpdGlvbi55XHJcbiAgICAgICAgaWYgKG9mZnNldFkgPT09IDApIHtcclxuICAgICAgICAgIGFuZ2xlID0gKG9mZnNldFggPj0gMCkgPyBNYXRoLlBJIC8gMiA6IC0gTWF0aC5QSSAvIDJcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2Zmc2V0WSA8IDApIHtcclxuICAgICAgICAgIGFuZ2xlID0gTWF0aC5hdGFuKG9mZnNldFggLyAtb2Zmc2V0WSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBhbmdsZSA9IE1hdGguUEkgLSBNYXRoLmF0YW4ob2Zmc2V0WCAvIG9mZnNldFkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdiZXppZXInOlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFuZ2xlXHJcbiAgfVxyXG4gIGRyYXdMaW5lQm9keSAoKSB7XHJcbiAgICBzd2l0Y2ggKHRoaXMubGlua2VyVHlwZSkge1xyXG4gICAgICBjYXNlICdzdHJhaWdodCc6XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyh0aGlzLmRyYXdCZWdpblBvc2l0aW9uLngsIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueSlcclxuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHRoaXMuZHJhd0VuZFBvc2l0aW9uLngsIHRoaXMuZHJhd0VuZFBvc2l0aW9uLnkpXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Jlemllcic6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRyYXcgKHJlZmVyTWFyaywgaXNTZWxlY3RlZCkge1xyXG4gICAgdGhpcy5jbGVhckNhbnZhcygpXHJcbiAgICB0aGlzLnJlc2V0RHJhd1N0eWxlKClcclxuICAgIHRoaXMuY2FsY0RyYXdpbmdCZWdpbkVuZFBvaW50cygpXHJcblxyXG4gICAgaWYgKHJlZmVyTWFyaykge1xyXG4gICAgICB0aGlzLmRyYXdSZWZlck1hcmsocmVmZXJNYXJrKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZHJhd0xpbmVCb2R5KClcclxuICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDIzNywgNjUsIDY1LCAwLjE1KSdcclxuICAgICAgdGhpcy5jb250ZXh0LmxpbmVXaWR0aCA9IDZcclxuICAgICAgdGhpcy5kcmF3TGluZUJvZHkoKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZHJhd0Fycm93KHRoaXMuY2FsY0Fycm93QW5nbGUoKSlcclxuICB9XHJcbiAgLy8gSnVkZ2Ugd2hldGhlciBhIHBvaW50IGlzIGluIHRoZSByZWN0YW5nbGUgYXJlYSB3aGljaCBpcyBjb3ZlcmVkIGJ5XHJcbiAgaXNQb2ludEluTGluZVJlY3RhbmdsZSAoeCwgeSkge1xyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIgXSA9IHRoaXMuY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cygpXHJcbiAgICBsZXQgeEJpZyA9ICh4MSA+PSB4MikgPyB4MSA6IHgyXHJcbiAgICBsZXQgeFNtYWxsID0gKHhCaWcgPT09IHgyKSA/IHgxIDogeDJcclxuICAgIGxldCB5QmlnID0gKHkxID49IHkyKSA/IHkxIDogeTJcclxuICAgIGxldCB5U21hbGwgPSAoeUJpZyA9PT0geTIpID8geTEgOiB5MlxyXG5cclxuICAgIC8vIFRoZSBjYWxjdWxhdGVkIHJlc3VsdCBvZiBwb2ludCBtaWdodCBub3QgYmUgYWNjdXJhdGUsXHJcbiAgICAvLyBpdCB3aWxsIGVmZmVjdCB0aGUganVkZ2VtZW50IHdoZW4geDEgPT09IHgyIG9yIHkxID09PSB5Mi5cclxuICAgIC8vIFNvLCBpdCByZXF1aXJlcyBhIHNtYWxsIGVub3VnaCBudW1iZXIgdG8gaGVscC5cclxuICAgIHJldHVybiAoeCA8PSB4QmlnICsgZGVsdGEgJiYgeCA+PSB4U21hbGwgLSBkZWx0YVxyXG4gICAgICAmJiB5IDw9IHlCaWcgKyBkZWx0YSAmJiB5ID49IHlTbWFsbCAtIGRlbHRhKVxyXG4gIH1cclxuICBpc0luTGluZSAoeCwgeSwgZW5kRXhjbHVkZWQpIHtcclxuICAgIGlmICghZW5kRXhjbHVkZWQpIHtcclxuICAgICAgaWYgKHRoaXMuaXNJbkxpbmVFbmQoeCwgeSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIgXSA9IHRoaXMuY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cygpXHJcbiAgICBzd2l0Y2ggICh0aGlzLmxpbmtlclR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyYWlnaHQnOlxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSBwb2ludCB0byBsaW5lLlxyXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IGNhbGNQb2ludFRvTGluZURpc3RhbmNlKFt4LCB5XSwgW3gxLCB5MSwgeDIsIHkyXSlcclxuICAgICAgICBsZXQgZm9vdCA9IGNhbGNQb2ludFRvTGluZUZvb3QoW3gsIHldLCBbeDEsIHkxLCB4MiwgeTJdKVxyXG5cclxuICAgICAgICByZXR1cm4gKGRpc3RhbmNlIDw9IGxpbmVBcmVhV2lkdGggJiYgZGlzdGFuY2UgPj0gLWxpbmVBcmVhV2lkdGhcclxuICAgICAgICAgICYmIHRoaXMuaXNQb2ludEluTGluZVJlY3RhbmdsZShmb290LngsIGZvb3QueSkpXHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdiZXppZXInOlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBpc0luTGluZUVuZCAoeCwgeSkge1xyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIgXSA9IHRoaXMuY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cygpXHJcbiAgICBsZXQgZGlzdGFuY2VTcmMgPSBjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UoW3gsIHldLCBbeDEsIHkxXSlcclxuICAgIGxldCBkaXN0YW5jZURlc3QgPSBjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UoW3gsIHldLCBbeDIsIHkyXSlcclxuXHJcbiAgICBpZiAoZGlzdGFuY2VEZXN0IDw9IGxpbmVBcmVhV2lkdGgpIHtcclxuICAgICByZXR1cm4gJ2xpbmVEZXN0J1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGlzdGFuY2VTcmMgPD0gbGluZUFyZWFXaWR0aCkge1xyXG4gICAgICByZXR1cm4gJ2xpbmVTcmMnXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuICBqdWRnZUluU2hhcGUgKHgsIHkpIHtcclxuICAgIGxldCB0eXBlID0gdGhpcy5pc0luTGluZUVuZCh4LCB5KVxyXG4gICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgIHR5cGUgPSB0aGlzLmlzSW5MaW5lKHgsIHksIHRydWUpID8gJ2xpbmVCb2R5JyA6ICdlbXB0eSdcclxuICAgIH1cclxuICAgIHJldHVybiB7IHNoYXBlOiB0aGlzLCB0eXBlOiB0eXBlIH1cclxuICB9XHJcbiAgY2FsbFNoYXBlc1RvRGV0YWNoICgpIHtcclxuICAgIGlmICh0aGlzLnNyYy5zaGFwZSkge1xyXG4gICAgICB0aGlzLnNyYy5zaGFwZS5kZWxldGVMaW5lKHRoaXMpXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kZXN0LnNoYXBlKSB7XHJcbiAgICAgIHRoaXMuZGVzdC5zaGFwZS5kZWxldGVMaW5lKHRoaXMpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaW5lXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvc2hhcGVzL2xpbmUuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calcPointToPointDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcPointToLineDistance; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common__ = __webpack_require__(3);\n\r\n\r\nfunction calcPointToPointDistance (pointA, pointB) {\r\n  let [x1, y1, x2, y2] = [pointA[0], pointA[1], pointB[0], pointB[1]]\r\n  return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2))\r\n}\r\n\r\nfunction calcPointToLineDistance (point, line) {\r\n  let [x, y] = Object(__WEBPACK_IMPORTED_MODULE_0__common__[\"b\" /* generalizePoint */])(point)\r\n  let [A, B, C] = Object(__WEBPACK_IMPORTED_MODULE_0__common__[\"a\" /* generalizeLine */])(line)\r\n  return (A * x + B * y + C) / Math.sqrt(A * A + B * B)\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9jb3JlL2NhbGN1bGF0aW9uL2NhbGNEaXN0YW5jZS5qcz82YmYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Z2VuZXJhbGl6ZUxpbmUsIGdlbmVyYWxpemVQb2ludH0gZnJvbSBcIi4vY29tbW9uXCI7XHJcblxyXG5mdW5jdGlvbiBjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UgKHBvaW50QSwgcG9pbnRCKSB7XHJcbiAgbGV0IFt4MSwgeTEsIHgyLCB5Ml0gPSBbcG9pbnRBWzBdLCBwb2ludEFbMV0sIHBvaW50QlswXSwgcG9pbnRCWzFdXVxyXG4gIHJldHVybiBNYXRoLnNxcnQoKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjUG9pbnRUb0xpbmVEaXN0YW5jZSAocG9pbnQsIGxpbmUpIHtcclxuICBsZXQgW3gsIHldID0gZ2VuZXJhbGl6ZVBvaW50KHBvaW50KVxyXG4gIGxldCBbQSwgQiwgQ10gPSBnZW5lcmFsaXplTGluZShsaW5lKVxyXG4gIHJldHVybiAoQSAqIHggKyBCICogeSArIEMpIC8gTWF0aC5zcXJ0KEEgKiBBICsgQiAqIEIpXHJcbn1cclxuXHJcbmV4cG9ydCB7Y2FsY1BvaW50VG9Qb2ludERpc3RhbmNlLCBjYWxjUG9pbnRUb0xpbmVEaXN0YW5jZX1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9jb3JlL2NhbGN1bGF0aW9uL2NhbGNEaXN0YW5jZS5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function backgroundDraw(el, backgroundWidth, backgroundHeight, backgroundSpacing) {\r\n  if (!el) { return }\r\n\r\n  let context = el.getContext('2d')\r\n  let width = backgroundWidth ? backgroundWidth : 1250\r\n  let height = backgroundHeight ? backgroundHeight : 1500\r\n  let spacing = backgroundSpacing ? backgroundSpacing : 15\r\n\r\n  el.width = width\r\n  el.height = height\r\n\r\n  let countX = Math.ceil(width / spacing)\r\n  let countY = Math.ceil(height / spacing)\r\n\r\n  context.strokeStyle = '#dcdcdc'\r\n  for (let i = 0; i < countX; i++) {\r\n    context.beginPath()\r\n    context.moveTo(i * spacing, 0)\r\n    if (i % 5 === 0)\r\n      context.lineWidth = 2\r\n    else context.lineWidth = 1\r\n    context.lineTo(i * spacing, height)\r\n    context.stroke()\r\n  }\r\n  for (let i = 0; i < countY; i++) {\r\n    context.beginPath()\r\n    context.moveTo(0, i * spacing)\r\n    if (i % 5 === 0)\r\n      context.lineWidth = 2\r\n    else context.lineWidth = 1\r\n    context.lineTo(width, i * spacing)\r\n    context.stroke()\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (backgroundDraw);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9kcmF3L2JhY2tncm91bmQuanM/MjI1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBiYWNrZ3JvdW5kRHJhdyhlbCwgYmFja2dyb3VuZFdpZHRoLCBiYWNrZ3JvdW5kSGVpZ2h0LCBiYWNrZ3JvdW5kU3BhY2luZykge1xyXG4gIGlmICghZWwpIHsgcmV0dXJuIH1cclxuXHJcbiAgbGV0IGNvbnRleHQgPSBlbC5nZXRDb250ZXh0KCcyZCcpXHJcbiAgbGV0IHdpZHRoID0gYmFja2dyb3VuZFdpZHRoID8gYmFja2dyb3VuZFdpZHRoIDogMTI1MFxyXG4gIGxldCBoZWlnaHQgPSBiYWNrZ3JvdW5kSGVpZ2h0ID8gYmFja2dyb3VuZEhlaWdodCA6IDE1MDBcclxuICBsZXQgc3BhY2luZyA9IGJhY2tncm91bmRTcGFjaW5nID8gYmFja2dyb3VuZFNwYWNpbmcgOiAxNVxyXG5cclxuICBlbC53aWR0aCA9IHdpZHRoXHJcbiAgZWwuaGVpZ2h0ID0gaGVpZ2h0XHJcblxyXG4gIGxldCBjb3VudFggPSBNYXRoLmNlaWwod2lkdGggLyBzcGFjaW5nKVxyXG4gIGxldCBjb3VudFkgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gc3BhY2luZylcclxuXHJcbiAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjZGNkY2RjJ1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnRYOyBpKyspIHtcclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgIGNvbnRleHQubW92ZVRvKGkgKiBzcGFjaW5nLCAwKVxyXG4gICAgaWYgKGkgJSA1ID09PSAwKVxyXG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDJcclxuICAgIGVsc2UgY29udGV4dC5saW5lV2lkdGggPSAxXHJcbiAgICBjb250ZXh0LmxpbmVUbyhpICogc3BhY2luZywgaGVpZ2h0KVxyXG4gICAgY29udGV4dC5zdHJva2UoKVxyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50WTsgaSsrKSB7XHJcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICBjb250ZXh0Lm1vdmVUbygwLCBpICogc3BhY2luZylcclxuICAgIGlmIChpICUgNSA9PT0gMClcclxuICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyXHJcbiAgICBlbHNlIGNvbnRleHQubGluZVdpZHRoID0gMVxyXG4gICAgY29udGV4dC5saW5lVG8od2lkdGgsIGkgKiBzcGFjaW5nKVxyXG4gICAgY29udGV4dC5zdHJva2UoKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYmFja2dyb3VuZERyYXdcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kcmF3L2RyYXcvYmFja2dyb3VuZC5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return eventList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getEventHandlers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__dragNewComponent__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shapeEvent__ = __webpack_require__(15);\n\r\n\r\n\r\nlet eventList = ['mousedown', 'mousemove', 'mouseup', 'dblclick', 'keydown']\r\n\r\nfunction getEventHandlers (eventType) {\r\n  switch (eventType) {\r\n    case 'mousedown': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"a\" /* dragNewComponentMouseDown */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"c\" /* shapeEventOnMouseDown */]]\r\n    case 'mousemove': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"b\" /* dragNewComponetMouseMove */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"d\" /* shapeEventOnMouseMove */]]\r\n    case 'mouseup': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"c\" /* dragNewComponetMouseUp */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"e\" /* shapeEventOnMouseUp */]]\r\n    case 'dblclick': return [__WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"a\" /* shapeEventOnDblClick */]]\r\n    case 'keydown': return [__WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"b\" /* shapeEventOnKeyDown */]]\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9jb3JlL2V2ZW50cy9pbmRleC5qcz83ZTAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biwgZHJhZ05ld0NvbXBvbmV0TW91c2VNb3ZlLCBkcmFnTmV3Q29tcG9uZXRNb3VzZVVwfSBmcm9tICcuL2RyYWdOZXdDb21wb25lbnQnXHJcbmltcG9ydCB7c2hhcGVFdmVudE9uTW91c2VNb3ZlLCBzaGFwZUV2ZW50T25Nb3VzZURvd24sIHNoYXBlRXZlbnRPbk1vdXNlVXAsIHNoYXBlRXZlbnRPbkRibENsaWNrLCBzaGFwZUV2ZW50T25LZXlEb3dufSBmcm9tICcuL3NoYXBlRXZlbnQnXHJcblxyXG5sZXQgZXZlbnRMaXN0ID0gWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnLCAnZGJsY2xpY2snLCAna2V5ZG93biddXHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudEhhbmRsZXJzIChldmVudFR5cGUpIHtcclxuICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xyXG4gICAgY2FzZSAnbW91c2Vkb3duJzogcmV0dXJuIFtkcmFnTmV3Q29tcG9uZW50TW91c2VEb3duLCBzaGFwZUV2ZW50T25Nb3VzZURvd25dXHJcbiAgICBjYXNlICdtb3VzZW1vdmUnOiByZXR1cm4gW2RyYWdOZXdDb21wb25ldE1vdXNlTW92ZSwgc2hhcGVFdmVudE9uTW91c2VNb3ZlXVxyXG4gICAgY2FzZSAnbW91c2V1cCc6IHJldHVybiBbZHJhZ05ld0NvbXBvbmV0TW91c2VVcCwgc2hhcGVFdmVudE9uTW91c2VVcF1cclxuICAgIGNhc2UgJ2RibGNsaWNrJzogcmV0dXJuIFtzaGFwZUV2ZW50T25EYmxDbGlja11cclxuICAgIGNhc2UgJ2tleWRvd24nOiByZXR1cm4gW3NoYXBlRXZlbnRPbktleURvd25dXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge2V2ZW50TGlzdCwgZ2V0RXZlbnRIYW5kbGVyc31cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9jb3JlL2V2ZW50cy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return dragNewComponentMouseDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return dragNewComponetMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return dragNewComponetMouseUp; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__createNewShape__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__calculation_calcPosition__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_getUIParameters__ = __webpack_require__(4);\n\r\n\r\n\r\n\r\nlet currentShape = null\r\nlet mouseDown = false\r\n\r\nfunction dragNewComponentMouseDown (event, shapeList) {\r\n  if (!event.target.classList.contains('component-item')\r\n    || currentShape)\r\n    return\r\n  let shapeName = event.target.parentNode.getAttribute('shapename')\r\n\r\n  currentShape = Object(__WEBPACK_IMPORTED_MODULE_0__createNewShape__[\"b\" /* createNewShape */])(shapeName)\r\n  currentShape.el.style.position = 'fixed'\r\n  currentShape.setPosition(event.clientX - currentShape.width / 2, event.clientY - currentShape.height / 2)\r\n  currentShape.draw()\r\n  currentShape.append()\r\n\r\n  mouseDown = true\r\n}\r\n\r\nfunction dragNewComponetMouseMove (event, shapeList) {\r\n  if (currentShape && mouseDown) {\r\n    currentShape.setPosition(event.clientX - currentShape.width / 2, event.clientY - currentShape.height / 2)\r\n  }\r\n}\r\n\r\nfunction dragNewComponetMouseUp (event, shapeList) {\r\n  mouseDown = false\r\n\r\n  if (currentShape && event.clientX <= Object(__WEBPACK_IMPORTED_MODULE_2__common_getUIParameters__[\"a\" /* default */])().canvasLeft) {\r\n    currentShape.remove()\r\n  }\r\n  else if (currentShape) {\r\n    //let left = (event.clientX - currentShape.width / 2 - toolbarWidth) - (padding - drawLayout.scrollLeft)\r\n    //let top = (event.clientY - currentShape.height / 2 - headerHeight) - (padding - drawLayout.scrollTop)\r\n    let position = Object(__WEBPACK_IMPORTED_MODULE_1__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.clientX, event.clientY)\r\n    let left = position.x - currentShape.width / 2\r\n    let top = position.y - currentShape.height / 2\r\n\r\n    currentShape.setPosition(left, top)\r\n    currentShape.el.style.position = 'absolute'\r\n    shapeList.push(currentShape)\r\n  }\r\n\r\n  currentShape = null\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9jb3JlL2V2ZW50cy9kcmFnTmV3Q29tcG9uZW50LmpzPzM5NDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjcmVhdGVOZXdTaGFwZX0gZnJvbSAnLi4vY3JlYXRlTmV3U2hhcGUnXHJcbmltcG9ydCB7Y2FsY1Bvc2l0aW9uSW5DYW52YXN9IGZyb20gJy4uL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvbidcclxuaW1wb3J0IGdldFVJUGFyYW1ldGVycyBmcm9tICcuLi8uLi9jb21tb24vZ2V0VUlQYXJhbWV0ZXJzJ1xyXG5cclxubGV0IGN1cnJlbnRTaGFwZSA9IG51bGxcclxubGV0IG1vdXNlRG93biA9IGZhbHNlXHJcblxyXG5mdW5jdGlvbiBkcmFnTmV3Q29tcG9uZW50TW91c2VEb3duIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjb21wb25lbnQtaXRlbScpXHJcbiAgICB8fCBjdXJyZW50U2hhcGUpXHJcbiAgICByZXR1cm5cclxuICBsZXQgc2hhcGVOYW1lID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdzaGFwZW5hbWUnKVxyXG5cclxuICBjdXJyZW50U2hhcGUgPSBjcmVhdGVOZXdTaGFwZShzaGFwZU5hbWUpXHJcbiAgY3VycmVudFNoYXBlLmVsLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xyXG4gIGN1cnJlbnRTaGFwZS5zZXRQb3NpdGlvbihldmVudC5jbGllbnRYIC0gY3VycmVudFNoYXBlLndpZHRoIC8gMiwgZXZlbnQuY2xpZW50WSAtIGN1cnJlbnRTaGFwZS5oZWlnaHQgLyAyKVxyXG4gIGN1cnJlbnRTaGFwZS5kcmF3KClcclxuICBjdXJyZW50U2hhcGUuYXBwZW5kKClcclxuXHJcbiAgbW91c2VEb3duID0gdHJ1ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmFnTmV3Q29tcG9uZXRNb3VzZU1vdmUgKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBpZiAoY3VycmVudFNoYXBlICYmIG1vdXNlRG93bikge1xyXG4gICAgY3VycmVudFNoYXBlLnNldFBvc2l0aW9uKGV2ZW50LmNsaWVudFggLSBjdXJyZW50U2hhcGUud2lkdGggLyAyLCBldmVudC5jbGllbnRZIC0gY3VycmVudFNoYXBlLmhlaWdodCAvIDIpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmFnTmV3Q29tcG9uZXRNb3VzZVVwIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgbW91c2VEb3duID0gZmFsc2VcclxuXHJcbiAgaWYgKGN1cnJlbnRTaGFwZSAmJiBldmVudC5jbGllbnRYIDw9IGdldFVJUGFyYW1ldGVycygpLmNhbnZhc0xlZnQpIHtcclxuICAgIGN1cnJlbnRTaGFwZS5yZW1vdmUoKVxyXG4gIH1cclxuICBlbHNlIGlmIChjdXJyZW50U2hhcGUpIHtcclxuICAgIC8vbGV0IGxlZnQgPSAoZXZlbnQuY2xpZW50WCAtIGN1cnJlbnRTaGFwZS53aWR0aCAvIDIgLSB0b29sYmFyV2lkdGgpIC0gKHBhZGRpbmcgLSBkcmF3TGF5b3V0LnNjcm9sbExlZnQpXHJcbiAgICAvL2xldCB0b3AgPSAoZXZlbnQuY2xpZW50WSAtIGN1cnJlbnRTaGFwZS5oZWlnaHQgLyAyIC0gaGVhZGVySGVpZ2h0KSAtIChwYWRkaW5nIC0gZHJhd0xheW91dC5zY3JvbGxUb3ApXHJcbiAgICBsZXQgcG9zaXRpb24gPSBjYWxjUG9zaXRpb25JbkNhbnZhcyhldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKVxyXG4gICAgbGV0IGxlZnQgPSBwb3NpdGlvbi54IC0gY3VycmVudFNoYXBlLndpZHRoIC8gMlxyXG4gICAgbGV0IHRvcCA9IHBvc2l0aW9uLnkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMlxyXG5cclxuICAgIGN1cnJlbnRTaGFwZS5zZXRQb3NpdGlvbihsZWZ0LCB0b3ApXHJcbiAgICBjdXJyZW50U2hhcGUuZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICBzaGFwZUxpc3QucHVzaChjdXJyZW50U2hhcGUpXHJcbiAgfVxyXG5cclxuICBjdXJyZW50U2hhcGUgPSBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCB7ZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biwgZHJhZ05ld0NvbXBvbmV0TW91c2VNb3ZlLCBkcmFnTmV3Q29tcG9uZXRNb3VzZVVwfVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kcmF3L2NvcmUvZXZlbnRzL2RyYWdOZXdDb21wb25lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return shapeEventOnMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return shapeEventOnMouseDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return shapeEventOnMouseUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return shapeEventOnDblClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return shapeEventOnKeyDown; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_controller__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__createNewShape__ = __webpack_require__(5);\n\r\n\r\n\r\n\r\nlet shapeController = {\r\n  el: null,\r\n  canvas: null,\r\n  init: function () {\r\n    this.el = document.getElementById('shape_controls')\r\n    this.canvas = document.getElementById('controls_bounding')\r\n  },\r\n  reset: function (left, top, width, height) {\r\n    if (!this.el) { this.init() }\r\n\r\n    this.el.style.left = left + 'px'\r\n    this.el.style.top = top + 'px'\r\n    this.el.style.width = width + 'px'\r\n    this.el.style.height = height + 'px'\r\n  },\r\n  setVisibility: function (visibility) {\r\n    if (!this.el) { this.init() }\r\n\r\n    if (visibility) {\r\n      this.el.style.display = 'block'\r\n    }\r\n    else {\r\n      this.el.style.display = 'none'\r\n    }\r\n  },\r\n  draw (width, height) {\r\n    if (!this.el) { this.init() }\r\n\r\n    return Object(__WEBPACK_IMPORTED_MODULE_1__draw_controller__[\"a\" /* default */])(this.canvas, width, height, 10)\r\n  }\r\n}\r\n\r\nlet activeShape = null\r\nlet selectedShape = null\r\nlet clickOffset = {\r\n  x: 0,\r\n  y: 0\r\n}\r\nlet activeDirection = null\r\nlet resizeData = {\r\n  beginX: 0,\r\n  beginY: 0,\r\n  originWidth: 0,\r\n  originHeight: 0,\r\n  originLeft: 0,\r\n  originTop: 0\r\n}\r\n\r\nlet lineData = {\r\n  selectedLine: null,\r\n  isActive: false,\r\n  src: {\r\n    position: null,\r\n    referPercent: null,\r\n    referPosition: null,\r\n    shape: null\r\n  },\r\n  dest: {\r\n    position: null,\r\n    referPercent: null,\r\n    referPosition: null,\r\n    shape: null\r\n  },\r\n  activeLine: null,\r\n  type: null,\r\n  // This value only works when creating a new line\r\n  needDeleted: false\r\n\r\n  // Type values: 'new', 'toDest', 'toSrc'\r\n}\r\n\r\nfunction getShapeInListById (shapeId, shapeList) {\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    // If the line is being moved, ignore it\r\n    if (lineData.activeLine === shapeList[i]) {\r\n      continue\r\n    }\r\n    if (shapeList[i].id === shapeId)\r\n      return shapeList[i]\r\n  }\r\n  return null\r\n}\r\n\r\nfunction deleteShapeInListById (shapeId, shapeList) {\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    if (shapeId === shapeList[i].id) {\r\n      let shape = shapeList.splice(i, 1)[0]\r\n      shape.destruct()\r\n      shape = null\r\n      return\r\n    }\r\n  }\r\n}\r\n\r\nfunction isShapeInListById (shapeId, shapeList) {\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    if (shapeId === shapeList[i].id) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nfunction judgeInShapeList (position, shapeList, dir) {\r\n  dir = (typeof dir !== 'undefined') ? dir : 1\r\n  let length = shapeList.length\r\n  let index = (dir > 0) ? 0 : length - 1\r\n  let result\r\n  for (; index >= 0 && index < length; index += dir) {\r\n    // If the line is being moved, ignore it.\r\n    if (lineData.isActive && shapeList[index] === lineData.activeLine) {\r\n      continue\r\n    }\r\n    if (shapeList[index].judgeInShape) {\r\n      result = shapeList[index].judgeInShape(position.x, position.y)\r\n      if (result.type !== 'empty')\r\n        return result\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nfunction judgeEventAt (event, shapeList) {\r\n  if (!event.target || !event.target.classList) {\r\n    return { shape: null, type: 'empty' }\r\n  }\r\n\r\n  let result, shape\r\n  let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.clientX, event.clientY)\r\n\r\n  if (event.target.classList.contains('shape_controller')) {\r\n    return {\r\n      shape: selectedShape,\r\n      type: 'controller'\r\n    }\r\n  }\r\n  else if (event.target.parentNode.getAttribute\r\n    && event.target.parentNode.getAttribute('id') === 'shape_controls') {\r\n    // For now, the selected shape has no priority\r\n    // which is the same as processon's work.\r\n    result = judgeInShapeList(position, shapeList, -1)\r\n    if (result) {\r\n      result.topElement = shapeController.el\r\n    }\r\n    return result\r\n  }\r\n  else if (event.target.parentNode.classList\r\n    && event.target.parentNode.classList.contains('shape-box')) {\r\n    let shapeId = event.target.parentNode.getAttribute('shapeid')\r\n    shape = getShapeInListById(shapeId, shapeList)\r\n\r\n    if (!shape) {\r\n      // Judge whether the shape is already put into the shape list.\r\n      // It happens when users try to drag a new line.\r\n      // TopShape is undefined here.\r\n      return judgeInShapeList(position, shapeList, -1)\r\n    }\r\n    else {\r\n      // Common shape or line will work the same way.\r\n      result = shape.judgeInShape(position.x, position.y)\r\n      result.topElement = shape.el\r\n      if (result && result.type !== 'empty') {\r\n        return result\r\n      }\r\n      else {\r\n        let resultInList = judgeInShapeList(position, shapeList, -1)\r\n        if (resultInList) {\r\n          resultInList.topElement = shape.el\r\n        }\r\n        return (resultInList ? resultInList : result)\r\n      }\r\n    }\r\n  }\r\n\r\n  return { shape: null, type: 'empty' }\r\n\r\n  // type values: lineBody, lineDest, lineSrc\r\n  //              shapeBody, shapeLineArea\r\n  //              controller\r\n  //              empty\r\n}\r\n\r\nfunction shapeEventOnMouseDown (event, shapeList) {\r\n  let judgeResult = judgeEventAt(event, shapeList)\r\n  if (!judgeResult) {\r\n    shapeController.setVisibility(false)\r\n    return\r\n  }\r\n\r\n  let shape = judgeResult.shape, type = judgeResult.type\r\n  let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.clientX, event.clientY)\r\n  switch (type) {\r\n    case 'lineBody':\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n      }\r\n      lineData.selectedLine = shape\r\n      shape.draw(null, true)\r\n      selectedShape = null\r\n      shapeController.setVisibility(false)\r\n      break;\r\n    case 'lineDest':\r\n    case 'lineSrc':\r\n      selectedShape = null\r\n      shapeController.setVisibility(false)\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n      }\r\n      lineData.selectedLine = shape\r\n      shape.draw(null, true)\r\n      lineData.activeLine = shape\r\n      lineData.isActive = true\r\n      let reference\r\n      if (shape.dest.shape) {\r\n        reference = shape.dest.shape.getLineData(shape)\r\n        lineData.dest = {\r\n          shape: shape.dest.shape,\r\n          referPosition: reference.referPosition,\r\n          referPercent: reference.referPercent,\r\n          position: shape.dest.position\r\n        }\r\n      }\r\n      if (shape.src.shape) {\r\n        reference = shape.src.shape.getLineData(shape)\r\n        lineData.src = {\r\n          shape: shape.src.shape,\r\n          referPosition: reference.referPosition,\r\n          referPercent: reference.referPercent,\r\n          position: shape.src.position\r\n        }\r\n      }\r\n      lineData.src.position = shape.src.position\r\n\r\n      if (type === 'lineDest') {\r\n        if (shape.dest.shape) {\r\n          shape.dest.shape.deleteLine(shape)\r\n        }\r\n        lineData.type = 'toDest'\r\n      }\r\n      else {\r\n        if (shape.src.shape) {\r\n          shape.src.shape.deleteLine(shape)\r\n        }\r\n        lineData.type = 'toSrc'\r\n      }\r\n      break;\r\n    case 'shapeBody':\r\n      shapeController.reset(shape.left, shape.top, shape.width, shape.height)\r\n      shapeController.setVisibility(true)\r\n      shapeController.draw(shape.width, shape.height)\r\n\r\n      activeShape = shape\r\n      clickOffset.x = event.clientX - shape.left\r\n      clickOffset.y = event.clientY - shape.top\r\n\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n        lineData.selectedLine = null\r\n      }\r\n      break;\r\n    case 'shapeLineArea':\r\n      let lineReference = shape.getLineReference(position.x, position.y)\r\n\r\n      lineData.src = {\r\n        position: lineReference.position,\r\n        referPosition: lineReference.referPosition,\r\n        referPercent: lineReference.referPercent,\r\n        shape: shape\r\n      }\r\n      lineData.isActive = true\r\n      lineData.type = 'new'\r\n\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n        lineData.selectedLine = null\r\n      }\r\n      break;\r\n    case 'controller':\r\n      activeDirection = event.target.getAttribute('resizedir')\r\n      resizeData.beginX = event.clientX\r\n      resizeData.beginY = event.clientY\r\n      resizeData.originWidth = selectedShape.width\r\n      resizeData.originHeight = selectedShape.height\r\n      resizeData.originLeft = selectedShape.left\r\n      resizeData.originTop = selectedShape.top\r\n      break;\r\n    case 'empty':\r\n    default:\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n        lineData.selectedLine = null\r\n      }\r\n      selectedShape = null\r\n      shapeController.setVisibility(false)\r\n  }\r\n}\r\n\r\nfunction redrawActiveLine (shape, reference, mark) {\r\n  if (lineData.type === 'toSrc') {\r\n    let src = {\r\n      shape: shape,\r\n      position: reference.position\r\n    }\r\n    lineData.src = {\r\n      shape: shape,\r\n      position: reference.position,\r\n      referPosition: (reference.referPosition) ? reference.referPosition : null,\r\n      referPercent: (reference.referPercent) ? reference.referPercent : null\r\n    }\r\n    lineData.activeLine.resetSrc(src)\r\n  }\r\n  else {\r\n    let dest = {\r\n      shape: shape,\r\n      position: reference.position\r\n    }\r\n    lineData.dest = {\r\n      shape: shape,\r\n      position: reference.position,\r\n      referPosition: (typeof reference.referPosition !== 'undefined') ? reference.referPosition : null,\r\n      referPercent: (typeof reference.referPercent !== 'undefined') ? reference.referPercent : null\r\n    }\r\n    lineData.activeLine.resetDest(dest)\r\n  }\r\n  lineData.activeLine.draw(mark, !!lineData.selectedLine)\r\n}\r\n\r\nfunction shapeEventOnMouseMove (event, shapeList) {\r\n  if (lineData.isActive) {\r\n    let src, dest\r\n    if (!lineData.activeLine) {\r\n      src = {\r\n        shape: lineData.src.shape,\r\n        position: lineData.src.position\r\n      }\r\n      dest = {\r\n        shape: null,\r\n        position: Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.clientX, event.clientY)\r\n      }\r\n\r\n      lineData.activeLine = Object(__WEBPACK_IMPORTED_MODULE_2__createNewShape__[\"a\" /* createNewLine */])(src, dest)\r\n      lineData.activeLine.draw()\r\n      lineData.activeLine.append()\r\n    }\r\n    else {\r\n      let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.clientX, event.clientY)\r\n      let judgeResult = judgeEventAt(event, shapeList)\r\n      if (!judgeResult) {\r\n        redrawActiveLine(null, {position: position})\r\n        return\r\n      }\r\n\r\n      let shape = judgeResult.shape\r\n      lineData.needDeleted = false\r\n      switch (judgeResult.type) {\r\n        case 'shapeBody':\r\n        case 'shapeLineArea':\r\n          let fromShapeId\r\n          if (lineData.type === 'toSrc') {\r\n            fromShapeId = (lineData.dest.shape) ? lineData.dest.shape.id : null\r\n          }\r\n          else {\r\n            fromShapeId = (lineData.src.shape) ? lineData.src.shape.id : null\r\n          }\r\n          if (fromShapeId === shape.id) {\r\n            lineData.needDeleted = true\r\n            redrawActiveLine(null, {position: position})\r\n          }\r\n          else {\r\n            let reference = shape.getLineReference(position.x, position.y)\r\n            if (!reference) {\r\n              return\r\n            }\r\n            let mark = (lineData.type === 'toSrc') ? 'src' : 'dest'\r\n            redrawActiveLine(shape, reference, mark)\r\n          }\r\n          break;\r\n        default:\r\n          redrawActiveLine(null, {position: position})\r\n      }\r\n    }\r\n  }\r\n  else if (activeDirection) {\r\n    let width, height, offsetX, offsetY\r\n    switch (activeDirection) {\r\n      case 'nw':\r\n        width = resizeData.beginX - event.clientX + resizeData.originWidth\r\n        height = resizeData.beginY - event.clientY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        selectedShape.setSize(width, height)\r\n        selectedShape.setPosition(resizeData.originLeft - offsetX, resizeData.originTop - offsetY)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n      case 'ne':\r\n        width = event.clientX - resizeData.beginX + resizeData.originWidth\r\n        height = resizeData.beginY - event.clientY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        selectedShape.setSize(width, height)\r\n        selectedShape.setPosition(resizeData.originLeft, resizeData.originTop - offsetY)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n      case 'se':\r\n        width = event.clientX - resizeData.beginX + resizeData.originWidth\r\n        height = event.clientY - resizeData.beginY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n\r\n        selectedShape.setSize(width, height)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n      case 'sw':\r\n        width = resizeData.beginX - event.clientX + resizeData.originWidth\r\n        height = event.clientY - resizeData.beginY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        selectedShape.setSize(width, height)\r\n        selectedShape.setPosition(resizeData.originLeft - offsetX, resizeData.originTop)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n    }\r\n    selectedShape.draw()\r\n    selectedShape.resetLinesPosition()\r\n    shapeController.draw(width, height)\r\n  }\r\n  else if (activeShape) {\r\n    let x = event.clientX - clickOffset.x\r\n    let y = event.clientY - clickOffset.y\r\n    activeShape.setPosition(x, y)\r\n    shapeController.reset(x, y, activeShape.width, activeShape.height)\r\n    activeShape.resetLinesPosition()\r\n  }\r\n  else {\r\n    let judgeResult = judgeEventAt(event, shapeList)\r\n    if (!judgeResult) { return }\r\n    let shape = judgeResult.shape\r\n    let el = (judgeResult.topElement || (shape && shape.el))\r\n    if (!el) { return }\r\n    switch (judgeResult.type) {\r\n      case 'lineBody':\r\n        el.style.cursor = 'pointer'\r\n        break;\r\n      case 'lineDest':\r\n      case 'lineSrc':\r\n        el.style.cursor = 'move'\r\n        break;\r\n      case 'shapeBody':\r\n        el.style.cursor = 'move'\r\n        break;\r\n      case 'shapeLineArea':\r\n        el.style.cursor = 'crosshair'\r\n        break;\r\n      default:\r\n        el.style.cursor = 'default'\r\n    }\r\n  }\r\n}\r\n\r\nfunction clearLineData () {\r\n  lineData.activeLine = null\r\n  lineData.isActive = false\r\n  lineData.src = {\r\n    position: null,\r\n      referPercent: null,\r\n      referPosition: null,\r\n      shape: null\r\n  }\r\n  lineData.dest = {\r\n    position: null,\r\n      referPercent: null,\r\n      referPosition: null,\r\n      shape: null\r\n  }\r\n  lineData.needDeleted = false\r\n}\r\n\r\nfunction shapeEventOnMouseUp (event, shapeList) {\r\n  if (lineData.isActive) {\r\n    let line = lineData.activeLine\r\n    if (!line) { return }\r\n    switch (lineData.type) {\r\n      case 'new':\r\n        if (lineData.needDeleted) {\r\n          line.destruct()\r\n        }\r\n        else {\r\n          if (line.src.shape) {\r\n            line.src.shape.addLine(line, 'src', lineData.src.referPosition, lineData.src.referPercent)\r\n          }\r\n          if (line.dest.shape) {\r\n            line.dest.shape.addLine(line, 'dest', lineData.dest.referPosition, lineData.dest.referPercent)\r\n          }\r\n          shapeList.push(line)\r\n        }\r\n        break;\r\n      case 'toDest':\r\n        if (line.dest.shape) {\r\n          line.dest.shape.addLine(line, 'dest', lineData.dest.referPosition, lineData.dest.referPercent)\r\n        }\r\n        break;\r\n      case 'toSrc':\r\n        if (line.src.shape) {\r\n          line.src.shape.addLine(line, 'src', lineData.src.referPosition, lineData.src.referPercent)\r\n        }\r\n        break;\r\n    }\r\n    // Remove the line mark.\r\n    line.draw(null, !!lineData.selectedLine)\r\n    clearLineData()\r\n  }\r\n  else if (activeShape) {\r\n    selectedShape = activeShape\r\n    activeShape = null\r\n  }\r\n  else if (activeDirection) {\r\n    activeDirection = null\r\n  }\r\n}\r\n\r\nfunction shapeEventOnDblClick (event, shapeList) {\r\n  let judgeResult = judgeEventAt(event, shapeList)\r\n  if (!judgeResult) { return }\r\n\r\n  switch (judgeResult.type) {\r\n    case 'shapeBody':\r\n      judgeResult.shape.shapeText.focus()\r\n      break;\r\n    default:\r\n      shapeController.setVisibility(false)\r\n  }\r\n}\r\n\r\nfunction shapeEventOnKeyDown (event, shapeList) {\r\n  if (event.key === 'Delete') {\r\n    if (selectedShape || activeShape) {\r\n      let shape = (activeShape) ? activeShape : selectedShape\r\n      let isActive = !!activeShape\r\n      shapeController.setVisibility(false)\r\n      deleteShapeInListById(shape.id, shapeList)\r\n\r\n      if (isActive) {\r\n        activeShape = null\r\n      }\r\n      selectedShape = null\r\n    }\r\n    else if (lineData.isActive || lineData.selectedLine) {\r\n      let line = (lineData.isActive) ? lineData.activeLine : lineData.selectedLine\r\n      deleteShapeInListById(line.id, shapeList)\r\n      clearLineData()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9jb3JlL2V2ZW50cy9zaGFwZUV2ZW50LmpzP2E5OGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjYWxjUG9zaXRpb25JbkNhbnZhc30gZnJvbSAnLi4vY2FsY3VsYXRpb24vY2FsY1Bvc2l0aW9uJ1xyXG5pbXBvcnQgY29udHJvbGxlckRyYXcgZnJvbSAnLi4vLi4vZHJhdy9jb250cm9sbGVyJ1xyXG5pbXBvcnQge2NyZWF0ZU5ld0xpbmV9IGZyb20gJy4uL2NyZWF0ZU5ld1NoYXBlJ1xyXG5cclxubGV0IHNoYXBlQ29udHJvbGxlciA9IHtcclxuICBlbDogbnVsbCxcclxuICBjYW52YXM6IG51bGwsXHJcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGFwZV9jb250cm9scycpXHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250cm9sc19ib3VuZGluZycpXHJcbiAgfSxcclxuICByZXNldDogZnVuY3Rpb24gKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgaWYgKCF0aGlzLmVsKSB7IHRoaXMuaW5pdCgpIH1cclxuXHJcbiAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS50b3AgPSB0b3AgKyAncHgnXHJcbiAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnXHJcbiAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcclxuICB9LFxyXG4gIHNldFZpc2liaWxpdHk6IGZ1bmN0aW9uICh2aXNpYmlsaXR5KSB7XHJcbiAgICBpZiAoIXRoaXMuZWwpIHsgdGhpcy5pbml0KCkgfVxyXG5cclxuICAgIGlmICh2aXNpYmlsaXR5KSB7XHJcbiAgICAgIHRoaXMuZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIH1cclxuICB9LFxyXG4gIGRyYXcgKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIGlmICghdGhpcy5lbCkgeyB0aGlzLmluaXQoKSB9XHJcblxyXG4gICAgcmV0dXJuIGNvbnRyb2xsZXJEcmF3KHRoaXMuY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCAxMClcclxuICB9XHJcbn1cclxuXHJcbmxldCBhY3RpdmVTaGFwZSA9IG51bGxcclxubGV0IHNlbGVjdGVkU2hhcGUgPSBudWxsXHJcbmxldCBjbGlja09mZnNldCA9IHtcclxuICB4OiAwLFxyXG4gIHk6IDBcclxufVxyXG5sZXQgYWN0aXZlRGlyZWN0aW9uID0gbnVsbFxyXG5sZXQgcmVzaXplRGF0YSA9IHtcclxuICBiZWdpblg6IDAsXHJcbiAgYmVnaW5ZOiAwLFxyXG4gIG9yaWdpbldpZHRoOiAwLFxyXG4gIG9yaWdpbkhlaWdodDogMCxcclxuICBvcmlnaW5MZWZ0OiAwLFxyXG4gIG9yaWdpblRvcDogMFxyXG59XHJcblxyXG5sZXQgbGluZURhdGEgPSB7XHJcbiAgc2VsZWN0ZWRMaW5lOiBudWxsLFxyXG4gIGlzQWN0aXZlOiBmYWxzZSxcclxuICBzcmM6IHtcclxuICAgIHBvc2l0aW9uOiBudWxsLFxyXG4gICAgcmVmZXJQZXJjZW50OiBudWxsLFxyXG4gICAgcmVmZXJQb3NpdGlvbjogbnVsbCxcclxuICAgIHNoYXBlOiBudWxsXHJcbiAgfSxcclxuICBkZXN0OiB7XHJcbiAgICBwb3NpdGlvbjogbnVsbCxcclxuICAgIHJlZmVyUGVyY2VudDogbnVsbCxcclxuICAgIHJlZmVyUG9zaXRpb246IG51bGwsXHJcbiAgICBzaGFwZTogbnVsbFxyXG4gIH0sXHJcbiAgYWN0aXZlTGluZTogbnVsbCxcclxuICB0eXBlOiBudWxsLFxyXG4gIC8vIFRoaXMgdmFsdWUgb25seSB3b3JrcyB3aGVuIGNyZWF0aW5nIGEgbmV3IGxpbmVcclxuICBuZWVkRGVsZXRlZDogZmFsc2VcclxuXHJcbiAgLy8gVHlwZSB2YWx1ZXM6ICduZXcnLCAndG9EZXN0JywgJ3RvU3JjJ1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTaGFwZUluTGlzdEJ5SWQgKHNoYXBlSWQsIHNoYXBlTGlzdCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyBJZiB0aGUgbGluZSBpcyBiZWluZyBtb3ZlZCwgaWdub3JlIGl0XHJcbiAgICBpZiAobGluZURhdGEuYWN0aXZlTGluZSA9PT0gc2hhcGVMaXN0W2ldKSB7XHJcbiAgICAgIGNvbnRpbnVlXHJcbiAgICB9XHJcbiAgICBpZiAoc2hhcGVMaXN0W2ldLmlkID09PSBzaGFwZUlkKVxyXG4gICAgICByZXR1cm4gc2hhcGVMaXN0W2ldXHJcbiAgfVxyXG4gIHJldHVybiBudWxsXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZVNoYXBlSW5MaXN0QnlJZCAoc2hhcGVJZCwgc2hhcGVMaXN0KSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChzaGFwZUlkID09PSBzaGFwZUxpc3RbaV0uaWQpIHtcclxuICAgICAgbGV0IHNoYXBlID0gc2hhcGVMaXN0LnNwbGljZShpLCAxKVswXVxyXG4gICAgICBzaGFwZS5kZXN0cnVjdCgpXHJcbiAgICAgIHNoYXBlID0gbnVsbFxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU2hhcGVJbkxpc3RCeUlkIChzaGFwZUlkLCBzaGFwZUxpc3QpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYXBlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHNoYXBlSWQgPT09IHNoYXBlTGlzdFtpXS5pZCkge1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuZnVuY3Rpb24ganVkZ2VJblNoYXBlTGlzdCAocG9zaXRpb24sIHNoYXBlTGlzdCwgZGlyKSB7XHJcbiAgZGlyID0gKHR5cGVvZiBkaXIgIT09ICd1bmRlZmluZWQnKSA/IGRpciA6IDFcclxuICBsZXQgbGVuZ3RoID0gc2hhcGVMaXN0Lmxlbmd0aFxyXG4gIGxldCBpbmRleCA9IChkaXIgPiAwKSA/IDAgOiBsZW5ndGggLSAxXHJcbiAgbGV0IHJlc3VsdFxyXG4gIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcclxuICAgIC8vIElmIHRoZSBsaW5lIGlzIGJlaW5nIG1vdmVkLCBpZ25vcmUgaXQuXHJcbiAgICBpZiAobGluZURhdGEuaXNBY3RpdmUgJiYgc2hhcGVMaXN0W2luZGV4XSA9PT0gbGluZURhdGEuYWN0aXZlTGluZSkge1xyXG4gICAgICBjb250aW51ZVxyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlTGlzdFtpbmRleF0uanVkZ2VJblNoYXBlKSB7XHJcbiAgICAgIHJlc3VsdCA9IHNoYXBlTGlzdFtpbmRleF0uanVkZ2VJblNoYXBlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpXHJcbiAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ2VtcHR5JylcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGp1ZGdlRXZlbnRBdCAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIGlmICghZXZlbnQudGFyZ2V0IHx8ICFldmVudC50YXJnZXQuY2xhc3NMaXN0KSB7XHJcbiAgICByZXR1cm4geyBzaGFwZTogbnVsbCwgdHlwZTogJ2VtcHR5JyB9XHJcbiAgfVxyXG5cclxuICBsZXQgcmVzdWx0LCBzaGFwZVxyXG4gIGxldCBwb3NpdGlvbiA9IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpXHJcblxyXG4gIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGFwZV9jb250cm9sbGVyJykpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNoYXBlOiBzZWxlY3RlZFNoYXBlLFxyXG4gICAgICB0eXBlOiAnY29udHJvbGxlcidcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlXHJcbiAgICAmJiBldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09ICdzaGFwZV9jb250cm9scycpIHtcclxuICAgIC8vIEZvciBub3csIHRoZSBzZWxlY3RlZCBzaGFwZSBoYXMgbm8gcHJpb3JpdHlcclxuICAgIC8vIHdoaWNoIGlzIHRoZSBzYW1lIGFzIHByb2Nlc3NvbidzIHdvcmsuXHJcbiAgICByZXN1bHQgPSBqdWRnZUluU2hhcGVMaXN0KHBvc2l0aW9uLCBzaGFwZUxpc3QsIC0xKVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXN1bHQudG9wRWxlbWVudCA9IHNoYXBlQ29udHJvbGxlci5lbFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuICBlbHNlIGlmIChldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3RcclxuICAgICYmIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnc2hhcGUtYm94JykpIHtcclxuICAgIGxldCBzaGFwZUlkID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdzaGFwZWlkJylcclxuICAgIHNoYXBlID0gZ2V0U2hhcGVJbkxpc3RCeUlkKHNoYXBlSWQsIHNoYXBlTGlzdClcclxuXHJcbiAgICBpZiAoIXNoYXBlKSB7XHJcbiAgICAgIC8vIEp1ZGdlIHdoZXRoZXIgdGhlIHNoYXBlIGlzIGFscmVhZHkgcHV0IGludG8gdGhlIHNoYXBlIGxpc3QuXHJcbiAgICAgIC8vIEl0IGhhcHBlbnMgd2hlbiB1c2VycyB0cnkgdG8gZHJhZyBhIG5ldyBsaW5lLlxyXG4gICAgICAvLyBUb3BTaGFwZSBpcyB1bmRlZmluZWQgaGVyZS5cclxuICAgICAgcmV0dXJuIGp1ZGdlSW5TaGFwZUxpc3QocG9zaXRpb24sIHNoYXBlTGlzdCwgLTEpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8gQ29tbW9uIHNoYXBlIG9yIGxpbmUgd2lsbCB3b3JrIHRoZSBzYW1lIHdheS5cclxuICAgICAgcmVzdWx0ID0gc2hhcGUuanVkZ2VJblNoYXBlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpXHJcbiAgICAgIHJlc3VsdC50b3BFbGVtZW50ID0gc2hhcGUuZWxcclxuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHlwZSAhPT0gJ2VtcHR5Jykge1xyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXQgcmVzdWx0SW5MaXN0ID0ganVkZ2VJblNoYXBlTGlzdChwb3NpdGlvbiwgc2hhcGVMaXN0LCAtMSlcclxuICAgICAgICBpZiAocmVzdWx0SW5MaXN0KSB7XHJcbiAgICAgICAgICByZXN1bHRJbkxpc3QudG9wRWxlbWVudCA9IHNoYXBlLmVsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAocmVzdWx0SW5MaXN0ID8gcmVzdWx0SW5MaXN0IDogcmVzdWx0KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBzaGFwZTogbnVsbCwgdHlwZTogJ2VtcHR5JyB9XHJcblxyXG4gIC8vIHR5cGUgdmFsdWVzOiBsaW5lQm9keSwgbGluZURlc3QsIGxpbmVTcmNcclxuICAvLyAgICAgICAgICAgICAgc2hhcGVCb2R5LCBzaGFwZUxpbmVBcmVhXHJcbiAgLy8gICAgICAgICAgICAgIGNvbnRyb2xsZXJcclxuICAvLyAgICAgICAgICAgICAgZW1wdHlcclxufVxyXG5cclxuZnVuY3Rpb24gc2hhcGVFdmVudE9uTW91c2VEb3duIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgbGV0IGp1ZGdlUmVzdWx0ID0ganVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgaWYgKCFqdWRnZVJlc3VsdCkge1xyXG4gICAgc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGxldCBzaGFwZSA9IGp1ZGdlUmVzdWx0LnNoYXBlLCB0eXBlID0ganVkZ2VSZXN1bHQudHlwZVxyXG4gIGxldCBwb3NpdGlvbiA9IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpXHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlICdsaW5lQm9keSc6XHJcbiAgICAgIGlmIChsaW5lRGF0YS5zZWxlY3RlZExpbmUpIHtcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUuZHJhdygpXHJcbiAgICAgIH1cclxuICAgICAgbGluZURhdGEuc2VsZWN0ZWRMaW5lID0gc2hhcGVcclxuICAgICAgc2hhcGUuZHJhdyhudWxsLCB0cnVlKVxyXG4gICAgICBzZWxlY3RlZFNoYXBlID0gbnVsbFxyXG4gICAgICBzaGFwZUNvbnRyb2xsZXIuc2V0VmlzaWJpbGl0eShmYWxzZSlcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdsaW5lRGVzdCc6XHJcbiAgICBjYXNlICdsaW5lU3JjJzpcclxuICAgICAgc2VsZWN0ZWRTaGFwZSA9IG51bGxcclxuICAgICAgc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgICAgIGlmIChsaW5lRGF0YS5zZWxlY3RlZExpbmUpIHtcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUuZHJhdygpXHJcbiAgICAgIH1cclxuICAgICAgbGluZURhdGEuc2VsZWN0ZWRMaW5lID0gc2hhcGVcclxuICAgICAgc2hhcGUuZHJhdyhudWxsLCB0cnVlKVxyXG4gICAgICBsaW5lRGF0YS5hY3RpdmVMaW5lID0gc2hhcGVcclxuICAgICAgbGluZURhdGEuaXNBY3RpdmUgPSB0cnVlXHJcbiAgICAgIGxldCByZWZlcmVuY2VcclxuICAgICAgaWYgKHNoYXBlLmRlc3Quc2hhcGUpIHtcclxuICAgICAgICByZWZlcmVuY2UgPSBzaGFwZS5kZXN0LnNoYXBlLmdldExpbmVEYXRhKHNoYXBlKVxyXG4gICAgICAgIGxpbmVEYXRhLmRlc3QgPSB7XHJcbiAgICAgICAgICBzaGFwZTogc2hhcGUuZGVzdC5zaGFwZSxcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb246IHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uLFxyXG4gICAgICAgICAgcmVmZXJQZXJjZW50OiByZWZlcmVuY2UucmVmZXJQZXJjZW50LFxyXG4gICAgICAgICAgcG9zaXRpb246IHNoYXBlLmRlc3QucG9zaXRpb25cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNoYXBlLnNyYy5zaGFwZSkge1xyXG4gICAgICAgIHJlZmVyZW5jZSA9IHNoYXBlLnNyYy5zaGFwZS5nZXRMaW5lRGF0YShzaGFwZSlcclxuICAgICAgICBsaW5lRGF0YS5zcmMgPSB7XHJcbiAgICAgICAgICBzaGFwZTogc2hhcGUuc3JjLnNoYXBlLFxyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbjogcmVmZXJlbmNlLnJlZmVyUG9zaXRpb24sXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQ6IHJlZmVyZW5jZS5yZWZlclBlcmNlbnQsXHJcbiAgICAgICAgICBwb3NpdGlvbjogc2hhcGUuc3JjLnBvc2l0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGxpbmVEYXRhLnNyYy5wb3NpdGlvbiA9IHNoYXBlLnNyYy5wb3NpdGlvblxyXG5cclxuICAgICAgaWYgKHR5cGUgPT09ICdsaW5lRGVzdCcpIHtcclxuICAgICAgICBpZiAoc2hhcGUuZGVzdC5zaGFwZSkge1xyXG4gICAgICAgICAgc2hhcGUuZGVzdC5zaGFwZS5kZWxldGVMaW5lKHNoYXBlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsaW5lRGF0YS50eXBlID0gJ3RvRGVzdCdcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoc2hhcGUuc3JjLnNoYXBlKSB7XHJcbiAgICAgICAgICBzaGFwZS5zcmMuc2hhcGUuZGVsZXRlTGluZShzaGFwZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgbGluZURhdGEudHlwZSA9ICd0b1NyYydcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3NoYXBlQm9keSc6XHJcbiAgICAgIHNoYXBlQ29udHJvbGxlci5yZXNldChzaGFwZS5sZWZ0LCBzaGFwZS50b3AsIHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpXHJcbiAgICAgIHNoYXBlQ29udHJvbGxlci5zZXRWaXNpYmlsaXR5KHRydWUpXHJcbiAgICAgIHNoYXBlQ29udHJvbGxlci5kcmF3KHNoYXBlLndpZHRoLCBzaGFwZS5oZWlnaHQpXHJcblxyXG4gICAgICBhY3RpdmVTaGFwZSA9IHNoYXBlXHJcbiAgICAgIGNsaWNrT2Zmc2V0LnggPSBldmVudC5jbGllbnRYIC0gc2hhcGUubGVmdFxyXG4gICAgICBjbGlja09mZnNldC55ID0gZXZlbnQuY2xpZW50WSAtIHNoYXBlLnRvcFxyXG5cclxuICAgICAgaWYgKGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdzaGFwZUxpbmVBcmVhJzpcclxuICAgICAgbGV0IGxpbmVSZWZlcmVuY2UgPSBzaGFwZS5nZXRMaW5lUmVmZXJlbmNlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpXHJcblxyXG4gICAgICBsaW5lRGF0YS5zcmMgPSB7XHJcbiAgICAgICAgcG9zaXRpb246IGxpbmVSZWZlcmVuY2UucG9zaXRpb24sXHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbjogbGluZVJlZmVyZW5jZS5yZWZlclBvc2l0aW9uLFxyXG4gICAgICAgIHJlZmVyUGVyY2VudDogbGluZVJlZmVyZW5jZS5yZWZlclBlcmNlbnQsXHJcbiAgICAgICAgc2hhcGU6IHNoYXBlXHJcbiAgICAgIH1cclxuICAgICAgbGluZURhdGEuaXNBY3RpdmUgPSB0cnVlXHJcbiAgICAgIGxpbmVEYXRhLnR5cGUgPSAnbmV3J1xyXG5cclxuICAgICAgaWYgKGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdjb250cm9sbGVyJzpcclxuICAgICAgYWN0aXZlRGlyZWN0aW9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgncmVzaXplZGlyJylcclxuICAgICAgcmVzaXplRGF0YS5iZWdpblggPSBldmVudC5jbGllbnRYXHJcbiAgICAgIHJlc2l6ZURhdGEuYmVnaW5ZID0gZXZlbnQuY2xpZW50WVxyXG4gICAgICByZXNpemVEYXRhLm9yaWdpbldpZHRoID0gc2VsZWN0ZWRTaGFwZS53aWR0aFxyXG4gICAgICByZXNpemVEYXRhLm9yaWdpbkhlaWdodCA9IHNlbGVjdGVkU2hhcGUuaGVpZ2h0XHJcbiAgICAgIHJlc2l6ZURhdGEub3JpZ2luTGVmdCA9IHNlbGVjdGVkU2hhcGUubGVmdFxyXG4gICAgICByZXNpemVEYXRhLm9yaWdpblRvcCA9IHNlbGVjdGVkU2hhcGUudG9wXHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZW1wdHknOlxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgaWYgKGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgc2VsZWN0ZWRTaGFwZSA9IG51bGxcclxuICAgICAgc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZWRyYXdBY3RpdmVMaW5lIChzaGFwZSwgcmVmZXJlbmNlLCBtYXJrKSB7XHJcbiAgaWYgKGxpbmVEYXRhLnR5cGUgPT09ICd0b1NyYycpIHtcclxuICAgIGxldCBzcmMgPSB7XHJcbiAgICAgIHNoYXBlOiBzaGFwZSxcclxuICAgICAgcG9zaXRpb246IHJlZmVyZW5jZS5wb3NpdGlvblxyXG4gICAgfVxyXG4gICAgbGluZURhdGEuc3JjID0ge1xyXG4gICAgICBzaGFwZTogc2hhcGUsXHJcbiAgICAgIHBvc2l0aW9uOiByZWZlcmVuY2UucG9zaXRpb24sXHJcbiAgICAgIHJlZmVyUG9zaXRpb246IChyZWZlcmVuY2UucmVmZXJQb3NpdGlvbikgPyByZWZlcmVuY2UucmVmZXJQb3NpdGlvbiA6IG51bGwsXHJcbiAgICAgIHJlZmVyUGVyY2VudDogKHJlZmVyZW5jZS5yZWZlclBlcmNlbnQpID8gcmVmZXJlbmNlLnJlZmVyUGVyY2VudCA6IG51bGxcclxuICAgIH1cclxuICAgIGxpbmVEYXRhLmFjdGl2ZUxpbmUucmVzZXRTcmMoc3JjKVxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGxldCBkZXN0ID0ge1xyXG4gICAgICBzaGFwZTogc2hhcGUsXHJcbiAgICAgIHBvc2l0aW9uOiByZWZlcmVuY2UucG9zaXRpb25cclxuICAgIH1cclxuICAgIGxpbmVEYXRhLmRlc3QgPSB7XHJcbiAgICAgIHNoYXBlOiBzaGFwZSxcclxuICAgICAgcG9zaXRpb246IHJlZmVyZW5jZS5wb3NpdGlvbixcclxuICAgICAgcmVmZXJQb3NpdGlvbjogKHR5cGVvZiByZWZlcmVuY2UucmVmZXJQb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcpID8gcmVmZXJlbmNlLnJlZmVyUG9zaXRpb24gOiBudWxsLFxyXG4gICAgICByZWZlclBlcmNlbnQ6ICh0eXBlb2YgcmVmZXJlbmNlLnJlZmVyUGVyY2VudCAhPT0gJ3VuZGVmaW5lZCcpID8gcmVmZXJlbmNlLnJlZmVyUGVyY2VudCA6IG51bGxcclxuICAgIH1cclxuICAgIGxpbmVEYXRhLmFjdGl2ZUxpbmUucmVzZXREZXN0KGRlc3QpXHJcbiAgfVxyXG4gIGxpbmVEYXRhLmFjdGl2ZUxpbmUuZHJhdyhtYXJrLCAhIWxpbmVEYXRhLnNlbGVjdGVkTGluZSlcclxufVxyXG5cclxuZnVuY3Rpb24gc2hhcGVFdmVudE9uTW91c2VNb3ZlIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgaWYgKGxpbmVEYXRhLmlzQWN0aXZlKSB7XHJcbiAgICBsZXQgc3JjLCBkZXN0XHJcbiAgICBpZiAoIWxpbmVEYXRhLmFjdGl2ZUxpbmUpIHtcclxuICAgICAgc3JjID0ge1xyXG4gICAgICAgIHNoYXBlOiBsaW5lRGF0YS5zcmMuc2hhcGUsXHJcbiAgICAgICAgcG9zaXRpb246IGxpbmVEYXRhLnNyYy5wb3NpdGlvblxyXG4gICAgICB9XHJcbiAgICAgIGRlc3QgPSB7XHJcbiAgICAgICAgc2hhcGU6IG51bGwsXHJcbiAgICAgICAgcG9zaXRpb246IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxpbmVEYXRhLmFjdGl2ZUxpbmUgPSBjcmVhdGVOZXdMaW5lKHNyYywgZGVzdClcclxuICAgICAgbGluZURhdGEuYWN0aXZlTGluZS5kcmF3KClcclxuICAgICAgbGluZURhdGEuYWN0aXZlTGluZS5hcHBlbmQoKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBwb3NpdGlvbiA9IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpXHJcbiAgICAgIGxldCBqdWRnZVJlc3VsdCA9IGp1ZGdlRXZlbnRBdChldmVudCwgc2hhcGVMaXN0KVxyXG4gICAgICBpZiAoIWp1ZGdlUmVzdWx0KSB7XHJcbiAgICAgICAgcmVkcmF3QWN0aXZlTGluZShudWxsLCB7cG9zaXRpb246IHBvc2l0aW9ufSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHNoYXBlID0ganVkZ2VSZXN1bHQuc2hhcGVcclxuICAgICAgbGluZURhdGEubmVlZERlbGV0ZWQgPSBmYWxzZVxyXG4gICAgICBzd2l0Y2ggKGp1ZGdlUmVzdWx0LnR5cGUpIHtcclxuICAgICAgICBjYXNlICdzaGFwZUJvZHknOlxyXG4gICAgICAgIGNhc2UgJ3NoYXBlTGluZUFyZWEnOlxyXG4gICAgICAgICAgbGV0IGZyb21TaGFwZUlkXHJcbiAgICAgICAgICBpZiAobGluZURhdGEudHlwZSA9PT0gJ3RvU3JjJykge1xyXG4gICAgICAgICAgICBmcm9tU2hhcGVJZCA9IChsaW5lRGF0YS5kZXN0LnNoYXBlKSA/IGxpbmVEYXRhLmRlc3Quc2hhcGUuaWQgOiBudWxsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZnJvbVNoYXBlSWQgPSAobGluZURhdGEuc3JjLnNoYXBlKSA/IGxpbmVEYXRhLnNyYy5zaGFwZS5pZCA6IG51bGxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChmcm9tU2hhcGVJZCA9PT0gc2hhcGUuaWQpIHtcclxuICAgICAgICAgICAgbGluZURhdGEubmVlZERlbGV0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIHJlZHJhd0FjdGl2ZUxpbmUobnVsbCwge3Bvc2l0aW9uOiBwb3NpdGlvbn0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJlZmVyZW5jZSA9IHNoYXBlLmdldExpbmVSZWZlcmVuY2UocG9zaXRpb24ueCwgcG9zaXRpb24ueSlcclxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2UpIHtcclxuICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbWFyayA9IChsaW5lRGF0YS50eXBlID09PSAndG9TcmMnKSA/ICdzcmMnIDogJ2Rlc3QnXHJcbiAgICAgICAgICAgIHJlZHJhd0FjdGl2ZUxpbmUoc2hhcGUsIHJlZmVyZW5jZSwgbWFyaylcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZWRyYXdBY3RpdmVMaW5lKG51bGwsIHtwb3NpdGlvbjogcG9zaXRpb259KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKGFjdGl2ZURpcmVjdGlvbikge1xyXG4gICAgbGV0IHdpZHRoLCBoZWlnaHQsIG9mZnNldFgsIG9mZnNldFlcclxuICAgIHN3aXRjaCAoYWN0aXZlRGlyZWN0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ253JzpcclxuICAgICAgICB3aWR0aCA9IHJlc2l6ZURhdGEuYmVnaW5YIC0gZXZlbnQuY2xpZW50WCArIHJlc2l6ZURhdGEub3JpZ2luV2lkdGhcclxuICAgICAgICBoZWlnaHQgPSByZXNpemVEYXRhLmJlZ2luWSAtIGV2ZW50LmNsaWVudFkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcbiAgICAgICAgb2Zmc2V0WCA9IHdpZHRoIC0gcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIG9mZnNldFkgPSBoZWlnaHQgLSByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG5cclxuICAgICAgICBzZWxlY3RlZFNoYXBlLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICBzZWxlY3RlZFNoYXBlLnNldFBvc2l0aW9uKHJlc2l6ZURhdGEub3JpZ2luTGVmdCAtIG9mZnNldFgsIHJlc2l6ZURhdGEub3JpZ2luVG9wIC0gb2Zmc2V0WSlcclxuICAgICAgICBzaGFwZUNvbnRyb2xsZXIucmVzZXQoc2VsZWN0ZWRTaGFwZS5sZWZ0LCBzZWxlY3RlZFNoYXBlLnRvcCwgd2lkdGgsIGhlaWdodClcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbmUnOlxyXG4gICAgICAgIHdpZHRoID0gZXZlbnQuY2xpZW50WCAtIHJlc2l6ZURhdGEuYmVnaW5YICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IHJlc2l6ZURhdGEuYmVnaW5ZIC0gZXZlbnQuY2xpZW50WSArIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0XHJcbiAgICAgICAgd2lkdGggPSAod2lkdGggPj0gNjApID8gd2lkdGggOiA2MFxyXG4gICAgICAgIGhlaWdodCA9IChoZWlnaHQgPj0gNDUpID8gaGVpZ2h0IDogNDVcclxuICAgICAgICBvZmZzZXRYID0gd2lkdGggLSByZXNpemVEYXRhLm9yaWdpbldpZHRoXHJcbiAgICAgICAgb2Zmc2V0WSA9IGhlaWdodCAtIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0XHJcblxyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0UG9zaXRpb24ocmVzaXplRGF0YS5vcmlnaW5MZWZ0LCByZXNpemVEYXRhLm9yaWdpblRvcCAtIG9mZnNldFkpXHJcbiAgICAgICAgc2hhcGVDb250cm9sbGVyLnJlc2V0KHNlbGVjdGVkU2hhcGUubGVmdCwgc2VsZWN0ZWRTaGFwZS50b3AsIHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NlJzpcclxuICAgICAgICB3aWR0aCA9IGV2ZW50LmNsaWVudFggLSByZXNpemVEYXRhLmJlZ2luWCArIHJlc2l6ZURhdGEub3JpZ2luV2lkdGhcclxuICAgICAgICBoZWlnaHQgPSBldmVudC5jbGllbnRZIC0gcmVzaXplRGF0YS5iZWdpblkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcblxyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIHNoYXBlQ29udHJvbGxlci5yZXNldChzZWxlY3RlZFNoYXBlLmxlZnQsIHNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzdyc6XHJcbiAgICAgICAgd2lkdGggPSByZXNpemVEYXRhLmJlZ2luWCAtIGV2ZW50LmNsaWVudFggKyByZXNpemVEYXRhLm9yaWdpbldpZHRoXHJcbiAgICAgICAgaGVpZ2h0ID0gZXZlbnQuY2xpZW50WSAtIHJlc2l6ZURhdGEuYmVnaW5ZICsgcmVzaXplRGF0YS5vcmlnaW5IZWlnaHRcclxuICAgICAgICB3aWR0aCA9ICh3aWR0aCA+PSA2MCkgPyB3aWR0aCA6IDYwXHJcbiAgICAgICAgaGVpZ2h0ID0gKGhlaWdodCA+PSA0NSkgPyBoZWlnaHQgOiA0NVxyXG4gICAgICAgIG9mZnNldFggPSB3aWR0aCAtIHJlc2l6ZURhdGEub3JpZ2luV2lkdGhcclxuICAgICAgICBvZmZzZXRZID0gaGVpZ2h0IC0gcmVzaXplRGF0YS5vcmlnaW5IZWlnaHRcclxuXHJcbiAgICAgICAgc2VsZWN0ZWRTaGFwZS5zZXRTaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgc2VsZWN0ZWRTaGFwZS5zZXRQb3NpdGlvbihyZXNpemVEYXRhLm9yaWdpbkxlZnQgLSBvZmZzZXRYLCByZXNpemVEYXRhLm9yaWdpblRvcClcclxuICAgICAgICBzaGFwZUNvbnRyb2xsZXIucmVzZXQoc2VsZWN0ZWRTaGFwZS5sZWZ0LCBzZWxlY3RlZFNoYXBlLnRvcCwgd2lkdGgsIGhlaWdodClcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHNlbGVjdGVkU2hhcGUuZHJhdygpXHJcbiAgICBzZWxlY3RlZFNoYXBlLnJlc2V0TGluZXNQb3NpdGlvbigpXHJcbiAgICBzaGFwZUNvbnRyb2xsZXIuZHJhdyh3aWR0aCwgaGVpZ2h0KVxyXG4gIH1cclxuICBlbHNlIGlmIChhY3RpdmVTaGFwZSkge1xyXG4gICAgbGV0IHggPSBldmVudC5jbGllbnRYIC0gY2xpY2tPZmZzZXQueFxyXG4gICAgbGV0IHkgPSBldmVudC5jbGllbnRZIC0gY2xpY2tPZmZzZXQueVxyXG4gICAgYWN0aXZlU2hhcGUuc2V0UG9zaXRpb24oeCwgeSlcclxuICAgIHNoYXBlQ29udHJvbGxlci5yZXNldCh4LCB5LCBhY3RpdmVTaGFwZS53aWR0aCwgYWN0aXZlU2hhcGUuaGVpZ2h0KVxyXG4gICAgYWN0aXZlU2hhcGUucmVzZXRMaW5lc1Bvc2l0aW9uKClcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBsZXQganVkZ2VSZXN1bHQgPSBqdWRnZUV2ZW50QXQoZXZlbnQsIHNoYXBlTGlzdClcclxuICAgIGlmICghanVkZ2VSZXN1bHQpIHsgcmV0dXJuIH1cclxuICAgIGxldCBzaGFwZSA9IGp1ZGdlUmVzdWx0LnNoYXBlXHJcbiAgICBsZXQgZWwgPSAoanVkZ2VSZXN1bHQudG9wRWxlbWVudCB8fCAoc2hhcGUgJiYgc2hhcGUuZWwpKVxyXG4gICAgaWYgKCFlbCkgeyByZXR1cm4gfVxyXG4gICAgc3dpdGNoIChqdWRnZVJlc3VsdC50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ2xpbmVCb2R5JzpcclxuICAgICAgICBlbC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcidcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbGluZURlc3QnOlxyXG4gICAgICBjYXNlICdsaW5lU3JjJzpcclxuICAgICAgICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSdcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2hhcGVCb2R5JzpcclxuICAgICAgICBlbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSdcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2hhcGVMaW5lQXJlYSc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcidcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBlbC5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCdcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyTGluZURhdGEgKCkge1xyXG4gIGxpbmVEYXRhLmFjdGl2ZUxpbmUgPSBudWxsXHJcbiAgbGluZURhdGEuaXNBY3RpdmUgPSBmYWxzZVxyXG4gIGxpbmVEYXRhLnNyYyA9IHtcclxuICAgIHBvc2l0aW9uOiBudWxsLFxyXG4gICAgICByZWZlclBlcmNlbnQ6IG51bGwsXHJcbiAgICAgIHJlZmVyUG9zaXRpb246IG51bGwsXHJcbiAgICAgIHNoYXBlOiBudWxsXHJcbiAgfVxyXG4gIGxpbmVEYXRhLmRlc3QgPSB7XHJcbiAgICBwb3NpdGlvbjogbnVsbCxcclxuICAgICAgcmVmZXJQZXJjZW50OiBudWxsLFxyXG4gICAgICByZWZlclBvc2l0aW9uOiBudWxsLFxyXG4gICAgICBzaGFwZTogbnVsbFxyXG4gIH1cclxuICBsaW5lRGF0YS5uZWVkRGVsZXRlZCA9IGZhbHNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNoYXBlRXZlbnRPbk1vdXNlVXAgKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBpZiAobGluZURhdGEuaXNBY3RpdmUpIHtcclxuICAgIGxldCBsaW5lID0gbGluZURhdGEuYWN0aXZlTGluZVxyXG4gICAgaWYgKCFsaW5lKSB7IHJldHVybiB9XHJcbiAgICBzd2l0Y2ggKGxpbmVEYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAnbmV3JzpcclxuICAgICAgICBpZiAobGluZURhdGEubmVlZERlbGV0ZWQpIHtcclxuICAgICAgICAgIGxpbmUuZGVzdHJ1Y3QoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGlmIChsaW5lLnNyYy5zaGFwZSkge1xyXG4gICAgICAgICAgICBsaW5lLnNyYy5zaGFwZS5hZGRMaW5lKGxpbmUsICdzcmMnLCBsaW5lRGF0YS5zcmMucmVmZXJQb3NpdGlvbiwgbGluZURhdGEuc3JjLnJlZmVyUGVyY2VudClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChsaW5lLmRlc3Quc2hhcGUpIHtcclxuICAgICAgICAgICAgbGluZS5kZXN0LnNoYXBlLmFkZExpbmUobGluZSwgJ2Rlc3QnLCBsaW5lRGF0YS5kZXN0LnJlZmVyUG9zaXRpb24sIGxpbmVEYXRhLmRlc3QucmVmZXJQZXJjZW50KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2hhcGVMaXN0LnB1c2gobGluZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3RvRGVzdCc6XHJcbiAgICAgICAgaWYgKGxpbmUuZGVzdC5zaGFwZSkge1xyXG4gICAgICAgICAgbGluZS5kZXN0LnNoYXBlLmFkZExpbmUobGluZSwgJ2Rlc3QnLCBsaW5lRGF0YS5kZXN0LnJlZmVyUG9zaXRpb24sIGxpbmVEYXRhLmRlc3QucmVmZXJQZXJjZW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAndG9TcmMnOlxyXG4gICAgICAgIGlmIChsaW5lLnNyYy5zaGFwZSkge1xyXG4gICAgICAgICAgbGluZS5zcmMuc2hhcGUuYWRkTGluZShsaW5lLCAnc3JjJywgbGluZURhdGEuc3JjLnJlZmVyUG9zaXRpb24sIGxpbmVEYXRhLnNyYy5yZWZlclBlcmNlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIHRoZSBsaW5lIG1hcmsuXHJcbiAgICBsaW5lLmRyYXcobnVsbCwgISFsaW5lRGF0YS5zZWxlY3RlZExpbmUpXHJcbiAgICBjbGVhckxpbmVEYXRhKClcclxuICB9XHJcbiAgZWxzZSBpZiAoYWN0aXZlU2hhcGUpIHtcclxuICAgIHNlbGVjdGVkU2hhcGUgPSBhY3RpdmVTaGFwZVxyXG4gICAgYWN0aXZlU2hhcGUgPSBudWxsXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGFjdGl2ZURpcmVjdGlvbikge1xyXG4gICAgYWN0aXZlRGlyZWN0aW9uID0gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hhcGVFdmVudE9uRGJsQ2xpY2sgKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBsZXQganVkZ2VSZXN1bHQgPSBqdWRnZUV2ZW50QXQoZXZlbnQsIHNoYXBlTGlzdClcclxuICBpZiAoIWp1ZGdlUmVzdWx0KSB7IHJldHVybiB9XHJcblxyXG4gIHN3aXRjaCAoanVkZ2VSZXN1bHQudHlwZSkge1xyXG4gICAgY2FzZSAnc2hhcGVCb2R5JzpcclxuICAgICAganVkZ2VSZXN1bHQuc2hhcGUuc2hhcGVUZXh0LmZvY3VzKClcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBzaGFwZUNvbnRyb2xsZXIuc2V0VmlzaWJpbGl0eShmYWxzZSlcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNoYXBlRXZlbnRPbktleURvd24gKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBpZiAoZXZlbnQua2V5ID09PSAnRGVsZXRlJykge1xyXG4gICAgaWYgKHNlbGVjdGVkU2hhcGUgfHwgYWN0aXZlU2hhcGUpIHtcclxuICAgICAgbGV0IHNoYXBlID0gKGFjdGl2ZVNoYXBlKSA/IGFjdGl2ZVNoYXBlIDogc2VsZWN0ZWRTaGFwZVxyXG4gICAgICBsZXQgaXNBY3RpdmUgPSAhIWFjdGl2ZVNoYXBlXHJcbiAgICAgIHNoYXBlQ29udHJvbGxlci5zZXRWaXNpYmlsaXR5KGZhbHNlKVxyXG4gICAgICBkZWxldGVTaGFwZUluTGlzdEJ5SWQoc2hhcGUuaWQsIHNoYXBlTGlzdClcclxuXHJcbiAgICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgICAgIGFjdGl2ZVNoYXBlID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdGVkU2hhcGUgPSBudWxsXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsaW5lRGF0YS5pc0FjdGl2ZSB8fCBsaW5lRGF0YS5zZWxlY3RlZExpbmUpIHtcclxuICAgICAgbGV0IGxpbmUgPSAobGluZURhdGEuaXNBY3RpdmUpID8gbGluZURhdGEuYWN0aXZlTGluZSA6IGxpbmVEYXRhLnNlbGVjdGVkTGluZVxyXG4gICAgICBkZWxldGVTaGFwZUluTGlzdEJ5SWQobGluZS5pZCwgc2hhcGVMaXN0KVxyXG4gICAgICBjbGVhckxpbmVEYXRhKClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7c2hhcGVFdmVudE9uTW91c2VNb3ZlLCBzaGFwZUV2ZW50T25Nb3VzZURvd24sIHNoYXBlRXZlbnRPbk1vdXNlVXAsXHJcbiAgc2hhcGVFdmVudE9uRGJsQ2xpY2ssIHNoYXBlRXZlbnRPbktleURvd259XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvY29yZS9ldmVudHMvc2hhcGVFdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function controllerDraw(el, width, height, margin) {\r\n  if (!el) { return }\r\n\r\n  el.width = width\r\n  el.height = height\r\n  let context = el.getContext('2d')\r\n\r\n  context.strokeStyle = '#883333'\r\n  context.lineWidth = 1\r\n  context.beginPath()\r\n  context.rect(margin, margin, width - 2 * margin, height - 2 * margin);\r\n  context.stroke();\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (controllerDraw);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9kcmF3L2NvbnRyb2xsZXIuanM/NGQwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjb250cm9sbGVyRHJhdyhlbCwgd2lkdGgsIGhlaWdodCwgbWFyZ2luKSB7XHJcbiAgaWYgKCFlbCkgeyByZXR1cm4gfVxyXG5cclxuICBlbC53aWR0aCA9IHdpZHRoXHJcbiAgZWwuaGVpZ2h0ID0gaGVpZ2h0XHJcbiAgbGV0IGNvbnRleHQgPSBlbC5nZXRDb250ZXh0KCcyZCcpXHJcblxyXG4gIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzg4MzMzMydcclxuICBjb250ZXh0LmxpbmVXaWR0aCA9IDFcclxuICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgY29udGV4dC5yZWN0KG1hcmdpbiwgbWFyZ2luLCB3aWR0aCAtIDIgKiBtYXJnaW4sIGhlaWdodCAtIDIgKiBtYXJnaW4pO1xyXG4gIGNvbnRleHQuc3Ryb2tlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbnRyb2xsZXJEcmF3XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2RyYXcvZHJhdy9jb250cm9sbGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n");

/***/ })
/******/ ]);