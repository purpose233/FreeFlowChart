/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 13);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("let _ = {}\r\n\r\n_.find = function (list, predicate) {\r\n  let result\r\n  for (let i = 0; i < list.length; i++) {\r\n    result = predicate(list[i], i, list)\r\n    if (result) { return }\r\n  }\r\n}\r\n\r\n_.throttle = function (func, wait, trailing) {\r\n  let timeout, previous\r\n\r\n  let later = function (context, args) {\r\n    previous = (new Date()).getTime()\r\n    func.apply(context, args)\r\n  }\r\n\r\n  let throttled = function () {\r\n    let result\r\n    let now = (new Date()).getTime()\r\n\r\n    if (!previous) {\r\n      previous = now\r\n      result = func.apply(this, arguments)\r\n    }\r\n    else {\r\n      let remaining = wait - (now - previous)\r\n      if (remaining <= 0 || remaining > wait) {\r\n        if (timeout) {\r\n          clearTimeout(timeout);\r\n          timeout = null;\r\n        }\r\n        previous = now;\r\n        result = func.apply(this, arguments);\r\n      } else if (!timeout && trailing) {\r\n        timeout = setTimeout(later.bind(this, this, arguments), remaining);\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  throttled.cancel = function () {\r\n    clearTimeout(timeout);\r\n    previous = 0;\r\n  }\r\n\r\n  return throttled\r\n}\r\n\r\n_.debounce = function (func, wait) {\r\n  let timeout\r\n\r\n  let later = function (context, args) {\r\n    timeout = null\r\n    func.apply(context, args)\r\n  }\r\n\r\n  let debounced = function () {\r\n    let args = [].slice.call(arguments)\r\n    if (timeout) { clearTimeout(timeout) }\r\n    setTimeout(later.bind(this, args), wait)\r\n  }\r\n\r\n  debounced.cancel = function() {\r\n    clearTimeout(timeout);\r\n    timeout = null;\r\n  };\r\n\r\n  return debounced\r\n}\r\n\r\n_.isObject = function (list) {\r\n  return (typeof list === 'object' || typeof list === 'function')\r\n}\r\n\r\n_.isArray = function (list) {\r\n  return Array.isArray(list)\r\n}\r\n\r\n_.contains = function (list, value) {\r\n  if (!_.isObject(list)) {\r\n    return list === value\r\n  }\r\n  else {\r\n    for (let i in list) {\r\n      if (value === list[i]) { return true }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\n_.containsProp = function (list, prop) {\r\n  if (!_.isObject(list)) {\r\n    return false\r\n  }\r\n  else {\r\n    for (let p in list) {\r\n      if (p === prop) { return true }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\n_.clone = function (o) {\r\n  let clone\r\n  if (_.isArray(o)) { clone = [] }\r\n  else if (_.isObject(o)) { clone = {} }\r\n  else { return o }\r\n\r\n  for (let prop in o) {\r\n    if (_.isObject(o[prop])) {\r\n      clone[prop] = _.clone(o[prop])\r\n    }\r\n    else {\r\n      clone[prop] = o[prop]\r\n    }\r\n  }\r\n  return clone\r\n}\r\n\r\n_.properties = function (o) {\r\n  if (!_.isObject(o)) { return null }\r\n  let props = []\r\n  for (let prop in o) {\r\n    props.push(prop)\r\n  }\r\n  return props\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (_);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21tb24vdXRpbC5qcz9iMzQzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBfID0ge31cclxuXHJcbl8uZmluZCA9IGZ1bmN0aW9uIChsaXN0LCBwcmVkaWNhdGUpIHtcclxuICBsZXQgcmVzdWx0XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZXN1bHQgPSBwcmVkaWNhdGUobGlzdFtpXSwgaSwgbGlzdClcclxuICAgIGlmIChyZXN1bHQpIHsgcmV0dXJuIH1cclxuICB9XHJcbn1cclxuXHJcbl8udGhyb3R0bGUgPSBmdW5jdGlvbiAoZnVuYywgd2FpdCwgdHJhaWxpbmcpIHtcclxuICBsZXQgdGltZW91dCwgcHJldmlvdXNcclxuXHJcbiAgbGV0IGxhdGVyID0gZnVuY3Rpb24gKGNvbnRleHQsIGFyZ3MpIHtcclxuICAgIHByZXZpb3VzID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKVxyXG4gICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxyXG4gIH1cclxuXHJcbiAgbGV0IHRocm90dGxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCByZXN1bHRcclxuICAgIGxldCBub3cgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpXHJcblxyXG4gICAgaWYgKCFwcmV2aW91cykge1xyXG4gICAgICBwcmV2aW91cyA9IG5vd1xyXG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cylcclxuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcclxuICAgICAgICBpZiAodGltZW91dCkge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZpb3VzID0gbm93O1xyXG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiB0cmFpbGluZykge1xyXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLmJpbmQodGhpcywgdGhpcywgYXJndW1lbnRzKSwgcmVtYWluaW5nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIHByZXZpb3VzID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiB0aHJvdHRsZWRcclxufVxyXG5cclxuXy5kZWJvdW5jZSA9IGZ1bmN0aW9uIChmdW5jLCB3YWl0KSB7XHJcbiAgbGV0IHRpbWVvdXRcclxuXHJcbiAgbGV0IGxhdGVyID0gZnVuY3Rpb24gKGNvbnRleHQsIGFyZ3MpIHtcclxuICAgIHRpbWVvdXQgPSBudWxsXHJcbiAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXHJcbiAgfVxyXG5cclxuICBsZXQgZGVib3VuY2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cylcclxuICAgIGlmICh0aW1lb3V0KSB7IGNsZWFyVGltZW91dCh0aW1lb3V0KSB9XHJcbiAgICBzZXRUaW1lb3V0KGxhdGVyLmJpbmQodGhpcywgYXJncyksIHdhaXQpXHJcbiAgfVxyXG5cclxuICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICB0aW1lb3V0ID0gbnVsbDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gZGVib3VuY2VkXHJcbn1cclxuXHJcbl8uaXNPYmplY3QgPSBmdW5jdGlvbiAobGlzdCkge1xyXG4gIHJldHVybiAodHlwZW9mIGxpc3QgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBsaXN0ID09PSAnZnVuY3Rpb24nKVxyXG59XHJcblxyXG5fLmlzQXJyYXkgPSBmdW5jdGlvbiAobGlzdCkge1xyXG4gIHJldHVybiBBcnJheS5pc0FycmF5KGxpc3QpXHJcbn1cclxuXHJcbl8uY29udGFpbnMgPSBmdW5jdGlvbiAobGlzdCwgdmFsdWUpIHtcclxuICBpZiAoIV8uaXNPYmplY3QobGlzdCkpIHtcclxuICAgIHJldHVybiBsaXN0ID09PSB2YWx1ZVxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGZvciAobGV0IGkgaW4gbGlzdCkge1xyXG4gICAgICBpZiAodmFsdWUgPT09IGxpc3RbaV0pIHsgcmV0dXJuIHRydWUgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuXy5jb250YWluc1Byb3AgPSBmdW5jdGlvbiAobGlzdCwgcHJvcCkge1xyXG4gIGlmICghXy5pc09iamVjdChsaXN0KSkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgZm9yIChsZXQgcCBpbiBsaXN0KSB7XHJcbiAgICAgIGlmIChwID09PSBwcm9wKSB7IHJldHVybiB0cnVlIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbl8uY2xvbmUgPSBmdW5jdGlvbiAobykge1xyXG4gIGxldCBjbG9uZVxyXG4gIGlmIChfLmlzQXJyYXkobykpIHsgY2xvbmUgPSBbXSB9XHJcbiAgZWxzZSBpZiAoXy5pc09iamVjdChvKSkgeyBjbG9uZSA9IHt9IH1cclxuICBlbHNlIHsgcmV0dXJuIG8gfVxyXG5cclxuICBmb3IgKGxldCBwcm9wIGluIG8pIHtcclxuICAgIGlmIChfLmlzT2JqZWN0KG9bcHJvcF0pKSB7XHJcbiAgICAgIGNsb25lW3Byb3BdID0gXy5jbG9uZShvW3Byb3BdKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNsb25lW3Byb3BdID0gb1twcm9wXVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gY2xvbmVcclxufVxyXG5cclxuXy5wcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG8pIHtcclxuICBpZiAoIV8uaXNPYmplY3QobykpIHsgcmV0dXJuIG51bGwgfVxyXG4gIGxldCBwcm9wcyA9IFtdXHJcbiAgZm9yIChsZXQgcHJvcCBpbiBvKSB7XHJcbiAgICBwcm9wcy5wdXNoKHByb3ApXHJcbiAgfVxyXG4gIHJldHVybiBwcm9wc1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBfXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbW1vbi91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return calcPositionInCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calcPointToLineFoot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcPointOnLine; });\n/* unused harmony export calcPointToEllipseClosestPoint */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_getUIParameters__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common__ = __webpack_require__(8);\n\r\n\r\n\r\nfunction calcPositionInCanvas (x, y) {\r\n  let drawLayout = document.getElementById('draw-layout')\r\n  let parameters = Object(__WEBPACK_IMPORTED_MODULE_0__common_getUIParameters__[\"a\" /* default */])()\r\n  return {\r\n    x: x - parameters.canvasLeft - (parameters.canvasPadding - drawLayout.scrollLeft),\r\n    y: y - parameters.canvasTop - (parameters.canvasPadding - drawLayout.scrollTop)\r\n  }\r\n}\r\n\r\nfunction calcPointToLineFoot (point, line) {\r\n  let [x, y] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"d\" /* generalizePoint */])(point)\r\n  let [A, B, C] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"c\" /* generalizeLine */])(line)\r\n  return {\r\n    x: (B * B * x - A * B * y - A * C) / (A * A + B * B),\r\n    y: (-A * B * x + A * A * y - B * C) / (A * A + B * B)\r\n  }\r\n}\r\n\r\nfunction calcPointOnLine (pointA, pointB, percent) {\r\n  let [x1, y1] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"d\" /* generalizePoint */])(pointA)\r\n  let [x2, y2] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"d\" /* generalizePoint */])(pointB)\r\n  return {\r\n    x: x1 + (x2 - x1) * percent,\r\n    y: y1 + (y2 - y1) * percent\r\n  }\r\n}\r\n\r\nfunction calcYofEllipse(x, ellipse) {\r\n  let [a, b, m, n] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"b\" /* generalizeEllipse */])(ellipse)\r\n  if (!!m) { x -= m }\r\n  if (x < -a || x > a) { return null }\r\n\r\n  let y = b*Math.sqrt(1-x*x/(a*a))\r\n  return [y + n, -y + n]\r\n}\r\n\r\nfunction calcPointToEllipseClosestPoint (point, ellipse) {\r\n  let [x0, y0] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"d\" /* generalizePoint */])(point)\r\n  let [a, b, m, n] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"b\" /* generalizeEllipse */])(ellipse)\r\n\r\n  // Set the ellipse at origin point.\r\n  if (!!m) { x0 -= m }\r\n  if (!!n) { y0 -= n }\r\n\r\n  // Note that c presents c * c.\r\n  let c = a*a - b*b\r\n\r\n  let A = c*c\r\n  let B = -2*x0*a*a*c\r\n  let C = (y0*a*b)*(y0*a*b)+x0*x0*a*a*a*a-a*a*c*c\r\n  let D = 2*x0*a*a*a*a*c\r\n  let E = -a*a*a*a*a*a*x0*x0\r\n\r\n  if (A !== 0) {\r\n    B /= A, C /= A, D /= A, E /= A, A = 1\r\n  }\r\n\r\n  let result = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"a\" /* calcQuarticEquation */])(A, B, C, D, E)\r\n  let possiblePoint = []\r\n  if (result.length > 0) {\r\n    for (let i = 0; i < result.length; i++) {\r\n      let ys = calcYofEllipse(result[i], [a, b, 0, 0])\r\n      if (ys) {\r\n        possiblePoint.push({x:result[i], y:ys[0]})\r\n        possiblePoint.push({x:result[i], y:ys[1]})\r\n      }\r\n    }\r\n  }\r\n\r\n  let bestPoint = null, shortestDistance = Infinity, tempDistance\r\n  for (let i = 0; i < possiblePoint.length; i++) {\r\n    tempDistance = (possiblePoint[i].x-x0)*(possiblePoint[i].x-x0)+(possiblePoint[i].y-y0)*(possiblePoint[i].y-y0)\r\n    if (tempDistance < shortestDistance) {\r\n      bestPoint = possiblePoint[i]\r\n      shortestDistance = tempDistance\r\n    }\r\n  }\r\n  // Only the point returned is the real point,\r\n  // all others are points after moved.\r\n  return bestPoint ? {\r\n    x: bestPoint.x + m,\r\n    y: bestPoint.y + n\r\n  } : null\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb3JlL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvbi5qcz81NDFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRVSVBhcmFtZXRlcnMgZnJvbSAnLi4vLi4vY29tbW9uL2dldFVJUGFyYW1ldGVycydcclxuaW1wb3J0IHtnZW5lcmFsaXplTGluZSwgZ2VuZXJhbGl6ZVBvaW50LCBnZW5lcmFsaXplRWxsaXBzZSwgY2FsY1F1YXJ0aWNFcXVhdGlvbn0gZnJvbSBcIi4vY29tbW9uXCI7XHJcblxyXG5mdW5jdGlvbiBjYWxjUG9zaXRpb25JbkNhbnZhcyAoeCwgeSkge1xyXG4gIGxldCBkcmF3TGF5b3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXctbGF5b3V0JylcclxuICBsZXQgcGFyYW1ldGVycyA9IGdldFVJUGFyYW1ldGVycygpXHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IHggLSBwYXJhbWV0ZXJzLmNhbnZhc0xlZnQgLSAocGFyYW1ldGVycy5jYW52YXNQYWRkaW5nIC0gZHJhd0xheW91dC5zY3JvbGxMZWZ0KSxcclxuICAgIHk6IHkgLSBwYXJhbWV0ZXJzLmNhbnZhc1RvcCAtIChwYXJhbWV0ZXJzLmNhbnZhc1BhZGRpbmcgLSBkcmF3TGF5b3V0LnNjcm9sbFRvcClcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGNQb2ludFRvTGluZUZvb3QgKHBvaW50LCBsaW5lKSB7XHJcbiAgbGV0IFt4LCB5XSA9IGdlbmVyYWxpemVQb2ludChwb2ludClcclxuICBsZXQgW0EsIEIsIENdID0gZ2VuZXJhbGl6ZUxpbmUobGluZSlcclxuICByZXR1cm4ge1xyXG4gICAgeDogKEIgKiBCICogeCAtIEEgKiBCICogeSAtIEEgKiBDKSAvIChBICogQSArIEIgKiBCKSxcclxuICAgIHk6ICgtQSAqIEIgKiB4ICsgQSAqIEEgKiB5IC0gQiAqIEMpIC8gKEEgKiBBICsgQiAqIEIpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjUG9pbnRPbkxpbmUgKHBvaW50QSwgcG9pbnRCLCBwZXJjZW50KSB7XHJcbiAgbGV0IFt4MSwgeTFdID0gZ2VuZXJhbGl6ZVBvaW50KHBvaW50QSlcclxuICBsZXQgW3gyLCB5Ml0gPSBnZW5lcmFsaXplUG9pbnQocG9pbnRCKVxyXG4gIHJldHVybiB7XHJcbiAgICB4OiB4MSArICh4MiAtIHgxKSAqIHBlcmNlbnQsXHJcbiAgICB5OiB5MSArICh5MiAtIHkxKSAqIHBlcmNlbnRcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGNZb2ZFbGxpcHNlKHgsIGVsbGlwc2UpIHtcclxuICBsZXQgW2EsIGIsIG0sIG5dID0gZ2VuZXJhbGl6ZUVsbGlwc2UoZWxsaXBzZSlcclxuICBpZiAoISFtKSB7IHggLT0gbSB9XHJcbiAgaWYgKHggPCAtYSB8fCB4ID4gYSkgeyByZXR1cm4gbnVsbCB9XHJcblxyXG4gIGxldCB5ID0gYipNYXRoLnNxcnQoMS14KngvKGEqYSkpXHJcbiAgcmV0dXJuIFt5ICsgbiwgLXkgKyBuXVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjUG9pbnRUb0VsbGlwc2VDbG9zZXN0UG9pbnQgKHBvaW50LCBlbGxpcHNlKSB7XHJcbiAgbGV0IFt4MCwgeTBdID0gZ2VuZXJhbGl6ZVBvaW50KHBvaW50KVxyXG4gIGxldCBbYSwgYiwgbSwgbl0gPSBnZW5lcmFsaXplRWxsaXBzZShlbGxpcHNlKVxyXG5cclxuICAvLyBTZXQgdGhlIGVsbGlwc2UgYXQgb3JpZ2luIHBvaW50LlxyXG4gIGlmICghIW0pIHsgeDAgLT0gbSB9XHJcbiAgaWYgKCEhbikgeyB5MCAtPSBuIH1cclxuXHJcbiAgLy8gTm90ZSB0aGF0IGMgcHJlc2VudHMgYyAqIGMuXHJcbiAgbGV0IGMgPSBhKmEgLSBiKmJcclxuXHJcbiAgbGV0IEEgPSBjKmNcclxuICBsZXQgQiA9IC0yKngwKmEqYSpjXHJcbiAgbGV0IEMgPSAoeTAqYSpiKSooeTAqYSpiKSt4MCp4MCphKmEqYSphLWEqYSpjKmNcclxuICBsZXQgRCA9IDIqeDAqYSphKmEqYSpjXHJcbiAgbGV0IEUgPSAtYSphKmEqYSphKmEqeDAqeDBcclxuXHJcbiAgaWYgKEEgIT09IDApIHtcclxuICAgIEIgLz0gQSwgQyAvPSBBLCBEIC89IEEsIEUgLz0gQSwgQSA9IDFcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQgPSBjYWxjUXVhcnRpY0VxdWF0aW9uKEEsIEIsIEMsIEQsIEUpXHJcbiAgbGV0IHBvc3NpYmxlUG9pbnQgPSBbXVxyXG4gIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHlzID0gY2FsY1lvZkVsbGlwc2UocmVzdWx0W2ldLCBbYSwgYiwgMCwgMF0pXHJcbiAgICAgIGlmICh5cykge1xyXG4gICAgICAgIHBvc3NpYmxlUG9pbnQucHVzaCh7eDpyZXN1bHRbaV0sIHk6eXNbMF19KVxyXG4gICAgICAgIHBvc3NpYmxlUG9pbnQucHVzaCh7eDpyZXN1bHRbaV0sIHk6eXNbMV19KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgYmVzdFBvaW50ID0gbnVsbCwgc2hvcnRlc3REaXN0YW5jZSA9IEluZmluaXR5LCB0ZW1wRGlzdGFuY2VcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3NpYmxlUG9pbnQubGVuZ3RoOyBpKyspIHtcclxuICAgIHRlbXBEaXN0YW5jZSA9IChwb3NzaWJsZVBvaW50W2ldLngteDApKihwb3NzaWJsZVBvaW50W2ldLngteDApKyhwb3NzaWJsZVBvaW50W2ldLnkteTApKihwb3NzaWJsZVBvaW50W2ldLnkteTApXHJcbiAgICBpZiAodGVtcERpc3RhbmNlIDwgc2hvcnRlc3REaXN0YW5jZSkge1xyXG4gICAgICBiZXN0UG9pbnQgPSBwb3NzaWJsZVBvaW50W2ldXHJcbiAgICAgIHNob3J0ZXN0RGlzdGFuY2UgPSB0ZW1wRGlzdGFuY2VcclxuICAgIH1cclxuICB9XHJcbiAgLy8gT25seSB0aGUgcG9pbnQgcmV0dXJuZWQgaXMgdGhlIHJlYWwgcG9pbnQsXHJcbiAgLy8gYWxsIG90aGVycyBhcmUgcG9pbnRzIGFmdGVyIG1vdmVkLlxyXG4gIHJldHVybiBiZXN0UG9pbnQgPyB7XHJcbiAgICB4OiBiZXN0UG9pbnQueCArIG0sXHJcbiAgICB5OiBiZXN0UG9pbnQueSArIG5cclxuICB9IDogbnVsbFxyXG59XHJcblxyXG5leHBvcnQge2NhbGNQb3NpdGlvbkluQ2FudmFzLCBjYWxjUG9pbnRUb0xpbmVGb290LCBjYWxjUG9pbnRPbkxpbmUsIGNhbGNQb2ludFRvRWxsaXBzZUNsb3Nlc3RQb2ludH1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29yZS9jYWxjdWxhdGlvbi9jYWxjUG9zaXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getDefaultSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return drawingDefaultSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return textDefaultSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return defaultPadding; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_colors__ = __webpack_require__(6);\n\r\n\r\nlet basic = {\r\n  width: 120,\r\n  height: 90\r\n}\r\nlet process = {\r\n  width: 120,\r\n  height: 90,\r\n  shapeName: '流程'\r\n}\r\nlet decision = {\r\n  width: 110,\r\n  height: 90,\r\n  shapeName: '判定'\r\n}\r\nlet terminator = {\r\n  width: 120,\r\n  height: 70,\r\n  shapeName: '开始/结束'\r\n}\r\nlet storedData = {\r\n  width: 120,\r\n  height: 90,\r\n  shapeName: '数据库'\r\n}\r\nlet line = {\r\n  linkerType: 'straight',\r\n  arrowType: 'basic'\r\n}\r\n\r\nfunction getDefaultSetting (type) {\r\n  switch (type) {\r\n    case 'process': return process\r\n    case 'decision': return decision\r\n    case 'terminator': return terminator\r\n    case 'storedData': return storedData\r\n    case 'line': return line\r\n    default: return basic\r\n  }\r\n}\r\n\r\nlet drawingDefaultSetting = {\r\n  fillStyle: __WEBPACK_IMPORTED_MODULE_0__common_colors__[\"a\" /* default */].defaultFillStyle,\r\n  strokeStyle: __WEBPACK_IMPORTED_MODULE_0__common_colors__[\"a\" /* default */].defaultStrokeStyle,\r\n  lineWidth: 2,\r\n  lineDash: []\r\n}\r\n\r\nlet textDefaultSetting = {\r\n  fontWeight: 'normal',\r\n  fontStyle: 'normal',\r\n  textDecoration: 'none',\r\n  fontFamily: 'Arial',\r\n  fontSize: 'x-normal',\r\n  color: __WEBPACK_IMPORTED_MODULE_0__common_colors__[\"a\" /* default */].textDefaultColor\r\n}\r\n\r\nlet defaultPadding = 10\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvc2hhcGVEZWZhdWx0U2V0dGluZy5qcz9hZGRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb2xvcnMgZnJvbSAnLi4vY29tbW9uL2NvbG9ycydcclxuXHJcbmxldCBiYXNpYyA9IHtcclxuICB3aWR0aDogMTIwLFxyXG4gIGhlaWdodDogOTBcclxufVxyXG5sZXQgcHJvY2VzcyA9IHtcclxuICB3aWR0aDogMTIwLFxyXG4gIGhlaWdodDogOTAsXHJcbiAgc2hhcGVOYW1lOiAn5rWB56iLJ1xyXG59XHJcbmxldCBkZWNpc2lvbiA9IHtcclxuICB3aWR0aDogMTEwLFxyXG4gIGhlaWdodDogOTAsXHJcbiAgc2hhcGVOYW1lOiAn5Yik5a6aJ1xyXG59XHJcbmxldCB0ZXJtaW5hdG9yID0ge1xyXG4gIHdpZHRoOiAxMjAsXHJcbiAgaGVpZ2h0OiA3MCxcclxuICBzaGFwZU5hbWU6ICflvIDlp4sv57uT5p2fJ1xyXG59XHJcbmxldCBzdG9yZWREYXRhID0ge1xyXG4gIHdpZHRoOiAxMjAsXHJcbiAgaGVpZ2h0OiA5MCxcclxuICBzaGFwZU5hbWU6ICfmlbDmja7lupMnXHJcbn1cclxubGV0IGxpbmUgPSB7XHJcbiAgbGlua2VyVHlwZTogJ3N0cmFpZ2h0JyxcclxuICBhcnJvd1R5cGU6ICdiYXNpYydcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGVmYXVsdFNldHRpbmcgKHR5cGUpIHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgJ3Byb2Nlc3MnOiByZXR1cm4gcHJvY2Vzc1xyXG4gICAgY2FzZSAnZGVjaXNpb24nOiByZXR1cm4gZGVjaXNpb25cclxuICAgIGNhc2UgJ3Rlcm1pbmF0b3InOiByZXR1cm4gdGVybWluYXRvclxyXG4gICAgY2FzZSAnc3RvcmVkRGF0YSc6IHJldHVybiBzdG9yZWREYXRhXHJcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGxpbmVcclxuICAgIGRlZmF1bHQ6IHJldHVybiBiYXNpY1xyXG4gIH1cclxufVxyXG5cclxubGV0IGRyYXdpbmdEZWZhdWx0U2V0dGluZyA9IHtcclxuICBmaWxsU3R5bGU6IGNvbG9ycy5kZWZhdWx0RmlsbFN0eWxlLFxyXG4gIHN0cm9rZVN0eWxlOiBjb2xvcnMuZGVmYXVsdFN0cm9rZVN0eWxlLFxyXG4gIGxpbmVXaWR0aDogMixcclxuICBsaW5lRGFzaDogW11cclxufVxyXG5cclxubGV0IHRleHREZWZhdWx0U2V0dGluZyA9IHtcclxuICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcclxuICBmb250U3R5bGU6ICdub3JtYWwnLFxyXG4gIHRleHREZWNvcmF0aW9uOiAnbm9uZScsXHJcbiAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICBmb250U2l6ZTogJ3gtbm9ybWFsJyxcclxuICBjb2xvcjogY29sb3JzLnRleHREZWZhdWx0Q29sb3JcclxufVxyXG5cclxubGV0IGRlZmF1bHRQYWRkaW5nID0gMTBcclxuXHJcbmV4cG9ydCB7Z2V0RGVmYXVsdFNldHRpbmcsIGRyYXdpbmdEZWZhdWx0U2V0dGluZywgdGV4dERlZmF1bHRTZXR0aW5nLCBkZWZhdWx0UGFkZGluZ31cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhcGVzL3NoYXBlRGVmYXVsdFNldHRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_util__ = __webpack_require__(0);\n\r\n\r\n\r\nlet shapeId = 0\r\n\r\nclass Shape {\r\n  constructor (el, type, left, top, width, height, drawStyle, textStyle) {\r\n    this.id = 'shape' + shapeId++\r\n    this.el = el\r\n    this.canvas = el.getElementsByTagName('canvas')[0]\r\n    this.shapeText = el.getElementsByClassName('shape-text')[0]\r\n    this.context = this.canvas.getContext('2d')\r\n    this.type = type\r\n    this.left = left\r\n    this.top = top\r\n\r\n    let temp = Object(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"c\" /* getDefaultSetting */])(this.type)\r\n    this.shapeName = temp.shapeName\r\n    if (typeof width !== 'undefined' && width !== null\r\n      && typeof height !== 'undefined' && height !== null) {\r\n      this.width = width\r\n      this.height = height\r\n    }\r\n    else {\r\n      this.width = temp.width\r\n      this.height = temp.height\r\n    }\r\n\r\n    this.drawStyle = drawStyle ? drawStyle : __WEBPACK_IMPORTED_MODULE_1__common_util__[\"a\" /* default */].clone(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* drawingDefaultSetting */])\r\n    this.textStyle = textStyle ? textStyle : __WEBPACK_IMPORTED_MODULE_1__common_util__[\"a\" /* default */].clone(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"d\" /* textDefaultSetting */])\r\n    this.padding = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* defaultPadding */]\r\n\r\n    this.relativeLines = []\r\n\r\n    this.init()\r\n  }\r\n  destruct () {\r\n    this.remove()\r\n    this.callLinesToDetach()\r\n  }\r\n  init () {\r\n    this.el.style.width = this.width + 'px'\r\n    this.el.style.height = this.height + 'px'\r\n    this.canvas.width = this.width\r\n    this.canvas.height = this.height\r\n    //this.context.lineCap = 'round'\r\n    //this.context.lineJoin = 'round'\r\n\r\n    this.setTextareaStyle()\r\n  }\r\n  append () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    let sibling = document.getElementById('shape_controls')\r\n\r\n    parent.insertBefore(this.el, sibling)\r\n  }\r\n  remove () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    parent.removeChild(this.el)\r\n  }\r\n  setPosition (left, top) {\r\n    this.left = left\r\n    this.top = top\r\n    this.el.style.left = this.left + 'px'\r\n    this.el.style.top = this.top + 'px'\r\n  }\r\n  setSize (width, height) {\r\n    this.canvas.width = this.el.width = this.width = width\r\n    this.el.style.width = this.canvas.style.width = width + 'px'\r\n    this.canvas.height = this.el.height = this.height = height\r\n    this.el.style.height = this.canvas.style.height = height + 'px'\r\n  }\r\n  resetDrawStyle (context) {\r\n    context.lineCap = 'round'\r\n    context.lineJoin = 'round'\r\n\r\n    context.fillStyle = this.drawStyle.fillStyle\r\n    context.strokeStyle = this.drawStyle.strokeStyle\r\n    context.lineWidth = this.drawStyle.lineWidth\r\n    context.setLineDash(this.drawStyle.lineDash)\r\n  }\r\n  /*\r\n  setFillStyle (fillStyle) {\r\n    this.fillStyle = fillStyle\r\n    this.resetDrawStyle()\r\n  }\r\n  setStrokeStyle (strokeStyle) {\r\n    this.strokeStyle = strokeStyle\r\n    this.resetDrawStyle()\r\n  }\r\n  setLineWidth (lineWidth) {\r\n    this.lineWidth = lineWidth\r\n    this.resetDrawStyle()\r\n  }*/\r\n  setLineDash (lineDash) {\r\n    this.lineDash = lineDash\r\n    this.resetDrawStyle()\r\n  }\r\n  addLine (line, type, referPosition, referPercent) {\r\n    this.relativeLines.push({\r\n      line: line,\r\n      // type values: 'src', 'dest'\r\n      type: type,\r\n      referPosition: referPosition,\r\n      referPercent: referPercent\r\n    })\r\n  }\r\n  getLineData (line) {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (line === this.relativeLines[i].line) {\r\n        return this.relativeLines[i]\r\n      }\r\n    }\r\n  }\r\n  deleteLine (line) {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (line === this.relativeLines[i].line) {\r\n        return this.relativeLines.splice(i, 1)[0]\r\n      }\r\n    }\r\n  }\r\n  callLinesToDetach () {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (this.relativeLines[i].type === 'src') {\r\n        this.relativeLines[i].line.src.shape = null\r\n      }\r\n      else {\r\n        this.relativeLines[i].line.dest.shape = null\r\n      }\r\n    }\r\n  }\r\n  setTextareaStyle () {\r\n    if (!this.shapeText) { return }\r\n    for (let prop in this.textStyle) {\r\n      this.shapeText.style[prop] = this.textStyle[prop]\r\n    }\r\n  }\r\n  setTextareaSingleStyle (prop, value) {\r\n    if (__WEBPACK_IMPORTED_MODULE_1__common_util__[\"a\" /* default */].containsProp(this.textStyle, prop)) {\r\n      this.textStyle[prop] = value\r\n      this.shapeText.style[prop] = value\r\n    }\r\n  }\r\n  getTextareaStyle () {\r\n\r\n  }\r\n  getAllStyle () {\r\n    let style = {}\r\n    for (let prop in this.textStyle) { style[prop] = this.textStyle[prop] }\r\n    for (let prop in this.drawStyle) { style[prop] = this.drawStyle[prop] }\r\n    return style\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Shape);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvc2hhcGUuanM/ZTBlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldERlZmF1bHRTZXR0aW5nLCBkcmF3aW5nRGVmYXVsdFNldHRpbmcsIHRleHREZWZhdWx0U2V0dGluZywgZGVmYXVsdFBhZGRpbmd9IGZyb20gJy4vc2hhcGVEZWZhdWx0U2V0dGluZydcclxuaW1wb3J0IF8gZnJvbSAnLi4vY29tbW9uL3V0aWwnXHJcblxyXG5sZXQgc2hhcGVJZCA9IDBcclxuXHJcbmNsYXNzIFNoYXBlIHtcclxuICBjb25zdHJ1Y3RvciAoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgZHJhd1N0eWxlLCB0ZXh0U3R5bGUpIHtcclxuICAgIHRoaXMuaWQgPSAnc2hhcGUnICsgc2hhcGVJZCsrXHJcbiAgICB0aGlzLmVsID0gZWxcclxuICAgIHRoaXMuY2FudmFzID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhbnZhcycpWzBdXHJcbiAgICB0aGlzLnNoYXBlVGV4dCA9IGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NoYXBlLXRleHQnKVswXVxyXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG4gICAgdGhpcy50eXBlID0gdHlwZVxyXG4gICAgdGhpcy5sZWZ0ID0gbGVmdFxyXG4gICAgdGhpcy50b3AgPSB0b3BcclxuXHJcbiAgICBsZXQgdGVtcCA9IGdldERlZmF1bHRTZXR0aW5nKHRoaXMudHlwZSlcclxuICAgIHRoaXMuc2hhcGVOYW1lID0gdGVtcC5zaGFwZU5hbWVcclxuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09ICd1bmRlZmluZWQnICYmIHdpZHRoICE9PSBudWxsXHJcbiAgICAgICYmIHR5cGVvZiBoZWlnaHQgIT09ICd1bmRlZmluZWQnICYmIGhlaWdodCAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLndpZHRoID0gd2lkdGhcclxuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLndpZHRoID0gdGVtcC53aWR0aFxyXG4gICAgICB0aGlzLmhlaWdodCA9IHRlbXAuaGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmF3U3R5bGUgPSBkcmF3U3R5bGUgPyBkcmF3U3R5bGUgOiBfLmNsb25lKGRyYXdpbmdEZWZhdWx0U2V0dGluZylcclxuICAgIHRoaXMudGV4dFN0eWxlID0gdGV4dFN0eWxlID8gdGV4dFN0eWxlIDogXy5jbG9uZSh0ZXh0RGVmYXVsdFNldHRpbmcpXHJcbiAgICB0aGlzLnBhZGRpbmcgPSBkZWZhdWx0UGFkZGluZ1xyXG5cclxuICAgIHRoaXMucmVsYXRpdmVMaW5lcyA9IFtdXHJcblxyXG4gICAgdGhpcy5pbml0KClcclxuICB9XHJcbiAgZGVzdHJ1Y3QgKCkge1xyXG4gICAgdGhpcy5yZW1vdmUoKVxyXG4gICAgdGhpcy5jYWxsTGluZXNUb0RldGFjaCgpXHJcbiAgfVxyXG4gIGluaXQgKCkge1xyXG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnXHJcbiAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4J1xyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoXHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodFxyXG4gICAgLy90aGlzLmNvbnRleHQubGluZUNhcCA9ICdyb3VuZCdcclxuICAgIC8vdGhpcy5jb250ZXh0LmxpbmVKb2luID0gJ3JvdW5kJ1xyXG5cclxuICAgIHRoaXMuc2V0VGV4dGFyZWFTdHlsZSgpXHJcbiAgfVxyXG4gIGFwcGVuZCAoKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2lnbmVyX2NhbnZhcycpXHJcbiAgICBsZXQgc2libGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGFwZV9jb250cm9scycpXHJcblxyXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCBzaWJsaW5nKVxyXG4gIH1cclxuICByZW1vdmUgKCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcl9jYW52YXMnKVxyXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMuZWwpXHJcbiAgfVxyXG4gIHNldFBvc2l0aW9uIChsZWZ0LCB0b3ApIHtcclxuICAgIHRoaXMubGVmdCA9IGxlZnRcclxuICAgIHRoaXMudG9wID0gdG9wXHJcbiAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSB0aGlzLmxlZnQgKyAncHgnXHJcbiAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IHRoaXMudG9wICsgJ3B4J1xyXG4gIH1cclxuICBzZXRTaXplICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuZWwud2lkdGggPSB0aGlzLndpZHRoID0gd2lkdGhcclxuICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4J1xyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5lbC5oZWlnaHQgPSB0aGlzLmhlaWdodCA9IGhlaWdodFxyXG4gICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnXHJcbiAgfVxyXG4gIHJlc2V0RHJhd1N0eWxlIChjb250ZXh0KSB7XHJcbiAgICBjb250ZXh0LmxpbmVDYXAgPSAncm91bmQnXHJcbiAgICBjb250ZXh0LmxpbmVKb2luID0gJ3JvdW5kJ1xyXG5cclxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5kcmF3U3R5bGUuZmlsbFN0eWxlXHJcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5kcmF3U3R5bGUuc3Ryb2tlU3R5bGVcclxuICAgIGNvbnRleHQubGluZVdpZHRoID0gdGhpcy5kcmF3U3R5bGUubGluZVdpZHRoXHJcbiAgICBjb250ZXh0LnNldExpbmVEYXNoKHRoaXMuZHJhd1N0eWxlLmxpbmVEYXNoKVxyXG4gIH1cclxuICAvKlxyXG4gIHNldEZpbGxTdHlsZSAoZmlsbFN0eWxlKSB7XHJcbiAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZVxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgfVxyXG4gIHNldFN0cm9rZVN0eWxlIChzdHJva2VTdHlsZSkge1xyXG4gICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlXHJcbiAgICB0aGlzLnJlc2V0RHJhd1N0eWxlKClcclxuICB9XHJcbiAgc2V0TGluZVdpZHRoIChsaW5lV2lkdGgpIHtcclxuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoXHJcbiAgICB0aGlzLnJlc2V0RHJhd1N0eWxlKClcclxuICB9Ki9cclxuICBzZXRMaW5lRGFzaCAobGluZURhc2gpIHtcclxuICAgIHRoaXMubGluZURhc2ggPSBsaW5lRGFzaFxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgfVxyXG4gIGFkZExpbmUgKGxpbmUsIHR5cGUsIHJlZmVyUG9zaXRpb24sIHJlZmVyUGVyY2VudCkge1xyXG4gICAgdGhpcy5yZWxhdGl2ZUxpbmVzLnB1c2goe1xyXG4gICAgICBsaW5lOiBsaW5lLFxyXG4gICAgICAvLyB0eXBlIHZhbHVlczogJ3NyYycsICdkZXN0J1xyXG4gICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICByZWZlclBvc2l0aW9uOiByZWZlclBvc2l0aW9uLFxyXG4gICAgICByZWZlclBlcmNlbnQ6IHJlZmVyUGVyY2VudFxyXG4gICAgfSlcclxuICB9XHJcbiAgZ2V0TGluZURhdGEgKGxpbmUpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWxhdGl2ZUxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChsaW5lID09PSB0aGlzLnJlbGF0aXZlTGluZXNbaV0ubGluZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbGF0aXZlTGluZXNbaV1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBkZWxldGVMaW5lIChsaW5lKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVsYXRpdmVMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAobGluZSA9PT0gdGhpcy5yZWxhdGl2ZUxpbmVzW2ldLmxpbmUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWxhdGl2ZUxpbmVzLnNwbGljZShpLCAxKVswXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNhbGxMaW5lc1RvRGV0YWNoICgpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWxhdGl2ZUxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLnJlbGF0aXZlTGluZXNbaV0udHlwZSA9PT0gJ3NyYycpIHtcclxuICAgICAgICB0aGlzLnJlbGF0aXZlTGluZXNbaV0ubGluZS5zcmMuc2hhcGUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yZWxhdGl2ZUxpbmVzW2ldLmxpbmUuZGVzdC5zaGFwZSA9IG51bGxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBzZXRUZXh0YXJlYVN0eWxlICgpIHtcclxuICAgIGlmICghdGhpcy5zaGFwZVRleHQpIHsgcmV0dXJuIH1cclxuICAgIGZvciAobGV0IHByb3AgaW4gdGhpcy50ZXh0U3R5bGUpIHtcclxuICAgICAgdGhpcy5zaGFwZVRleHQuc3R5bGVbcHJvcF0gPSB0aGlzLnRleHRTdHlsZVtwcm9wXVxyXG4gICAgfVxyXG4gIH1cclxuICBzZXRUZXh0YXJlYVNpbmdsZVN0eWxlIChwcm9wLCB2YWx1ZSkge1xyXG4gICAgaWYgKF8uY29udGFpbnNQcm9wKHRoaXMudGV4dFN0eWxlLCBwcm9wKSkge1xyXG4gICAgICB0aGlzLnRleHRTdHlsZVtwcm9wXSA9IHZhbHVlXHJcbiAgICAgIHRoaXMuc2hhcGVUZXh0LnN0eWxlW3Byb3BdID0gdmFsdWVcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0VGV4dGFyZWFTdHlsZSAoKSB7XHJcblxyXG4gIH1cclxuICBnZXRBbGxTdHlsZSAoKSB7XHJcbiAgICBsZXQgc3R5bGUgPSB7fVxyXG4gICAgZm9yIChsZXQgcHJvcCBpbiB0aGlzLnRleHRTdHlsZSkgeyBzdHlsZVtwcm9wXSA9IHRoaXMudGV4dFN0eWxlW3Byb3BdIH1cclxuICAgIGZvciAobGV0IHByb3AgaW4gdGhpcy5kcmF3U3R5bGUpIHsgc3R5bGVbcHJvcF0gPSB0aGlzLmRyYXdTdHlsZVtwcm9wXSB9XHJcbiAgICByZXR1cm4gc3R5bGVcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoYXBlXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYXBlcy9zaGFwZS5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return tools; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return toolsGroup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return simplyToolTypes; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_shapeDefaultSetting__ = __webpack_require__(2);\n\r\n\r\nconst tools = {\r\n  'undo': {\r\n    hint: '撤销',\r\n    faClass: 'fa-undo',\r\n    styleName: null,\r\n    styleValue: null\r\n  },\r\n  'redo': {\r\n    hint: '重做',\r\n    faClass: 'fa-repeat',\r\n    styleName: null,\r\n    styleValue: null\r\n  },\r\n  'bold' : {\r\n    hint: '加粗',\r\n    faClass: 'fa-bold',\r\n    styleName: 'fontWeight',\r\n    styleValue: ['normal', 'bold']\r\n  },\r\n  'italic' : {\r\n    hint: '斜体',\r\n    faClass: 'fa-italic',\r\n    styleName: 'fontStyle',\r\n    styleValue: ['normal', 'italic']\r\n  },\r\n  'underline' : {\r\n    hint: '下划线',\r\n    faClass: 'fa-underline',\r\n    styleName: 'textDecoration',\r\n    styleValue: ['none', 'underline']\r\n  },\r\n  'fontFamily' : {\r\n    hint: '字体',\r\n    faClass: 'fa-font',\r\n    styleName: 'fontFamily',\r\n    styleValue: ['Arial', 'Sans']\r\n  },\r\n  'fontSize' : {\r\n    hint: '文字大小',\r\n    faClass: 'fa-text-height',\r\n    styleName: 'fontSize',\r\n    styleValue: ['x-small', 'x-normal', 'x-large']\r\n  },\r\n  'fontColor' : {\r\n    hint: '文字颜色',\r\n    faClass: 'fa-pencil',\r\n    styleName: 'color',\r\n    styleValue: [__WEBPACK_IMPORTED_MODULE_0__shapes_shapeDefaultSetting__[\"d\" /* textDefaultSetting */].color]\r\n  },\r\n  'fillStyle' : {\r\n    hint: '填充颜色',\r\n    faClass: 'fa-square',\r\n    styleName: 'fillStyle',\r\n    styleValue: [__WEBPACK_IMPORTED_MODULE_0__shapes_shapeDefaultSetting__[\"b\" /* drawingDefaultSetting */].fillStyle]\r\n  },\r\n  'strokeStyle' : {\r\n    hint: '线条颜色',\r\n    faClass: 'fa-paint-brush',\r\n    styleName: 'strokeStyle',\r\n    styleValue: [__WEBPACK_IMPORTED_MODULE_0__shapes_shapeDefaultSetting__[\"b\" /* drawingDefaultSetting */].strokeStyle]\r\n  },\r\n  /*\r\n  'lineWidth' : {\r\n    hint: '线条宽度',\r\n    faClass: ,\r\n    styleName: ,\r\n    styleValue:\r\n  },\r\n  'lineDash' : {\r\n    hint: '线条样式',\r\n    faClass: ,\r\n    styleName: ,\r\n    styleValue:\r\n  },\r\n  'linkerType' : {\r\n    hint: '连线类型',\r\n    faClass: ,\r\n    styleName: ,\r\n    styleValue:\r\n  },\r\n  'arrowType' : {\r\n    hint: '箭头类型',\r\n    faClass: ,\r\n    styleName: ,\r\n    styleValue:\r\n  }*/\r\n}\r\n\r\nconst toolsGroup = [\r\n  ['undo', 'redo'],\r\n  ['bold', 'italic', 'underline'],\r\n  ['fontFamily', 'fontSize', 'fontColor'],\r\n  ['fillStyle', 'strokeStyle', 'lineWidth', 'lineDash'],\r\n  ['linkerType', 'arrowType']\r\n]\r\n\r\nconst simplyToolTypes = [\r\n  'undo', 'redo',\r\n  'bold', 'italic', 'underline'\r\n]\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy90b29sYmFyL3Rvb2xiYXJEZWZhdWx0U2V0dGluZy5qcz9mMmFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZHJhd2luZ0RlZmF1bHRTZXR0aW5nLCB0ZXh0RGVmYXVsdFNldHRpbmd9IGZyb20gXCIuLi9zaGFwZXMvc2hhcGVEZWZhdWx0U2V0dGluZ1wiO1xyXG5cclxuY29uc3QgdG9vbHMgPSB7XHJcbiAgJ3VuZG8nOiB7XHJcbiAgICBoaW50OiAn5pKk6ZSAJyxcclxuICAgIGZhQ2xhc3M6ICdmYS11bmRvJyxcclxuICAgIHN0eWxlTmFtZTogbnVsbCxcclxuICAgIHN0eWxlVmFsdWU6IG51bGxcclxuICB9LFxyXG4gICdyZWRvJzoge1xyXG4gICAgaGludDogJ+mHjeWBmicsXHJcbiAgICBmYUNsYXNzOiAnZmEtcmVwZWF0JyxcclxuICAgIHN0eWxlTmFtZTogbnVsbCxcclxuICAgIHN0eWxlVmFsdWU6IG51bGxcclxuICB9LFxyXG4gICdib2xkJyA6IHtcclxuICAgIGhpbnQ6ICfliqDnspcnLFxyXG4gICAgZmFDbGFzczogJ2ZhLWJvbGQnLFxyXG4gICAgc3R5bGVOYW1lOiAnZm9udFdlaWdodCcsXHJcbiAgICBzdHlsZVZhbHVlOiBbJ25vcm1hbCcsICdib2xkJ11cclxuICB9LFxyXG4gICdpdGFsaWMnIDoge1xyXG4gICAgaGludDogJ+aWnOS9kycsXHJcbiAgICBmYUNsYXNzOiAnZmEtaXRhbGljJyxcclxuICAgIHN0eWxlTmFtZTogJ2ZvbnRTdHlsZScsXHJcbiAgICBzdHlsZVZhbHVlOiBbJ25vcm1hbCcsICdpdGFsaWMnXVxyXG4gIH0sXHJcbiAgJ3VuZGVybGluZScgOiB7XHJcbiAgICBoaW50OiAn5LiL5YiS57q/JyxcclxuICAgIGZhQ2xhc3M6ICdmYS11bmRlcmxpbmUnLFxyXG4gICAgc3R5bGVOYW1lOiAndGV4dERlY29yYXRpb24nLFxyXG4gICAgc3R5bGVWYWx1ZTogWydub25lJywgJ3VuZGVybGluZSddXHJcbiAgfSxcclxuICAnZm9udEZhbWlseScgOiB7XHJcbiAgICBoaW50OiAn5a2X5L2TJyxcclxuICAgIGZhQ2xhc3M6ICdmYS1mb250JyxcclxuICAgIHN0eWxlTmFtZTogJ2ZvbnRGYW1pbHknLFxyXG4gICAgc3R5bGVWYWx1ZTogWydBcmlhbCcsICdTYW5zJ11cclxuICB9LFxyXG4gICdmb250U2l6ZScgOiB7XHJcbiAgICBoaW50OiAn5paH5a2X5aSn5bCPJyxcclxuICAgIGZhQ2xhc3M6ICdmYS10ZXh0LWhlaWdodCcsXHJcbiAgICBzdHlsZU5hbWU6ICdmb250U2l6ZScsXHJcbiAgICBzdHlsZVZhbHVlOiBbJ3gtc21hbGwnLCAneC1ub3JtYWwnLCAneC1sYXJnZSddXHJcbiAgfSxcclxuICAnZm9udENvbG9yJyA6IHtcclxuICAgIGhpbnQ6ICfmloflrZfpopzoibInLFxyXG4gICAgZmFDbGFzczogJ2ZhLXBlbmNpbCcsXHJcbiAgICBzdHlsZU5hbWU6ICdjb2xvcicsXHJcbiAgICBzdHlsZVZhbHVlOiBbdGV4dERlZmF1bHRTZXR0aW5nLmNvbG9yXVxyXG4gIH0sXHJcbiAgJ2ZpbGxTdHlsZScgOiB7XHJcbiAgICBoaW50OiAn5aGr5YWF6aKc6ImyJyxcclxuICAgIGZhQ2xhc3M6ICdmYS1zcXVhcmUnLFxyXG4gICAgc3R5bGVOYW1lOiAnZmlsbFN0eWxlJyxcclxuICAgIHN0eWxlVmFsdWU6IFtkcmF3aW5nRGVmYXVsdFNldHRpbmcuZmlsbFN0eWxlXVxyXG4gIH0sXHJcbiAgJ3N0cm9rZVN0eWxlJyA6IHtcclxuICAgIGhpbnQ6ICfnur/mnaHpopzoibInLFxyXG4gICAgZmFDbGFzczogJ2ZhLXBhaW50LWJydXNoJyxcclxuICAgIHN0eWxlTmFtZTogJ3N0cm9rZVN0eWxlJyxcclxuICAgIHN0eWxlVmFsdWU6IFtkcmF3aW5nRGVmYXVsdFNldHRpbmcuc3Ryb2tlU3R5bGVdXHJcbiAgfSxcclxuICAvKlxyXG4gICdsaW5lV2lkdGgnIDoge1xyXG4gICAgaGludDogJ+e6v+adoeWuveW6picsXHJcbiAgICBmYUNsYXNzOiAsXHJcbiAgICBzdHlsZU5hbWU6ICxcclxuICAgIHN0eWxlVmFsdWU6XHJcbiAgfSxcclxuICAnbGluZURhc2gnIDoge1xyXG4gICAgaGludDogJ+e6v+adoeagt+W8jycsXHJcbiAgICBmYUNsYXNzOiAsXHJcbiAgICBzdHlsZU5hbWU6ICxcclxuICAgIHN0eWxlVmFsdWU6XHJcbiAgfSxcclxuICAnbGlua2VyVHlwZScgOiB7XHJcbiAgICBoaW50OiAn6L+e57q/57G75Z6LJyxcclxuICAgIGZhQ2xhc3M6ICxcclxuICAgIHN0eWxlTmFtZTogLFxyXG4gICAgc3R5bGVWYWx1ZTpcclxuICB9LFxyXG4gICdhcnJvd1R5cGUnIDoge1xyXG4gICAgaGludDogJ+eureWktOexu+WeiycsXHJcbiAgICBmYUNsYXNzOiAsXHJcbiAgICBzdHlsZU5hbWU6ICxcclxuICAgIHN0eWxlVmFsdWU6XHJcbiAgfSovXHJcbn1cclxuXHJcbmNvbnN0IHRvb2xzR3JvdXAgPSBbXHJcbiAgWyd1bmRvJywgJ3JlZG8nXSxcclxuICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZSddLFxyXG4gIFsnZm9udEZhbWlseScsICdmb250U2l6ZScsICdmb250Q29sb3InXSxcclxuICBbJ2ZpbGxTdHlsZScsICdzdHJva2VTdHlsZScsICdsaW5lV2lkdGgnLCAnbGluZURhc2gnXSxcclxuICBbJ2xpbmtlclR5cGUnLCAnYXJyb3dUeXBlJ11cclxuXVxyXG5cclxuY29uc3Qgc2ltcGx5VG9vbFR5cGVzID0gW1xyXG4gICd1bmRvJywgJ3JlZG8nLFxyXG4gICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnXHJcbl1cclxuXHJcbmV4cG9ydCB7dG9vbHMsIHRvb2xzR3JvdXAsIHNpbXBseVRvb2xUeXBlc31cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdG9vbGJhci90b29sYmFyRGVmYXVsdFNldHRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__process__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__decision__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__terminator__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__storedData__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__line__ = __webpack_require__(19);\n\r\n\r\n\r\n\r\n\r\n\r\nfunction getShapeByType (shapeName) {\r\n  switch (shapeName) {\r\n    case 'process': return __WEBPACK_IMPORTED_MODULE_0__process__[\"a\" /* default */]\r\n    case 'decision': return __WEBPACK_IMPORTED_MODULE_1__decision__[\"a\" /* default */]\r\n    case 'terminator': return __WEBPACK_IMPORTED_MODULE_2__terminator__[\"a\" /* default */]\r\n    case 'storeData': return __WEBPACK_IMPORTED_MODULE_3__storedData__[\"a\" /* default */]\r\n    case 'line': return __WEBPACK_IMPORTED_MODULE_4__line__[\"a\" /* default */]\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getShapeByType);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvaW5kZXguanM/M2ZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvY2VzcyBmcm9tICcuL3Byb2Nlc3MnXHJcbmltcG9ydCBEZWNpc2lvbiBmcm9tICcuL2RlY2lzaW9uJ1xyXG5pbXBvcnQgVGVybWluYXRvciBmcm9tICcuL3Rlcm1pbmF0b3InXHJcbmltcG9ydCBTdG9yZWREYXRhIGZyb20gJy4vc3RvcmVkRGF0YSdcclxuaW1wb3J0IExpbmUgZnJvbSAnLi9saW5lJ1xyXG5cclxuZnVuY3Rpb24gZ2V0U2hhcGVCeVR5cGUgKHNoYXBlTmFtZSkge1xyXG4gIHN3aXRjaCAoc2hhcGVOYW1lKSB7XHJcbiAgICBjYXNlICdwcm9jZXNzJzogcmV0dXJuIFByb2Nlc3NcclxuICAgIGNhc2UgJ2RlY2lzaW9uJzogcmV0dXJuIERlY2lzaW9uXHJcbiAgICBjYXNlICd0ZXJtaW5hdG9yJzogcmV0dXJuIFRlcm1pbmF0b3JcclxuICAgIGNhc2UgJ3N0b3JlRGF0YSc6IHJldHVybiBTdG9yZWREYXRhXHJcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIExpbmVcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldFNoYXBlQnlUeXBlXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhcGVzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("let colors = {\r\n  \"defaultFillStyle\": '#FFFFFF',\r\n  \"defaultStrokeStyle\": '#000000',\r\n  'lineArrowHightlight': 'rgba(237, 65, 65, 0.5)',\r\n  'lineBodyHighlight': 'rgba(237, 65, 65, 0.15)',\r\n  'textDefaultColor': 'rgb(50, 50, 50)'\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (colors);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21tb24vY29sb3JzLmpzPzcyZDkiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGNvbG9ycyA9IHtcclxuICBcImRlZmF1bHRGaWxsU3R5bGVcIjogJyNGRkZGRkYnLFxyXG4gIFwiZGVmYXVsdFN0cm9rZVN0eWxlXCI6ICcjMDAwMDAwJyxcclxuICAnbGluZUFycm93SGlnaHRsaWdodCc6ICdyZ2JhKDIzNywgNjUsIDY1LCAwLjUpJyxcclxuICAnbGluZUJvZHlIaWdobGlnaHQnOiAncmdiYSgyMzcsIDY1LCA2NSwgMC4xNSknLFxyXG4gICd0ZXh0RGVmYXVsdENvbG9yJzogJ3JnYig1MCwgNTAsIDUwKSdcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29sb3JzXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbW1vbi9jb2xvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function getUIParameters () {\r\n  let canvasLayout = document.getElementById('draw-layout')\r\n  let drawContainer = document.getElementById('draw-container')\r\n  return {\r\n    canvasPadding: drawContainer.style.padding.slice(0, -2) - 0,\r\n    canvasLeft: canvasLayout.offsetLeft,\r\n    canvasTop: canvasLayout.offsetTop\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getUIParameters);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21tb24vZ2V0VUlQYXJhbWV0ZXJzLmpzP2EyNTciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2V0VUlQYXJhbWV0ZXJzICgpIHtcclxuICBsZXQgY2FudmFzTGF5b3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXctbGF5b3V0JylcclxuICBsZXQgZHJhd0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3LWNvbnRhaW5lcicpXHJcbiAgcmV0dXJuIHtcclxuICAgIGNhbnZhc1BhZGRpbmc6IGRyYXdDb250YWluZXIuc3R5bGUucGFkZGluZy5zbGljZSgwLCAtMikgLSAwLFxyXG4gICAgY2FudmFzTGVmdDogY2FudmFzTGF5b3V0Lm9mZnNldExlZnQsXHJcbiAgICBjYW52YXNUb3A6IGNhbnZhc0xheW91dC5vZmZzZXRUb3BcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldFVJUGFyYW1ldGVyc1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbW1vbi9nZXRVSVBhcmFtZXRlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return generalizeLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return generalizePoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return generalizeEllipse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcQuarticEquation; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_util__ = __webpack_require__(0);\n\r\n\r\n// Line can be presented by (x - x2) / (x1 - x2) = (y - y2) / (x1 - y2)\r\n// or Ax + By + C = 0\r\n// or Kx + B = y\r\n// The order of parameters must be [x1, y1, x2, y2], [A, B, C] or [K, B].\r\nfunction generalizeLine (line) {\r\n  switch (line.length) {\r\n    case 2: return [line[0], -1, line[1]]\r\n    case 3: return line\r\n    case 4:\r\n      let [x1, y1, x2, y2] = line\r\n      let A = (y1 - y2) / (x1 - x2)\r\n      let B = -1\r\n      let C = y2 - A * x2\r\n      return [A, B, C]\r\n  }\r\n}\r\n\r\n// Points must contain x and y.\r\n// The order of parameters must be [x, y] or {x, y}\r\nfunction generalizePoint (point) {\r\n  if (__WEBPACK_IMPORTED_MODULE_0__common_util__[\"a\" /* default */].isArray(point)) {\r\n    return point\r\n  }\r\n  else {\r\n    return [point.x, point.y]\r\n  }\r\n}\r\n\r\n// Ellipse is presented by (x - m)^2 / a^2 + (y - n)^2 / b^2 = 1\r\n// Ellipse must contain a and b, m and n are optional.\r\n// The order of parameters must be [a, b, m, n] or {a, b, m, n}\r\nfunction generalizeEllipse (ellipse) {\r\n  if (__WEBPACK_IMPORTED_MODULE_0__common_util__[\"a\" /* default */].isArray(ellipse)) {\r\n    return ellipse\r\n  }\r\n  else {\r\n    return [ellipse.a, ellipse.b, ellipse.m, ellipse.n]\r\n  }\r\n}\r\n\r\nfunction calcQuarticEquation (a, b, c, d, e) {\r\n  let result = []\r\n  let t1 = c*c-3*b*d+12*a*e\r\n  let t2 = 2*c*c*c-9*b*c*d+27*a*d*d+27*b*b*e-72*a*c*e\r\n\r\n  let temp = Math.pow(t2+Math.sqrt(-4*t1*t1*t1+t2*t2),1/3)\r\n  let P = Math.pow(2,1/3)*t1/(3*a*temp)+temp/(3*Math.pow(2,1/3)*a)\r\n\r\n  let Q = 0.5*Math.sqrt(b*b/(4*a*a)-2*c/(3*a)+P)\r\n  if (isNaN(Q)) { return [] }\r\n  let R = b*b/(2*a*a)-4*c/(3*a)-P\r\n  let S = (-b*b*b/(a*a*a)+4*b*c/(a*a)-8*d/a)/(4*Math.sqrt(b*b/(4*a*a)-2*c/(3*a)+P))\r\n  let T1 = 0.5*Math.sqrt(R-S)\r\n  let T2 = 0.5*Math.sqrt(R+S)\r\n  if (!isNaN(T1)) {\r\n    result.push(-b/(4*a)-Q-T1)\r\n    result.push(-b/(4*a)-Q+T1)\r\n  }\r\n  if (!isNaN(T2)) {\r\n    result.push(-b/(4*a)+Q-T2)\r\n    result.push(-b/(4*a)+Q+T2)\r\n  }\r\n  return result\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb3JlL2NhbGN1bGF0aW9uL2NvbW1vbi5qcz8wMWI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJy4uLy4uL2NvbW1vbi91dGlsJ1xyXG5cclxuLy8gTGluZSBjYW4gYmUgcHJlc2VudGVkIGJ5ICh4IC0geDIpIC8gKHgxIC0geDIpID0gKHkgLSB5MikgLyAoeDEgLSB5MilcclxuLy8gb3IgQXggKyBCeSArIEMgPSAwXHJcbi8vIG9yIEt4ICsgQiA9IHlcclxuLy8gVGhlIG9yZGVyIG9mIHBhcmFtZXRlcnMgbXVzdCBiZSBbeDEsIHkxLCB4MiwgeTJdLCBbQSwgQiwgQ10gb3IgW0ssIEJdLlxyXG5mdW5jdGlvbiBnZW5lcmFsaXplTGluZSAobGluZSkge1xyXG4gIHN3aXRjaCAobGluZS5sZW5ndGgpIHtcclxuICAgIGNhc2UgMjogcmV0dXJuIFtsaW5lWzBdLCAtMSwgbGluZVsxXV1cclxuICAgIGNhc2UgMzogcmV0dXJuIGxpbmVcclxuICAgIGNhc2UgNDpcclxuICAgICAgbGV0IFt4MSwgeTEsIHgyLCB5Ml0gPSBsaW5lXHJcbiAgICAgIGxldCBBID0gKHkxIC0geTIpIC8gKHgxIC0geDIpXHJcbiAgICAgIGxldCBCID0gLTFcclxuICAgICAgbGV0IEMgPSB5MiAtIEEgKiB4MlxyXG4gICAgICByZXR1cm4gW0EsIEIsIENdXHJcbiAgfVxyXG59XHJcblxyXG4vLyBQb2ludHMgbXVzdCBjb250YWluIHggYW5kIHkuXHJcbi8vIFRoZSBvcmRlciBvZiBwYXJhbWV0ZXJzIG11c3QgYmUgW3gsIHldIG9yIHt4LCB5fVxyXG5mdW5jdGlvbiBnZW5lcmFsaXplUG9pbnQgKHBvaW50KSB7XHJcbiAgaWYgKF8uaXNBcnJheShwb2ludCkpIHtcclxuICAgIHJldHVybiBwb2ludFxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJldHVybiBbcG9pbnQueCwgcG9pbnQueV1cclxuICB9XHJcbn1cclxuXHJcbi8vIEVsbGlwc2UgaXMgcHJlc2VudGVkIGJ5ICh4IC0gbSleMiAvIGFeMiArICh5IC0gbileMiAvIGJeMiA9IDFcclxuLy8gRWxsaXBzZSBtdXN0IGNvbnRhaW4gYSBhbmQgYiwgbSBhbmQgbiBhcmUgb3B0aW9uYWwuXHJcbi8vIFRoZSBvcmRlciBvZiBwYXJhbWV0ZXJzIG11c3QgYmUgW2EsIGIsIG0sIG5dIG9yIHthLCBiLCBtLCBufVxyXG5mdW5jdGlvbiBnZW5lcmFsaXplRWxsaXBzZSAoZWxsaXBzZSkge1xyXG4gIGlmIChfLmlzQXJyYXkoZWxsaXBzZSkpIHtcclxuICAgIHJldHVybiBlbGxpcHNlXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgcmV0dXJuIFtlbGxpcHNlLmEsIGVsbGlwc2UuYiwgZWxsaXBzZS5tLCBlbGxpcHNlLm5dXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjUXVhcnRpY0VxdWF0aW9uIChhLCBiLCBjLCBkLCBlKSB7XHJcbiAgbGV0IHJlc3VsdCA9IFtdXHJcbiAgbGV0IHQxID0gYypjLTMqYipkKzEyKmEqZVxyXG4gIGxldCB0MiA9IDIqYypjKmMtOSpiKmMqZCsyNyphKmQqZCsyNypiKmIqZS03MiphKmMqZVxyXG5cclxuICBsZXQgdGVtcCA9IE1hdGgucG93KHQyK01hdGguc3FydCgtNCp0MSp0MSp0MSt0Mip0MiksMS8zKVxyXG4gIGxldCBQID0gTWF0aC5wb3coMiwxLzMpKnQxLygzKmEqdGVtcCkrdGVtcC8oMypNYXRoLnBvdygyLDEvMykqYSlcclxuXHJcbiAgbGV0IFEgPSAwLjUqTWF0aC5zcXJ0KGIqYi8oNCphKmEpLTIqYy8oMyphKStQKVxyXG4gIGlmIChpc05hTihRKSkgeyByZXR1cm4gW10gfVxyXG4gIGxldCBSID0gYipiLygyKmEqYSktNCpjLygzKmEpLVBcclxuICBsZXQgUyA9ICgtYipiKmIvKGEqYSphKSs0KmIqYy8oYSphKS04KmQvYSkvKDQqTWF0aC5zcXJ0KGIqYi8oNCphKmEpLTIqYy8oMyphKStQKSlcclxuICBsZXQgVDEgPSAwLjUqTWF0aC5zcXJ0KFItUylcclxuICBsZXQgVDIgPSAwLjUqTWF0aC5zcXJ0KFIrUylcclxuICBpZiAoIWlzTmFOKFQxKSkge1xyXG4gICAgcmVzdWx0LnB1c2goLWIvKDQqYSktUS1UMSlcclxuICAgIHJlc3VsdC5wdXNoKC1iLyg0KmEpLVErVDEpXHJcbiAgfVxyXG4gIGlmICghaXNOYU4oVDIpKSB7XHJcbiAgICByZXN1bHQucHVzaCgtYi8oNCphKStRLVQyKVxyXG4gICAgcmVzdWx0LnB1c2goLWIvKDQqYSkrUStUMilcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdFxyXG59XHJcblxyXG5leHBvcnQge2dlbmVyYWxpemVMaW5lLCBnZW5lcmFsaXplUG9pbnQsIGdlbmVyYWxpemVFbGxpcHNlLCBjYWxjUXVhcnRpY0VxdWF0aW9ufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb3JlL2NhbGN1bGF0aW9uL2NvbW1vbi5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shape__ = __webpack_require__(3);\n\r\n\r\nconst defaultWidthHeightRatio = 0.6\r\nconst lineAreaWidth = 7\r\n\r\nfunction isPointWithinEllipse (point, ellipse) {\r\n  let [x, y] = point\r\n  let [a, b, m, n] = ellipse\r\n  let result = (x-m)*(x-m)/(a*a)+(y-n)*(y-n)/(b*b)\r\n  return result <= 1\r\n}\r\n\r\nfunction isInTerminalShape (x, y, left, top, width, height, radio) {\r\n  // Note that the left, right, width, height are about\r\n  // the circumscribed rectangle of real terminal. Padding is excluded.\r\n  let a = height / 2 * radio, b = height / 2\r\n  let innerLeft = left + a, innerTop = top\r\n  let innerWidth = width - 2 * a, innerHeight = height\r\n  if (x > innerLeft && x < innerLeft + innerWidth\r\n    && y > innerTop && y < innerTop + innerHeight) {\r\n    return true\r\n  }\r\n  let ellipseLeft = [a, b, innerLeft, innerTop + innerHeight / 2]\r\n  let ellipseRight = [a, b, innerLeft + innerWidth, innerTop + innerHeight / 2]\r\n\r\n  return (isPointWithinEllipse([x, y], ellipseLeft)\r\n    || isPointWithinEllipse([x, y], ellipseRight))\r\n}\r\n\r\nfunction calcXOfEllipse (ellipse, y, isLeft) {\r\n  let [a, b, m, n] = ellipse\r\n\r\n  let temp = a * Math.sqrt(1 - (y - n) * (y - n) / (b * b))\r\n  return m + temp * (isLeft ? -1 : 1)\r\n}\r\n\r\nfunction judgeInShapeArea (x, y, left, top, width, height) {\r\n  let lineResultA, lineResultB\r\n  let x1 = left, y1 = top\r\n  let x2 = left + width, y2 = top + height\r\n  lineResultA = (x - x2) / (x1 - x2) - (y - y2) / (y1 - y2)\r\n  x1 = left + width, y1 = top\r\n  x2 = left, y2 = top + height\r\n  lineResultB = (x - x2) / (x1 - x2) - (y - y2) / (y1 - y2)\r\n  if (lineResultA <= 0) {\r\n    return lineResultB < 0 ? 'top' : 'right'\r\n  }\r\n  else {\r\n    return lineResultB > 0 ? 'bottom': 'left'\r\n  }\r\n}\r\n\r\nclass Terminator extends __WEBPACK_IMPORTED_MODULE_0__shape__[\"a\" /* default */] {\r\n  constructor (el, type, left, top, width, height) {\r\n    super(el, type, left, top, width, height)\r\n  }\r\n  // And a problem still exists: currently, I use function scale and arc to\r\n  // draw the ellipse, and it works fine for most time. But when the scale radio\r\n  // is way to big, it will cause the line of ellipse being too thin.\r\n  // Maybe I can try using bezier instead of arc.\r\n  draw (paddingHorizontal, paddingVertical, drawContext) {\r\n    let horizontal = (typeof paddingHorizontal === 'undefined' || paddingHorizontal === null)\r\n      ? this.padding : paddingHorizontal\r\n    let vertical = (typeof paddingVertical === 'undefined' || paddingVertical === null)\r\n      ? this.padding : paddingVertical\r\n    let context = (typeof drawContext === 'undefined' || drawContext === null )\r\n      ? this.context : drawContext\r\n\r\n    let radius = (this.height - 2 * vertical) / 2\r\n    let radio = this.calcWidthHeightRatio()\r\n    let centerA = [], centerB = []\r\n    centerA.x = horizontal / radio + radius\r\n    centerA.y = vertical + radius\r\n    centerB.x = (this.width - horizontal) / radio - radius\r\n    centerB.y = vertical + radius\r\n\r\n    this.resetDrawStyle(context)\r\n    context.beginPath()\r\n    context.scale(this.calcWidthHeightRatio(), 1)\r\n    context.arc(centerA.x, centerA.y, radius, 0.5 * Math.PI, 1.5 * Math.PI)\r\n    context.lineTo(centerB.x, vertical)\r\n    context.arc(centerB.x, centerB.y, radius, 1.5 * Math.PI, 0.5 * Math.PI)\r\n    context.closePath()\r\n    context.fill()\r\n    context.stroke()\r\n    context.scale(1 / this.calcWidthHeightRatio(), 1)\r\n  }\r\n  drawOnOtherCanvas (context, left, top) {\r\n    context.translate(left, top)\r\n    this.draw(null, null, context)\r\n    context.translate(-left, -top)\r\n  }\r\n  isPositionInShape (x, y) {\r\n    return isInTerminalShape(x, y, this.left + this.padding, this.top + this.padding\r\n      , this.width - 2 * this.padding, this.height - 2 * this.padding, this.calcWidthHeightRatio())\r\n  }\r\n  isPositionInLineArea (x, y, bodyExcluded) {\r\n    if (!bodyExcluded && this.isPositionInShape(x, y)) { return false }\r\n\r\n    let deltaA = lineAreaWidth * this.calcWidthHeightRatio()\r\n    let deltaWidth = (1 - this.calcWidthHeightRatio()) * lineAreaWidth\r\n    return isInTerminalShape(x, y, this.left + this.padding - deltaA - deltaWidth, this.top\r\n      , this.width - 2 * this.padding + 2 * (deltaA + deltaWidth), this.height, this.calcWidthHeightRatio())\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type\r\n    type = (this.isPositionInShape(x, y)) ? 'shapeBody' : null\r\n    type = (!type) ? ((this.isPositionInLineArea(x, y, true)) ? 'shapeLineArea' : 'empty') : type\r\n    return { shape: this, type: type }\r\n  }\r\n  calcWidthHeightRatio () {\r\n    let innerWidth = this.width - this.padding * 2, innerHeight = this.height - this.padding * 2\r\n    let a = innerHeight / 2 * defaultWidthHeightRatio\r\n    if (innerWidth >= 3 * a) {\r\n      return defaultWidthHeightRatio\r\n    }\r\n    else {\r\n      return (innerWidth / 3) / (innerHeight / 2)\r\n    }\r\n  }\r\n  calcInnerShapeData () {\r\n    let innerTop = this.top + this.padding\r\n    let innerHeight = this.height - 2 * this.padding\r\n    let a = innerHeight / 2 * this.calcWidthHeightRatio(), b = innerHeight / 2\r\n    let innerLeft = this.left + this.padding + a\r\n    let innerWidth = this.width - 2 * this.padding - 2 * a\r\n\r\n    let ellipseLeft = [a, b, innerLeft, innerTop + innerHeight / 2]\r\n    let ellipseRight = [a, b, innerLeft + innerWidth, innerTop + innerHeight / 2]\r\n    return [innerLeft, innerTop, innerWidth, innerHeight, ellipseLeft, ellipseRight]\r\n  }\r\n  // ReferPosition includes top, right, bottom, left, nwCorner, neCorner, seCorner, swCorner.\r\n  calcLinePosition (referPosition, referPercent) {\r\n    let x, y\r\n    let [innerLeft, innerTop, innerWidth, innerHeight, ellipseLeft, ellipseRight] = this.calcInnerShapeData()\r\n    switch (referPosition) {\r\n      case 'nwCorner':\r\n        x = innerLeft\r\n        y = innerTop\r\n        break;\r\n      case 'neCorner':\r\n        x = innerLeft + innerWidth\r\n        y = innerTop\r\n        break;\r\n      case 'seCorner':\r\n        x = innerLeft + innerWidth\r\n        y = innerTop + innerHeight\r\n        break;\r\n      case 'swCorner':\r\n        x = innerLeft\r\n        y = innerTop + innerHeight\r\n        break;\r\n      case 'top':\r\n        x = innerLeft + innerWidth * referPercent\r\n        y = innerTop\r\n        break;\r\n      case 'right':\r\n        y = innerTop + innerHeight * referPercent\r\n        x = calcXOfEllipse(ellipseRight, y, false)\r\n        break;\r\n      case 'bottom':\r\n        x = innerLeft + innerWidth * referPercent\r\n        y = innerTop + innerHeight\r\n        break;\r\n      case 'left':\r\n        y = innerTop + innerHeight * referPercent\r\n        x = calcXOfEllipse(ellipseLeft, y, true)\r\n        break;\r\n    }\r\n    return { x: x, y: y }\r\n  }\r\n  getLineReference (x, y) {\r\n    let referPosition = null, referPercent = 0, position\r\n    let [innerLeft, innerTop, innerWidth, innerHeight, ellipseLeft, ellipseRight] = this.calcInnerShapeData()\r\n\r\n    if (this.isPositionInShape(x, y)) {\r\n      referPercent = 0.5\r\n      referPosition = judgeInShapeArea(x, y, innerLeft, innerTop, innerWidth, innerHeight)\r\n    }\r\n    else if (this.isPositionInLineArea(x, y, true)) {\r\n      if (y <= innerTop) {\r\n        if (x <= innerLeft) {\r\n          referPosition = 'nwCorner'\r\n        }\r\n        else if (x >= innerLeft + innerWidth) {\r\n          referPosition = 'neCorner'\r\n        }\r\n        else {\r\n          referPosition = 'top'\r\n          referPercent = (x - innerLeft) / innerWidth\r\n        }\r\n      }\r\n      else if (y >= innerTop + innerHeight) {\r\n        if (x <= innerLeft) {\r\n          referPosition = 'swCorner'\r\n        }\r\n        else if (x >= innerLeft + innerWidth) {\r\n          referPosition = 'seCorner'\r\n        }\r\n        else {\r\n          referPosition = 'bottom'\r\n          referPercent = (x - innerLeft) / innerWidth\r\n        }\r\n      }\r\n      else {\r\n        referPercent = (y - innerTop) / innerHeight\r\n        referPosition = (x < innerLeft + innerWidth / 2) ? 'left' : 'right'\r\n      }\r\n    }\r\n    else {return null}\r\n\r\n    position = this.calcLinePosition(referPosition, referPercent)\r\n    return {\r\n      referPosition: referPosition,\r\n      referPercent: referPercent,\r\n      position: position\r\n    }\r\n  }\r\n  resetLinesPosition () {\r\n    let lineData, position\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      lineData = this.relativeLines[i]\r\n      position = this.calcLinePosition(lineData.referPosition, lineData.referPercent)\r\n      if (lineData.type === 'src') {\r\n        lineData.line.resetSrcPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n      else {\r\n        lineData.line.resetDestPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Terminator);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvdGVybWluYXRvci5qcz9iZWRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFwZSBmcm9tICcuL3NoYXBlJ1xyXG5cclxuY29uc3QgZGVmYXVsdFdpZHRoSGVpZ2h0UmF0aW8gPSAwLjZcclxuY29uc3QgbGluZUFyZWFXaWR0aCA9IDdcclxuXHJcbmZ1bmN0aW9uIGlzUG9pbnRXaXRoaW5FbGxpcHNlIChwb2ludCwgZWxsaXBzZSkge1xyXG4gIGxldCBbeCwgeV0gPSBwb2ludFxyXG4gIGxldCBbYSwgYiwgbSwgbl0gPSBlbGxpcHNlXHJcbiAgbGV0IHJlc3VsdCA9ICh4LW0pKih4LW0pLyhhKmEpKyh5LW4pKih5LW4pLyhiKmIpXHJcbiAgcmV0dXJuIHJlc3VsdCA8PSAxXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW5UZXJtaW5hbFNoYXBlICh4LCB5LCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIHJhZGlvKSB7XHJcbiAgLy8gTm90ZSB0aGF0IHRoZSBsZWZ0LCByaWdodCwgd2lkdGgsIGhlaWdodCBhcmUgYWJvdXRcclxuICAvLyB0aGUgY2lyY3Vtc2NyaWJlZCByZWN0YW5nbGUgb2YgcmVhbCB0ZXJtaW5hbC4gUGFkZGluZyBpcyBleGNsdWRlZC5cclxuICBsZXQgYSA9IGhlaWdodCAvIDIgKiByYWRpbywgYiA9IGhlaWdodCAvIDJcclxuICBsZXQgaW5uZXJMZWZ0ID0gbGVmdCArIGEsIGlubmVyVG9wID0gdG9wXHJcbiAgbGV0IGlubmVyV2lkdGggPSB3aWR0aCAtIDIgKiBhLCBpbm5lckhlaWdodCA9IGhlaWdodFxyXG4gIGlmICh4ID4gaW5uZXJMZWZ0ICYmIHggPCBpbm5lckxlZnQgKyBpbm5lcldpZHRoXHJcbiAgICAmJiB5ID4gaW5uZXJUb3AgJiYgeSA8IGlubmVyVG9wICsgaW5uZXJIZWlnaHQpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG4gIGxldCBlbGxpcHNlTGVmdCA9IFthLCBiLCBpbm5lckxlZnQsIGlubmVyVG9wICsgaW5uZXJIZWlnaHQgLyAyXVxyXG4gIGxldCBlbGxpcHNlUmlnaHQgPSBbYSwgYiwgaW5uZXJMZWZ0ICsgaW5uZXJXaWR0aCwgaW5uZXJUb3AgKyBpbm5lckhlaWdodCAvIDJdXHJcblxyXG4gIHJldHVybiAoaXNQb2ludFdpdGhpbkVsbGlwc2UoW3gsIHldLCBlbGxpcHNlTGVmdClcclxuICAgIHx8IGlzUG9pbnRXaXRoaW5FbGxpcHNlKFt4LCB5XSwgZWxsaXBzZVJpZ2h0KSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1hPZkVsbGlwc2UgKGVsbGlwc2UsIHksIGlzTGVmdCkge1xyXG4gIGxldCBbYSwgYiwgbSwgbl0gPSBlbGxpcHNlXHJcblxyXG4gIGxldCB0ZW1wID0gYSAqIE1hdGguc3FydCgxIC0gKHkgLSBuKSAqICh5IC0gbikgLyAoYiAqIGIpKVxyXG4gIHJldHVybiBtICsgdGVtcCAqIChpc0xlZnQgPyAtMSA6IDEpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGp1ZGdlSW5TaGFwZUFyZWEgKHgsIHksIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xyXG4gIGxldCBsaW5lUmVzdWx0QSwgbGluZVJlc3VsdEJcclxuICBsZXQgeDEgPSBsZWZ0LCB5MSA9IHRvcFxyXG4gIGxldCB4MiA9IGxlZnQgKyB3aWR0aCwgeTIgPSB0b3AgKyBoZWlnaHRcclxuICBsaW5lUmVzdWx0QSA9ICh4IC0geDIpIC8gKHgxIC0geDIpIC0gKHkgLSB5MikgLyAoeTEgLSB5MilcclxuICB4MSA9IGxlZnQgKyB3aWR0aCwgeTEgPSB0b3BcclxuICB4MiA9IGxlZnQsIHkyID0gdG9wICsgaGVpZ2h0XHJcbiAgbGluZVJlc3VsdEIgPSAoeCAtIHgyKSAvICh4MSAtIHgyKSAtICh5IC0geTIpIC8gKHkxIC0geTIpXHJcbiAgaWYgKGxpbmVSZXN1bHRBIDw9IDApIHtcclxuICAgIHJldHVybiBsaW5lUmVzdWx0QiA8IDAgPyAndG9wJyA6ICdyaWdodCdcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICByZXR1cm4gbGluZVJlc3VsdEIgPiAwID8gJ2JvdHRvbSc6ICdsZWZ0J1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgVGVybWluYXRvciBleHRlbmRzIFNoYXBlIHtcclxuICBjb25zdHJ1Y3RvciAoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgc3VwZXIoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodClcclxuICB9XHJcbiAgLy8gQW5kIGEgcHJvYmxlbSBzdGlsbCBleGlzdHM6IGN1cnJlbnRseSwgSSB1c2UgZnVuY3Rpb24gc2NhbGUgYW5kIGFyYyB0b1xyXG4gIC8vIGRyYXcgdGhlIGVsbGlwc2UsIGFuZCBpdCB3b3JrcyBmaW5lIGZvciBtb3N0IHRpbWUuIEJ1dCB3aGVuIHRoZSBzY2FsZSByYWRpb1xyXG4gIC8vIGlzIHdheSB0byBiaWcsIGl0IHdpbGwgY2F1c2UgdGhlIGxpbmUgb2YgZWxsaXBzZSBiZWluZyB0b28gdGhpbi5cclxuICAvLyBNYXliZSBJIGNhbiB0cnkgdXNpbmcgYmV6aWVyIGluc3RlYWQgb2YgYXJjLlxyXG4gIGRyYXcgKHBhZGRpbmdIb3Jpem9udGFsLCBwYWRkaW5nVmVydGljYWwsIGRyYXdDb250ZXh0KSB7XHJcbiAgICBsZXQgaG9yaXpvbnRhbCA9ICh0eXBlb2YgcGFkZGluZ0hvcml6b250YWwgPT09ICd1bmRlZmluZWQnIHx8IHBhZGRpbmdIb3Jpem9udGFsID09PSBudWxsKVxyXG4gICAgICA/IHRoaXMucGFkZGluZyA6IHBhZGRpbmdIb3Jpem9udGFsXHJcbiAgICBsZXQgdmVydGljYWwgPSAodHlwZW9mIHBhZGRpbmdWZXJ0aWNhbCA9PT0gJ3VuZGVmaW5lZCcgfHwgcGFkZGluZ1ZlcnRpY2FsID09PSBudWxsKVxyXG4gICAgICA/IHRoaXMucGFkZGluZyA6IHBhZGRpbmdWZXJ0aWNhbFxyXG4gICAgbGV0IGNvbnRleHQgPSAodHlwZW9mIGRyYXdDb250ZXh0ID09PSAndW5kZWZpbmVkJyB8fCBkcmF3Q29udGV4dCA9PT0gbnVsbCApXHJcbiAgICAgID8gdGhpcy5jb250ZXh0IDogZHJhd0NvbnRleHRcclxuXHJcbiAgICBsZXQgcmFkaXVzID0gKHRoaXMuaGVpZ2h0IC0gMiAqIHZlcnRpY2FsKSAvIDJcclxuICAgIGxldCByYWRpbyA9IHRoaXMuY2FsY1dpZHRoSGVpZ2h0UmF0aW8oKVxyXG4gICAgbGV0IGNlbnRlckEgPSBbXSwgY2VudGVyQiA9IFtdXHJcbiAgICBjZW50ZXJBLnggPSBob3Jpem9udGFsIC8gcmFkaW8gKyByYWRpdXNcclxuICAgIGNlbnRlckEueSA9IHZlcnRpY2FsICsgcmFkaXVzXHJcbiAgICBjZW50ZXJCLnggPSAodGhpcy53aWR0aCAtIGhvcml6b250YWwpIC8gcmFkaW8gLSByYWRpdXNcclxuICAgIGNlbnRlckIueSA9IHZlcnRpY2FsICsgcmFkaXVzXHJcblxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZShjb250ZXh0KVxyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgY29udGV4dC5zY2FsZSh0aGlzLmNhbGNXaWR0aEhlaWdodFJhdGlvKCksIDEpXHJcbiAgICBjb250ZXh0LmFyYyhjZW50ZXJBLngsIGNlbnRlckEueSwgcmFkaXVzLCAwLjUgKiBNYXRoLlBJLCAxLjUgKiBNYXRoLlBJKVxyXG4gICAgY29udGV4dC5saW5lVG8oY2VudGVyQi54LCB2ZXJ0aWNhbClcclxuICAgIGNvbnRleHQuYXJjKGNlbnRlckIueCwgY2VudGVyQi55LCByYWRpdXMsIDEuNSAqIE1hdGguUEksIDAuNSAqIE1hdGguUEkpXHJcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpXHJcbiAgICBjb250ZXh0LmZpbGwoKVxyXG4gICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgY29udGV4dC5zY2FsZSgxIC8gdGhpcy5jYWxjV2lkdGhIZWlnaHRSYXRpbygpLCAxKVxyXG4gIH1cclxuICBkcmF3T25PdGhlckNhbnZhcyAoY29udGV4dCwgbGVmdCwgdG9wKSB7XHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShsZWZ0LCB0b3ApXHJcbiAgICB0aGlzLmRyYXcobnVsbCwgbnVsbCwgY29udGV4dClcclxuICAgIGNvbnRleHQudHJhbnNsYXRlKC1sZWZ0LCAtdG9wKVxyXG4gIH1cclxuICBpc1Bvc2l0aW9uSW5TaGFwZSAoeCwgeSkge1xyXG4gICAgcmV0dXJuIGlzSW5UZXJtaW5hbFNoYXBlKHgsIHksIHRoaXMubGVmdCArIHRoaXMucGFkZGluZywgdGhpcy50b3AgKyB0aGlzLnBhZGRpbmdcclxuICAgICAgLCB0aGlzLndpZHRoIC0gMiAqIHRoaXMucGFkZGluZywgdGhpcy5oZWlnaHQgLSAyICogdGhpcy5wYWRkaW5nLCB0aGlzLmNhbGNXaWR0aEhlaWdodFJhdGlvKCkpXHJcbiAgfVxyXG4gIGlzUG9zaXRpb25JbkxpbmVBcmVhICh4LCB5LCBib2R5RXhjbHVkZWQpIHtcclxuICAgIGlmICghYm9keUV4Y2x1ZGVkICYmIHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpIHsgcmV0dXJuIGZhbHNlIH1cclxuXHJcbiAgICBsZXQgZGVsdGFBID0gbGluZUFyZWFXaWR0aCAqIHRoaXMuY2FsY1dpZHRoSGVpZ2h0UmF0aW8oKVxyXG4gICAgbGV0IGRlbHRhV2lkdGggPSAoMSAtIHRoaXMuY2FsY1dpZHRoSGVpZ2h0UmF0aW8oKSkgKiBsaW5lQXJlYVdpZHRoXHJcbiAgICByZXR1cm4gaXNJblRlcm1pbmFsU2hhcGUoeCwgeSwgdGhpcy5sZWZ0ICsgdGhpcy5wYWRkaW5nIC0gZGVsdGFBIC0gZGVsdGFXaWR0aCwgdGhpcy50b3BcclxuICAgICAgLCB0aGlzLndpZHRoIC0gMiAqIHRoaXMucGFkZGluZyArIDIgKiAoZGVsdGFBICsgZGVsdGFXaWR0aCksIHRoaXMuaGVpZ2h0LCB0aGlzLmNhbGNXaWR0aEhlaWdodFJhdGlvKCkpXHJcbiAgfVxyXG4gIGp1ZGdlSW5TaGFwZSAoeCwgeSkge1xyXG4gICAgbGV0IHR5cGVcclxuICAgIHR5cGUgPSAodGhpcy5pc1Bvc2l0aW9uSW5TaGFwZSh4LCB5KSkgPyAnc2hhcGVCb2R5JyA6IG51bGxcclxuICAgIHR5cGUgPSAoIXR5cGUpID8gKCh0aGlzLmlzUG9zaXRpb25JbkxpbmVBcmVhKHgsIHksIHRydWUpKSA/ICdzaGFwZUxpbmVBcmVhJyA6ICdlbXB0eScpIDogdHlwZVxyXG4gICAgcmV0dXJuIHsgc2hhcGU6IHRoaXMsIHR5cGU6IHR5cGUgfVxyXG4gIH1cclxuICBjYWxjV2lkdGhIZWlnaHRSYXRpbyAoKSB7XHJcbiAgICBsZXQgaW5uZXJXaWR0aCA9IHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmcgKiAyLCBpbm5lckhlaWdodCA9IHRoaXMuaGVpZ2h0IC0gdGhpcy5wYWRkaW5nICogMlxyXG4gICAgbGV0IGEgPSBpbm5lckhlaWdodCAvIDIgKiBkZWZhdWx0V2lkdGhIZWlnaHRSYXRpb1xyXG4gICAgaWYgKGlubmVyV2lkdGggPj0gMyAqIGEpIHtcclxuICAgICAgcmV0dXJuIGRlZmF1bHRXaWR0aEhlaWdodFJhdGlvXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcmV0dXJuIChpbm5lcldpZHRoIC8gMykgLyAoaW5uZXJIZWlnaHQgLyAyKVxyXG4gICAgfVxyXG4gIH1cclxuICBjYWxjSW5uZXJTaGFwZURhdGEgKCkge1xyXG4gICAgbGV0IGlubmVyVG9wID0gdGhpcy50b3AgKyB0aGlzLnBhZGRpbmdcclxuICAgIGxldCBpbm5lckhlaWdodCA9IHRoaXMuaGVpZ2h0IC0gMiAqIHRoaXMucGFkZGluZ1xyXG4gICAgbGV0IGEgPSBpbm5lckhlaWdodCAvIDIgKiB0aGlzLmNhbGNXaWR0aEhlaWdodFJhdGlvKCksIGIgPSBpbm5lckhlaWdodCAvIDJcclxuICAgIGxldCBpbm5lckxlZnQgPSB0aGlzLmxlZnQgKyB0aGlzLnBhZGRpbmcgKyBhXHJcbiAgICBsZXQgaW5uZXJXaWR0aCA9IHRoaXMud2lkdGggLSAyICogdGhpcy5wYWRkaW5nIC0gMiAqIGFcclxuXHJcbiAgICBsZXQgZWxsaXBzZUxlZnQgPSBbYSwgYiwgaW5uZXJMZWZ0LCBpbm5lclRvcCArIGlubmVySGVpZ2h0IC8gMl1cclxuICAgIGxldCBlbGxpcHNlUmlnaHQgPSBbYSwgYiwgaW5uZXJMZWZ0ICsgaW5uZXJXaWR0aCwgaW5uZXJUb3AgKyBpbm5lckhlaWdodCAvIDJdXHJcbiAgICByZXR1cm4gW2lubmVyTGVmdCwgaW5uZXJUb3AsIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBlbGxpcHNlTGVmdCwgZWxsaXBzZVJpZ2h0XVxyXG4gIH1cclxuICAvLyBSZWZlclBvc2l0aW9uIGluY2x1ZGVzIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCwgbndDb3JuZXIsIG5lQ29ybmVyLCBzZUNvcm5lciwgc3dDb3JuZXIuXHJcbiAgY2FsY0xpbmVQb3NpdGlvbiAocmVmZXJQb3NpdGlvbiwgcmVmZXJQZXJjZW50KSB7XHJcbiAgICBsZXQgeCwgeVxyXG4gICAgbGV0IFtpbm5lckxlZnQsIGlubmVyVG9wLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodCwgZWxsaXBzZUxlZnQsIGVsbGlwc2VSaWdodF0gPSB0aGlzLmNhbGNJbm5lclNoYXBlRGF0YSgpXHJcbiAgICBzd2l0Y2ggKHJlZmVyUG9zaXRpb24pIHtcclxuICAgICAgY2FzZSAnbndDb3JuZXInOlxyXG4gICAgICAgIHggPSBpbm5lckxlZnRcclxuICAgICAgICB5ID0gaW5uZXJUb3BcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbmVDb3JuZXInOlxyXG4gICAgICAgIHggPSBpbm5lckxlZnQgKyBpbm5lcldpZHRoXHJcbiAgICAgICAgeSA9IGlubmVyVG9wXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NlQ29ybmVyJzpcclxuICAgICAgICB4ID0gaW5uZXJMZWZ0ICsgaW5uZXJXaWR0aFxyXG4gICAgICAgIHkgPSBpbm5lclRvcCArIGlubmVySGVpZ2h0XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3N3Q29ybmVyJzpcclxuICAgICAgICB4ID0gaW5uZXJMZWZ0XHJcbiAgICAgICAgeSA9IGlubmVyVG9wICsgaW5uZXJIZWlnaHRcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICB4ID0gaW5uZXJMZWZ0ICsgaW5uZXJXaWR0aCAqIHJlZmVyUGVyY2VudFxyXG4gICAgICAgIHkgPSBpbm5lclRvcFxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgeSA9IGlubmVyVG9wICsgaW5uZXJIZWlnaHQgKiByZWZlclBlcmNlbnRcclxuICAgICAgICB4ID0gY2FsY1hPZkVsbGlwc2UoZWxsaXBzZVJpZ2h0LCB5LCBmYWxzZSlcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICB4ID0gaW5uZXJMZWZ0ICsgaW5uZXJXaWR0aCAqIHJlZmVyUGVyY2VudFxyXG4gICAgICAgIHkgPSBpbm5lclRvcCArIGlubmVySGVpZ2h0XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgIHkgPSBpbm5lclRvcCArIGlubmVySGVpZ2h0ICogcmVmZXJQZXJjZW50XHJcbiAgICAgICAgeCA9IGNhbGNYT2ZFbGxpcHNlKGVsbGlwc2VMZWZ0LCB5LCB0cnVlKVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9XHJcbiAgfVxyXG4gIGdldExpbmVSZWZlcmVuY2UgKHgsIHkpIHtcclxuICAgIGxldCByZWZlclBvc2l0aW9uID0gbnVsbCwgcmVmZXJQZXJjZW50ID0gMCwgcG9zaXRpb25cclxuICAgIGxldCBbaW5uZXJMZWZ0LCBpbm5lclRvcCwgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHQsIGVsbGlwc2VMZWZ0LCBlbGxpcHNlUmlnaHRdID0gdGhpcy5jYWxjSW5uZXJTaGFwZURhdGEoKVxyXG5cclxuICAgIGlmICh0aGlzLmlzUG9zaXRpb25JblNoYXBlKHgsIHkpKSB7XHJcbiAgICAgIHJlZmVyUGVyY2VudCA9IDAuNVxyXG4gICAgICByZWZlclBvc2l0aW9uID0ganVkZ2VJblNoYXBlQXJlYSh4LCB5LCBpbm5lckxlZnQsIGlubmVyVG9wLCBpbm5lcldpZHRoLCBpbm5lckhlaWdodClcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuaXNQb3NpdGlvbkluTGluZUFyZWEoeCwgeSwgdHJ1ZSkpIHtcclxuICAgICAgaWYgKHkgPD0gaW5uZXJUb3ApIHtcclxuICAgICAgICBpZiAoeCA8PSBpbm5lckxlZnQpIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnbndDb3JuZXInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHggPj0gaW5uZXJMZWZ0ICsgaW5uZXJXaWR0aCkge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICduZUNvcm5lcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ3RvcCdcclxuICAgICAgICAgIHJlZmVyUGVyY2VudCA9ICh4IC0gaW5uZXJMZWZ0KSAvIGlubmVyV2lkdGhcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoeSA+PSBpbm5lclRvcCArIGlubmVySGVpZ2h0KSB7XHJcbiAgICAgICAgaWYgKHggPD0gaW5uZXJMZWZ0KSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ3N3Q29ybmVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh4ID49IGlubmVyTGVmdCArIGlubmVyV2lkdGgpIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnc2VDb3JuZXInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdib3R0b20nXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQgPSAoeCAtIGlubmVyTGVmdCkgLyBpbm5lcldpZHRoXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlZmVyUGVyY2VudCA9ICh5IC0gaW5uZXJUb3ApIC8gaW5uZXJIZWlnaHRcclxuICAgICAgICByZWZlclBvc2l0aW9uID0gKHggPCBpbm5lckxlZnQgKyBpbm5lcldpZHRoIC8gMikgPyAnbGVmdCcgOiAncmlnaHQnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge3JldHVybiBudWxsfVxyXG5cclxuICAgIHBvc2l0aW9uID0gdGhpcy5jYWxjTGluZVBvc2l0aW9uKHJlZmVyUG9zaXRpb24sIHJlZmVyUGVyY2VudClcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlZmVyUG9zaXRpb246IHJlZmVyUG9zaXRpb24sXHJcbiAgICAgIHJlZmVyUGVyY2VudDogcmVmZXJQZXJjZW50LFxyXG4gICAgICBwb3NpdGlvbjogcG9zaXRpb25cclxuICAgIH1cclxuICB9XHJcbiAgcmVzZXRMaW5lc1Bvc2l0aW9uICgpIHtcclxuICAgIGxldCBsaW5lRGF0YSwgcG9zaXRpb25cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWxhdGl2ZUxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxpbmVEYXRhID0gdGhpcy5yZWxhdGl2ZUxpbmVzW2ldXHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5jYWxjTGluZVBvc2l0aW9uKGxpbmVEYXRhLnJlZmVyUG9zaXRpb24sIGxpbmVEYXRhLnJlZmVyUGVyY2VudClcclxuICAgICAgaWYgKGxpbmVEYXRhLnR5cGUgPT09ICdzcmMnKSB7XHJcbiAgICAgICAgbGluZURhdGEubGluZS5yZXNldFNyY1Bvc2l0aW9uKHBvc2l0aW9uKVxyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUuZHJhdygpXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbGluZURhdGEubGluZS5yZXNldERlc3RQb3NpdGlvbihwb3NpdGlvbilcclxuICAgICAgICBsaW5lRGF0YS5saW5lLmRyYXcoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXJtaW5hdG9yXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYXBlcy90ZXJtaW5hdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createNewShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createNewLine; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_index__ = __webpack_require__(5);\n\r\n\r\nfunction createNewShape (type, left, top, width, height) {\r\n  let component = document.createElement('div')\r\n  component.classList.add('shape-box', type)\r\n\r\n  component.innerHTML = `\r\n    <canvas class=\"shape-canvas\"></canvas>\r\n    <textarea class=\"shape-text\"></textarea>`\r\n\r\n  let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(type))(component, type, left, top, width, height)\r\n\r\n  component.setAttribute('shapeid', shape.id)\r\n  return shape\r\n}\r\n\r\nfunction createNewLine (src, dist, settings) {\r\n  let component = document.createElement('div')\r\n  component.classList.add('shape-box', 'linker-box')\r\n\r\n  component.innerHTML = `\r\n    <canvas class=\"shape-canvas\"></canvas>\r\n    <div class=\"shape-text\" contenteditable=\"true\"></div>`\r\n\r\n  let line = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])('line'))(component, src, dist, settings)\r\n\r\n  component.setAttribute('shapeid', line.id)\r\n  return line\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9jcmVhdGVOZXdTaGFwZS5qcz8xNTJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRTaGFwZUJ5VHlwZSBmcm9tICcuLi9zaGFwZXMvaW5kZXgnXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOZXdTaGFwZSAodHlwZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgbGV0IGNvbXBvbmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3NoYXBlLWJveCcsIHR5cGUpXHJcblxyXG4gIGNvbXBvbmVudC5pbm5lckhUTUwgPSBgXHJcbiAgICA8Y2FudmFzIGNsYXNzPVwic2hhcGUtY2FudmFzXCI+PC9jYW52YXM+XHJcbiAgICA8dGV4dGFyZWEgY2xhc3M9XCJzaGFwZS10ZXh0XCI+PC90ZXh0YXJlYT5gXHJcblxyXG4gIGxldCBzaGFwZSA9IG5ldyAoZ2V0U2hhcGVCeVR5cGUodHlwZSkpKGNvbXBvbmVudCwgdHlwZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG5cclxuICBjb21wb25lbnQuc2V0QXR0cmlidXRlKCdzaGFwZWlkJywgc2hhcGUuaWQpXHJcbiAgcmV0dXJuIHNoYXBlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld0xpbmUgKHNyYywgZGlzdCwgc2V0dGluZ3MpIHtcclxuICBsZXQgY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBjb21wb25lbnQuY2xhc3NMaXN0LmFkZCgnc2hhcGUtYm94JywgJ2xpbmtlci1ib3gnKVxyXG5cclxuICBjb21wb25lbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGNhbnZhcyBjbGFzcz1cInNoYXBlLWNhbnZhc1wiPjwvY2FudmFzPlxyXG4gICAgPGRpdiBjbGFzcz1cInNoYXBlLXRleHRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC9kaXY+YFxyXG5cclxuICBsZXQgbGluZSA9IG5ldyAoZ2V0U2hhcGVCeVR5cGUoJ2xpbmUnKSkoY29tcG9uZW50LCBzcmMsIGRpc3QsIHNldHRpbmdzKVxyXG5cclxuICBjb21wb25lbnQuc2V0QXR0cmlidXRlKCdzaGFwZWlkJywgbGluZS5pZClcclxuICByZXR1cm4gbGluZVxyXG59XHJcblxyXG5leHBvcnQge2NyZWF0ZU5ld1NoYXBlLCBjcmVhdGVOZXdMaW5lfVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb3JlL2NyZWF0ZU5ld1NoYXBlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_controller__ = __webpack_require__(25);\n\r\n\r\n\r\nlet eventCommon = {\r\n  shapeController: {\r\n    el: null,\r\n    canvas: null,\r\n    init: function () {\r\n      this.el = document.getElementById('shape-controls')\r\n      this.canvas = document.getElementById('controls-bounding')\r\n    },\r\n    reset: function (left, top, width, height) {\r\n      if (!this.el) {\r\n        this.init()\r\n      }\r\n\r\n      this.el.style.left = left + 'px'\r\n      this.el.style.top = top + 'px'\r\n      this.el.style.width = width + 'px'\r\n      this.el.style.height = height + 'px'\r\n    },\r\n    setVisibility: function (visibility) {\r\n      if (!this.el) {\r\n        this.init()\r\n      }\r\n\r\n      if (visibility) {\r\n        this.el.style.display = 'block'\r\n      }\r\n      else {\r\n        this.el.style.display = 'none'\r\n      }\r\n    },\r\n    draw(width, height) {\r\n      if (!this.el) {\r\n        this.init()\r\n      }\r\n\r\n      return Object(__WEBPACK_IMPORTED_MODULE_1__draw_controller__[\"a\" /* default */])(this.canvas, width, height, 10)\r\n    }\r\n  },\r\n  bezierController: {},\r\n  styleController: {},\r\n\r\n  activeShape: null,\r\n  selectedShape: null,\r\n\r\n  lineData: {\r\n    selectedLine: null,\r\n    isActive: false,\r\n    src: {\r\n      position: null,\r\n      referPercent: null,\r\n      referPosition: null,\r\n      shape: null\r\n    },\r\n    dest: {\r\n      position: null,\r\n      referPercent: null,\r\n      referPosition: null,\r\n      shape: null\r\n    },\r\n    activeLine: null,\r\n    type: null,\r\n    // This value only works when creating a new line\r\n    needDeleted: false\r\n\r\n    // Type values: 'new', 'toDest', 'toSrc'\r\n  },\r\n\r\n  getShapeInListById: function (shapeId, shapeList) {\r\n    for (let i = 0; i < shapeList.length; i++) {\r\n      // If the line is being moved, ignore it\r\n      if (this.lineData.activeLine === shapeList[i]) {\r\n        continue\r\n      }\r\n      if (shapeList[i].id === shapeId)\r\n        return shapeList[i]\r\n    }\r\n    return null\r\n  },\r\n  deleteShapeInListById: function (shapeId, shapeList) {\r\n    for (let i = 0; i < shapeList.length; i++) {\r\n      if (shapeId === shapeList[i].id) {\r\n        let shape = shapeList.splice(i, 1)[0]\r\n        shape.destruct()\r\n        shape = null\r\n        return\r\n      }\r\n    }\r\n  },\r\n  isShapeInListById: function (shapeId, shapeList) {\r\n    for (let i = 0; i < shapeList.length; i++) {\r\n      if (shapeId === shapeList[i].id) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  },\r\n  judgeInShapeList: function (position, shapeList, dir) {\r\n    dir = (typeof dir !== 'undefined') ? dir : 1\r\n    let length = shapeList.length\r\n    let index = (dir > 0) ? 0 : length - 1\r\n    let result\r\n    for (; index >= 0 && index < length; index += dir) {\r\n      // If the line is being moved, ignore it.\r\n      if (this.lineData.isActive && shapeList[index] === this.lineData.activeLine) {\r\n        continue\r\n      }\r\n      if (shapeList[index].judgeInShape) {\r\n        result = shapeList[index].judgeInShape(position.x, position.y)\r\n        if (result.type !== 'empty')\r\n          return result\r\n      }\r\n    }\r\n    return null\r\n  },\r\n  judgeEventAt: function (event, shapeList) {\r\n    if (!event.target || !event.target.classList) {\r\n      return {shape: null, type: 'empty'}\r\n    }\r\n\r\n    let result, shape\r\n    let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"c\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n\r\n    if (event.target.classList.contains('toolbar-button')\r\n      || event.target.parentNode.classList && event.target.parentNode.classList.contains('toolbar-button')) {\r\n      return { shape: null, type: 'tool' }\r\n    }\r\n    else if (event.target.classList.contains('shape-controller')) {\r\n      return {\r\n        shape: this.selectedShape,\r\n        type: 'controller'\r\n      }\r\n    }\r\n    else if (event.target.parentNode.getAttribute\r\n      && event.target.parentNode.getAttribute('id') === 'shape-controls') {\r\n      // For now, the selected shape has no priority\r\n      // which is the same as processon's work.\r\n      result = this.judgeInShapeList(position, shapeList, -1)\r\n      if (result) {\r\n        result.topElement = this.shapeController.el\r\n      }\r\n      else {\r\n        result = { topElement: this.shapeController.el }\r\n      }\r\n      return result\r\n    }\r\n    else if (event.target.parentNode.classList\r\n      && event.target.parentNode.classList.contains('shape-box')) {\r\n      let shapeId = event.target.parentNode.getAttribute('shapeid')\r\n      shape = this.getShapeInListById(shapeId, shapeList)\r\n\r\n      if (!shape) {\r\n        // Judge whether the shape is already put into the shape list.\r\n        // It happens when users try to drag a new line.\r\n        // TopShape is undefined here.\r\n        return this.judgeInShapeList(position, shapeList, -1)\r\n      }\r\n      else {\r\n        // Common shape or line will work the same way.\r\n        result = shape.judgeInShape(position.x, position.y)\r\n        result.topElement = shape.el\r\n        if (result && result.type !== 'empty') {\r\n          return result\r\n        }\r\n        else {\r\n          let resultInList = this.judgeInShapeList(position, shapeList, -1)\r\n          if (resultInList) {\r\n            resultInList.topElement = shape.el\r\n          }\r\n          return (resultInList ? resultInList : result)\r\n        }\r\n      }\r\n    }\r\n\r\n    return {shape: null, type: 'empty'}\r\n\r\n    // type values: lineBody, lineDest, lineSrc\r\n    //              shapeBody, shapeLineArea\r\n    //              controller\r\n    //              empty\r\n    //              tool\r\n  }\r\n\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (eventCommon);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvY29tbW9uLmpzP2Y4N2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjYWxjUG9zaXRpb25JbkNhbnZhc30gZnJvbSAnLi4vY2FsY3VsYXRpb24vY2FsY1Bvc2l0aW9uJ1xyXG5pbXBvcnQgY29udHJvbGxlckRyYXcgZnJvbSAnLi4vLi4vZHJhdy9jb250cm9sbGVyJ1xyXG5cclxubGV0IGV2ZW50Q29tbW9uID0ge1xyXG4gIHNoYXBlQ29udHJvbGxlcjoge1xyXG4gICAgZWw6IG51bGwsXHJcbiAgICBjYW52YXM6IG51bGwsXHJcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcGUtY29udHJvbHMnKVxyXG4gICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250cm9scy1ib3VuZGluZycpXHJcbiAgICB9LFxyXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgaWYgKCF0aGlzLmVsKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCdcclxuICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSB0b3AgKyAncHgnXHJcbiAgICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCdcclxuICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnXHJcbiAgICB9LFxyXG4gICAgc2V0VmlzaWJpbGl0eTogZnVuY3Rpb24gKHZpc2liaWxpdHkpIHtcclxuICAgICAgaWYgKCF0aGlzLmVsKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpc2liaWxpdHkpIHtcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkcmF3KHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgaWYgKCF0aGlzLmVsKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGNvbnRyb2xsZXJEcmF3KHRoaXMuY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCAxMClcclxuICAgIH1cclxuICB9LFxyXG4gIGJlemllckNvbnRyb2xsZXI6IHt9LFxyXG4gIHN0eWxlQ29udHJvbGxlcjoge30sXHJcblxyXG4gIGFjdGl2ZVNoYXBlOiBudWxsLFxyXG4gIHNlbGVjdGVkU2hhcGU6IG51bGwsXHJcblxyXG4gIGxpbmVEYXRhOiB7XHJcbiAgICBzZWxlY3RlZExpbmU6IG51bGwsXHJcbiAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICBzcmM6IHtcclxuICAgICAgcG9zaXRpb246IG51bGwsXHJcbiAgICAgIHJlZmVyUGVyY2VudDogbnVsbCxcclxuICAgICAgcmVmZXJQb3NpdGlvbjogbnVsbCxcclxuICAgICAgc2hhcGU6IG51bGxcclxuICAgIH0sXHJcbiAgICBkZXN0OiB7XHJcbiAgICAgIHBvc2l0aW9uOiBudWxsLFxyXG4gICAgICByZWZlclBlcmNlbnQ6IG51bGwsXHJcbiAgICAgIHJlZmVyUG9zaXRpb246IG51bGwsXHJcbiAgICAgIHNoYXBlOiBudWxsXHJcbiAgICB9LFxyXG4gICAgYWN0aXZlTGluZTogbnVsbCxcclxuICAgIHR5cGU6IG51bGwsXHJcbiAgICAvLyBUaGlzIHZhbHVlIG9ubHkgd29ya3Mgd2hlbiBjcmVhdGluZyBhIG5ldyBsaW5lXHJcbiAgICBuZWVkRGVsZXRlZDogZmFsc2VcclxuXHJcbiAgICAvLyBUeXBlIHZhbHVlczogJ25ldycsICd0b0Rlc3QnLCAndG9TcmMnXHJcbiAgfSxcclxuXHJcbiAgZ2V0U2hhcGVJbkxpc3RCeUlkOiBmdW5jdGlvbiAoc2hhcGVJZCwgc2hhcGVMaXN0KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYXBlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBJZiB0aGUgbGluZSBpcyBiZWluZyBtb3ZlZCwgaWdub3JlIGl0XHJcbiAgICAgIGlmICh0aGlzLmxpbmVEYXRhLmFjdGl2ZUxpbmUgPT09IHNoYXBlTGlzdFtpXSkge1xyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNoYXBlTGlzdFtpXS5pZCA9PT0gc2hhcGVJZClcclxuICAgICAgICByZXR1cm4gc2hhcGVMaXN0W2ldXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH0sXHJcbiAgZGVsZXRlU2hhcGVJbkxpc3RCeUlkOiBmdW5jdGlvbiAoc2hhcGVJZCwgc2hhcGVMaXN0KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYXBlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoc2hhcGVJZCA9PT0gc2hhcGVMaXN0W2ldLmlkKSB7XHJcbiAgICAgICAgbGV0IHNoYXBlID0gc2hhcGVMaXN0LnNwbGljZShpLCAxKVswXVxyXG4gICAgICAgIHNoYXBlLmRlc3RydWN0KClcclxuICAgICAgICBzaGFwZSA9IG51bGxcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgaXNTaGFwZUluTGlzdEJ5SWQ6IGZ1bmN0aW9uIChzaGFwZUlkLCBzaGFwZUxpc3QpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChzaGFwZUlkID09PSBzaGFwZUxpc3RbaV0uaWQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9LFxyXG4gIGp1ZGdlSW5TaGFwZUxpc3Q6IGZ1bmN0aW9uIChwb3NpdGlvbiwgc2hhcGVMaXN0LCBkaXIpIHtcclxuICAgIGRpciA9ICh0eXBlb2YgZGlyICE9PSAndW5kZWZpbmVkJykgPyBkaXIgOiAxXHJcbiAgICBsZXQgbGVuZ3RoID0gc2hhcGVMaXN0Lmxlbmd0aFxyXG4gICAgbGV0IGluZGV4ID0gKGRpciA+IDApID8gMCA6IGxlbmd0aCAtIDFcclxuICAgIGxldCByZXN1bHRcclxuICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcclxuICAgICAgLy8gSWYgdGhlIGxpbmUgaXMgYmVpbmcgbW92ZWQsIGlnbm9yZSBpdC5cclxuICAgICAgaWYgKHRoaXMubGluZURhdGEuaXNBY3RpdmUgJiYgc2hhcGVMaXN0W2luZGV4XSA9PT0gdGhpcy5saW5lRGF0YS5hY3RpdmVMaW5lKSB7XHJcbiAgICAgICAgY29udGludWVcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2hhcGVMaXN0W2luZGV4XS5qdWRnZUluU2hhcGUpIHtcclxuICAgICAgICByZXN1bHQgPSBzaGFwZUxpc3RbaW5kZXhdLmp1ZGdlSW5TaGFwZShwb3NpdGlvbi54LCBwb3NpdGlvbi55KVxyXG4gICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ2VtcHR5JylcclxuICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9LFxyXG4gIGp1ZGdlRXZlbnRBdDogZnVuY3Rpb24gKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICAgIGlmICghZXZlbnQudGFyZ2V0IHx8ICFldmVudC50YXJnZXQuY2xhc3NMaXN0KSB7XHJcbiAgICAgIHJldHVybiB7c2hhcGU6IG51bGwsIHR5cGU6ICdlbXB0eSd9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlc3VsdCwgc2hhcGVcclxuICAgIGxldCBwb3NpdGlvbiA9IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSlcclxuXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndG9vbGJhci1idXR0b24nKVxyXG4gICAgICB8fCBldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QgJiYgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b29sYmFyLWJ1dHRvbicpKSB7XHJcbiAgICAgIHJldHVybiB7IHNoYXBlOiBudWxsLCB0eXBlOiAndG9vbCcgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2hhcGUtY29udHJvbGxlcicpKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc2hhcGU6IHRoaXMuc2VsZWN0ZWRTaGFwZSxcclxuICAgICAgICB0eXBlOiAnY29udHJvbGxlcidcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlXHJcbiAgICAgICYmIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gJ3NoYXBlLWNvbnRyb2xzJykge1xyXG4gICAgICAvLyBGb3Igbm93LCB0aGUgc2VsZWN0ZWQgc2hhcGUgaGFzIG5vIHByaW9yaXR5XHJcbiAgICAgIC8vIHdoaWNoIGlzIHRoZSBzYW1lIGFzIHByb2Nlc3NvbidzIHdvcmsuXHJcbiAgICAgIHJlc3VsdCA9IHRoaXMuanVkZ2VJblNoYXBlTGlzdChwb3NpdGlvbiwgc2hhcGVMaXN0LCAtMSlcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIHJlc3VsdC50b3BFbGVtZW50ID0gdGhpcy5zaGFwZUNvbnRyb2xsZXIuZWxcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXN1bHQgPSB7IHRvcEVsZW1lbnQ6IHRoaXMuc2hhcGVDb250cm9sbGVyLmVsIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3RcclxuICAgICAgJiYgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGFwZS1ib3gnKSkge1xyXG4gICAgICBsZXQgc2hhcGVJZCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnc2hhcGVpZCcpXHJcbiAgICAgIHNoYXBlID0gdGhpcy5nZXRTaGFwZUluTGlzdEJ5SWQoc2hhcGVJZCwgc2hhcGVMaXN0KVxyXG5cclxuICAgICAgaWYgKCFzaGFwZSkge1xyXG4gICAgICAgIC8vIEp1ZGdlIHdoZXRoZXIgdGhlIHNoYXBlIGlzIGFscmVhZHkgcHV0IGludG8gdGhlIHNoYXBlIGxpc3QuXHJcbiAgICAgICAgLy8gSXQgaGFwcGVucyB3aGVuIHVzZXJzIHRyeSB0byBkcmFnIGEgbmV3IGxpbmUuXHJcbiAgICAgICAgLy8gVG9wU2hhcGUgaXMgdW5kZWZpbmVkIGhlcmUuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuanVkZ2VJblNoYXBlTGlzdChwb3NpdGlvbiwgc2hhcGVMaXN0LCAtMSlcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyBDb21tb24gc2hhcGUgb3IgbGluZSB3aWxsIHdvcmsgdGhlIHNhbWUgd2F5LlxyXG4gICAgICAgIHJlc3VsdCA9IHNoYXBlLmp1ZGdlSW5TaGFwZShwb3NpdGlvbi54LCBwb3NpdGlvbi55KVxyXG4gICAgICAgIHJlc3VsdC50b3BFbGVtZW50ID0gc2hhcGUuZWxcclxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50eXBlICE9PSAnZW1wdHknKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbGV0IHJlc3VsdEluTGlzdCA9IHRoaXMuanVkZ2VJblNoYXBlTGlzdChwb3NpdGlvbiwgc2hhcGVMaXN0LCAtMSlcclxuICAgICAgICAgIGlmIChyZXN1bHRJbkxpc3QpIHtcclxuICAgICAgICAgICAgcmVzdWx0SW5MaXN0LnRvcEVsZW1lbnQgPSBzaGFwZS5lbFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIChyZXN1bHRJbkxpc3QgPyByZXN1bHRJbkxpc3QgOiByZXN1bHQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtzaGFwZTogbnVsbCwgdHlwZTogJ2VtcHR5J31cclxuXHJcbiAgICAvLyB0eXBlIHZhbHVlczogbGluZUJvZHksIGxpbmVEZXN0LCBsaW5lU3JjXHJcbiAgICAvLyAgICAgICAgICAgICAgc2hhcGVCb2R5LCBzaGFwZUxpbmVBcmVhXHJcbiAgICAvLyAgICAgICAgICAgICAgY29udHJvbGxlclxyXG4gICAgLy8gICAgICAgICAgICAgIGVtcHR5XHJcbiAgICAvLyAgICAgICAgICAgICAgdG9vbFxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGV2ZW50Q29tbW9uXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvZXZlbnRzL2NvbW1vbi5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__toolsUIInit__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__toolbarDefaultSetting__ = __webpack_require__(4);\n\r\n\r\n\r\n\r\nfunction getToolType (el) {\r\n  return el.getAttribute('id').slice(5)\r\n}\r\n\r\nfunction styleToState (style) {\r\n  let state = {}\r\n\r\n  for (let value in style) {\r\n    for (let prop in __WEBPACK_IMPORTED_MODULE_2__toolbarDefaultSetting__[\"b\" /* tools */]) {\r\n      if (__WEBPACK_IMPORTED_MODULE_2__toolbarDefaultSetting__[\"b\" /* tools */][prop].styleName === value) { state[prop] = style[value] }\r\n    }\r\n  }\r\n  return state\r\n}\r\n\r\nclass Toolbar {\r\n  constructor (el, tools, hint) {\r\n    this.el = el\r\n    this.tools = tools\r\n    this.hint = hint\r\n\r\n    this.init()\r\n  }\r\n  init () {\r\n    Object(__WEBPACK_IMPORTED_MODULE_0__toolsUIInit__[\"a\" /* default */])(this.el, this.tools, this.hint)\r\n    this.toolElements = this.el.getElementsByClassName('toolbar-button')\r\n  }\r\n  setToolbarState (style) {\r\n    let type\r\n    let state = styleToState(style)\r\n\r\n    for (let i = 0; i < this.toolElements.length; i++) {\r\n      type = getToolType(this.toolElements[i])\r\n      if (type === 'undo' || type === 'redo') { continue }\r\n      if (__WEBPACK_IMPORTED_MODULE_1__common_util__[\"a\" /* default */].contains(__WEBPACK_IMPORTED_MODULE_1__common_util__[\"a\" /* default */].properties(state), type)) {\r\n        if (__WEBPACK_IMPORTED_MODULE_1__common_util__[\"a\" /* default */].contains(__WEBPACK_IMPORTED_MODULE_2__toolbarDefaultSetting__[\"a\" /* simplyToolTypes */], type)) {\r\n          this.toolElements[i].setAttribute('disabled', '')\r\n          if (state[type] !== __WEBPACK_IMPORTED_MODULE_2__toolbarDefaultSetting__[\"b\" /* tools */][type].styleValue[0]) {\r\n            this.toolElements[i].classList.add('active')\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        this.toolElements[i].setAttribute('disabled', 'disabled')\r\n      }\r\n    }\r\n  }\r\n  setEmptyToolbarState () {\r\n    let type\r\n    for (let i = 0; i < this.toolElements.length; i++) {\r\n      type = getToolType(this.toolElements[i])\r\n      if (type !== 'undo' && type !== 'redo') {\r\n        this.toolElements[i].setAttribute('disabled', 'disabled')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nlet toolbar = null\r\n\r\nfunction getToolbar (el, tools, hint) {\r\n  if (toolbar) {\r\n    return toolbar\r\n  }\r\n  else {\r\n    return (toolbar = new Toolbar(el, tools, hint))\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getToolbar);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdG9vbGJhci90b29sYmFyLmpzP2Q1MGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZVRvb2xzIGZyb20gJy4vdG9vbHNVSUluaXQnXHJcbmltcG9ydCBfIGZyb20gJy4uL2NvbW1vbi91dGlsJ1xyXG5pbXBvcnQge3Rvb2xzLCBzaW1wbHlUb29sVHlwZXN9IGZyb20gXCIuL3Rvb2xiYXJEZWZhdWx0U2V0dGluZ1wiO1xyXG5cclxuZnVuY3Rpb24gZ2V0VG9vbFR5cGUgKGVsKSB7XHJcbiAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgnaWQnKS5zbGljZSg1KVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdHlsZVRvU3RhdGUgKHN0eWxlKSB7XHJcbiAgbGV0IHN0YXRlID0ge31cclxuXHJcbiAgZm9yIChsZXQgdmFsdWUgaW4gc3R5bGUpIHtcclxuICAgIGZvciAobGV0IHByb3AgaW4gdG9vbHMpIHtcclxuICAgICAgaWYgKHRvb2xzW3Byb3BdLnN0eWxlTmFtZSA9PT0gdmFsdWUpIHsgc3RhdGVbcHJvcF0gPSBzdHlsZVt2YWx1ZV0gfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gc3RhdGVcclxufVxyXG5cclxuY2xhc3MgVG9vbGJhciB7XHJcbiAgY29uc3RydWN0b3IgKGVsLCB0b29scywgaGludCkge1xyXG4gICAgdGhpcy5lbCA9IGVsXHJcbiAgICB0aGlzLnRvb2xzID0gdG9vbHNcclxuICAgIHRoaXMuaGludCA9IGhpbnRcclxuXHJcbiAgICB0aGlzLmluaXQoKVxyXG4gIH1cclxuICBpbml0ICgpIHtcclxuICAgIGNyZWF0ZVRvb2xzKHRoaXMuZWwsIHRoaXMudG9vbHMsIHRoaXMuaGludClcclxuICAgIHRoaXMudG9vbEVsZW1lbnRzID0gdGhpcy5lbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b29sYmFyLWJ1dHRvbicpXHJcbiAgfVxyXG4gIHNldFRvb2xiYXJTdGF0ZSAoc3R5bGUpIHtcclxuICAgIGxldCB0eXBlXHJcbiAgICBsZXQgc3RhdGUgPSBzdHlsZVRvU3RhdGUoc3R5bGUpXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvb2xFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0eXBlID0gZ2V0VG9vbFR5cGUodGhpcy50b29sRWxlbWVudHNbaV0pXHJcbiAgICAgIGlmICh0eXBlID09PSAndW5kbycgfHwgdHlwZSA9PT0gJ3JlZG8nKSB7IGNvbnRpbnVlIH1cclxuICAgICAgaWYgKF8uY29udGFpbnMoXy5wcm9wZXJ0aWVzKHN0YXRlKSwgdHlwZSkpIHtcclxuICAgICAgICBpZiAoXy5jb250YWlucyhzaW1wbHlUb29sVHlwZXMsIHR5cGUpKSB7XHJcbiAgICAgICAgICB0aGlzLnRvb2xFbGVtZW50c1tpXS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpXHJcbiAgICAgICAgICBpZiAoc3RhdGVbdHlwZV0gIT09IHRvb2xzW3R5cGVdLnN0eWxlVmFsdWVbMF0pIHtcclxuICAgICAgICAgICAgdGhpcy50b29sRWxlbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy50b29sRWxlbWVudHNbaV0uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgc2V0RW1wdHlUb29sYmFyU3RhdGUgKCkge1xyXG4gICAgbGV0IHR5cGVcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b29sRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdHlwZSA9IGdldFRvb2xUeXBlKHRoaXMudG9vbEVsZW1lbnRzW2ldKVxyXG4gICAgICBpZiAodHlwZSAhPT0gJ3VuZG8nICYmIHR5cGUgIT09ICdyZWRvJykge1xyXG4gICAgICAgIHRoaXMudG9vbEVsZW1lbnRzW2ldLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5sZXQgdG9vbGJhciA9IG51bGxcclxuXHJcbmZ1bmN0aW9uIGdldFRvb2xiYXIgKGVsLCB0b29scywgaGludCkge1xyXG4gIGlmICh0b29sYmFyKSB7XHJcbiAgICByZXR1cm4gdG9vbGJhclxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJldHVybiAodG9vbGJhciA9IG5ldyBUb29sYmFyKGVsLCB0b29scywgaGludCkpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnZXRUb29sYmFyXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3Rvb2xiYXIvdG9vbGJhci5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_generateImage__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__init__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_util__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\n(function (window, document) {\r\n  // settings: {\r\n  //   el: the container of drawing\r\n  //   shapes: enabled shapes\r\n  //   toolbar: {\r\n  //     el: the container of toolbar\r\n  //     tools: enabled tools\r\n  //   }\r\n  // }\r\n  const defaultInstanceSettings = {\r\n    el: null,\r\n    shapes: ['process', 'decision', 'terminator', 'storeData'],\r\n    toolbar: {\r\n      el: null,\r\n      tools: ['undo', 'redo',\r\n        'bold', 'italic', 'underline',\r\n        'fontName', 'fontSize', 'fontColor',\r\n        'fillStyle', 'strokeStyle', 'lineWidth', 'lineDash',\r\n        'linkerType', 'arrowType'\r\n      ],\r\n      hint: true\r\n    }\r\n  }\r\n\r\n  function cloneObject (o) {\r\n    let clone = {}\r\n    for (let prop in o) {\r\n      clone[prop] = o[prop]\r\n    }\r\n    return clone\r\n  }\r\n\r\n  function hasProp (o, prop) {\r\n    return o.hasOwnProperty(prop)\r\n  }\r\n\r\n  function replaceObjectProps (target, source) {\r\n    let clone = cloneObject(target)\r\n    for (let prop in clone) {\r\n      // Note that typeof null === 'object'.\r\n      if (clone[prop] && typeof clone[prop] === 'object' && !__WEBPACK_IMPORTED_MODULE_2__common_util__[\"a\" /* default */].isArray(clone[prop])) {\r\n        if (source[prop]) {\r\n          clone[prop] = replaceObjectProps(clone[prop], source[prop])\r\n        }\r\n      }\r\n      else {\r\n        clone[prop] = hasProp(source, prop) ? source[prop] : clone[prop]\r\n      }\r\n    }\r\n    return clone\r\n  }\r\n\r\n  function createInstanceSetting (params) {\r\n    let el\r\n    if (!params.el || !(el = document.querySelectorAll(params.el)[0])) {\r\n      return null\r\n    }\r\n\r\n    let instanceSetting = replaceObjectProps(defaultInstanceSettings, params)\r\n    instanceSetting.el = el\r\n\r\n    if (params.toolbar.el && (el = document.querySelectorAll(params.toolbar.el)[0])) {\r\n      instanceSetting.toolbar.el = el\r\n      let tools = instanceSetting.toolbar.tools\r\n      for (let i = 0; i < tools.length; i++) {\r\n        tools[i] = tools[i].toLowerCase().trim()\r\n      }\r\n    }\r\n\r\n    return instanceSetting\r\n  }\r\n\r\n  class FlowChart {\r\n    constructor (options) {\r\n      this.instanceSetting = createInstanceSetting(options)\r\n      if (!this.instanceSetting) {\r\n        return {}\r\n      }\r\n\r\n      this.shapeList = []\r\n      this.init()\r\n    }\r\n    init() {\r\n      Object(__WEBPACK_IMPORTED_MODULE_1__init__[\"a\" /* default */])(this.instanceSetting, this.shapeList)\r\n    }\r\n    generateImage () {\r\n      return Object(__WEBPACK_IMPORTED_MODULE_0__core_generateImage__[\"a\" /* default */])(this.shapeList)\r\n    }\r\n  }\r\n\r\n  let FreeFlowChart = (function () {\r\n    let instance = null\r\n\r\n    return function (options) {\r\n      if (instance) { return instance }\r\n      else {\r\n        let instance = new FlowChart(options)\r\n        if (!instance.init) {\r\n          console.log('Invalid options!')\r\n          instance = null\r\n        }\r\n        return instance\r\n      }\r\n    }\r\n  })()\r\n\r\n  window.FreeFlowChart = FreeFlowChart\r\n})(window, document)//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2VuZXJhdGVJbWFnZSBmcm9tICcuL2NvcmUvZ2VuZXJhdGVJbWFnZSdcclxuaW1wb3J0IGluaXQgZnJvbSAnLi9pbml0J1xyXG5pbXBvcnQgXyBmcm9tICcuL2NvbW1vbi91dGlsJ1xyXG5cclxuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50KSB7XHJcbiAgLy8gc2V0dGluZ3M6IHtcclxuICAvLyAgIGVsOiB0aGUgY29udGFpbmVyIG9mIGRyYXdpbmdcclxuICAvLyAgIHNoYXBlczogZW5hYmxlZCBzaGFwZXNcclxuICAvLyAgIHRvb2xiYXI6IHtcclxuICAvLyAgICAgZWw6IHRoZSBjb250YWluZXIgb2YgdG9vbGJhclxyXG4gIC8vICAgICB0b29sczogZW5hYmxlZCB0b29sc1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuICBjb25zdCBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcclxuICAgIGVsOiBudWxsLFxyXG4gICAgc2hhcGVzOiBbJ3Byb2Nlc3MnLCAnZGVjaXNpb24nLCAndGVybWluYXRvcicsICdzdG9yZURhdGEnXSxcclxuICAgIHRvb2xiYXI6IHtcclxuICAgICAgZWw6IG51bGwsXHJcbiAgICAgIHRvb2xzOiBbJ3VuZG8nLCAncmVkbycsXHJcbiAgICAgICAgJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsXHJcbiAgICAgICAgJ2ZvbnROYW1lJywgJ2ZvbnRTaXplJywgJ2ZvbnRDb2xvcicsXHJcbiAgICAgICAgJ2ZpbGxTdHlsZScsICdzdHJva2VTdHlsZScsICdsaW5lV2lkdGgnLCAnbGluZURhc2gnLFxyXG4gICAgICAgICdsaW5rZXJUeXBlJywgJ2Fycm93VHlwZSdcclxuICAgICAgXSxcclxuICAgICAgaGludDogdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvbmVPYmplY3QgKG8pIHtcclxuICAgIGxldCBjbG9uZSA9IHt9XHJcbiAgICBmb3IgKGxldCBwcm9wIGluIG8pIHtcclxuICAgICAgY2xvbmVbcHJvcF0gPSBvW3Byb3BdXHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmVcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhc1Byb3AgKG8sIHByb3ApIHtcclxuICAgIHJldHVybiBvLmhhc093blByb3BlcnR5KHByb3ApXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMgKHRhcmdldCwgc291cmNlKSB7XHJcbiAgICBsZXQgY2xvbmUgPSBjbG9uZU9iamVjdCh0YXJnZXQpXHJcbiAgICBmb3IgKGxldCBwcm9wIGluIGNsb25lKSB7XHJcbiAgICAgIC8vIE5vdGUgdGhhdCB0eXBlb2YgbnVsbCA9PT0gJ29iamVjdCcuXHJcbiAgICAgIGlmIChjbG9uZVtwcm9wXSAmJiB0eXBlb2YgY2xvbmVbcHJvcF0gPT09ICdvYmplY3QnICYmICFfLmlzQXJyYXkoY2xvbmVbcHJvcF0pKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZVtwcm9wXSkge1xyXG4gICAgICAgICAgY2xvbmVbcHJvcF0gPSByZXBsYWNlT2JqZWN0UHJvcHMoY2xvbmVbcHJvcF0sIHNvdXJjZVtwcm9wXSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgY2xvbmVbcHJvcF0gPSBoYXNQcm9wKHNvdXJjZSwgcHJvcCkgPyBzb3VyY2VbcHJvcF0gOiBjbG9uZVtwcm9wXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvbmVcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlU2V0dGluZyAocGFyYW1zKSB7XHJcbiAgICBsZXQgZWxcclxuICAgIGlmICghcGFyYW1zLmVsIHx8ICEoZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmFtcy5lbClbMF0pKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGluc3RhbmNlU2V0dGluZyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncywgcGFyYW1zKVxyXG4gICAgaW5zdGFuY2VTZXR0aW5nLmVsID0gZWxcclxuXHJcbiAgICBpZiAocGFyYW1zLnRvb2xiYXIuZWwgJiYgKGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMudG9vbGJhci5lbClbMF0pKSB7XHJcbiAgICAgIGluc3RhbmNlU2V0dGluZy50b29sYmFyLmVsID0gZWxcclxuICAgICAgbGV0IHRvb2xzID0gaW5zdGFuY2VTZXR0aW5nLnRvb2xiYXIudG9vbHNcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b29scy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRvb2xzW2ldID0gdG9vbHNbaV0udG9Mb3dlckNhc2UoKS50cmltKClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZVNldHRpbmdcclxuICB9XHJcblxyXG4gIGNsYXNzIEZsb3dDaGFydCB7XHJcbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucykge1xyXG4gICAgICB0aGlzLmluc3RhbmNlU2V0dGluZyA9IGNyZWF0ZUluc3RhbmNlU2V0dGluZyhvcHRpb25zKVxyXG4gICAgICBpZiAoIXRoaXMuaW5zdGFuY2VTZXR0aW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc2hhcGVMaXN0ID0gW11cclxuICAgICAgdGhpcy5pbml0KClcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICAgIGluaXQodGhpcy5pbnN0YW5jZVNldHRpbmcsIHRoaXMuc2hhcGVMaXN0KVxyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVJbWFnZSAoKSB7XHJcbiAgICAgIHJldHVybiBnZW5lcmF0ZUltYWdlKHRoaXMuc2hhcGVMaXN0KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGV0IEZyZWVGbG93Q2hhcnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGluc3RhbmNlID0gbnVsbFxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICBpZiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gbmV3IEZsb3dDaGFydChvcHRpb25zKVxyXG4gICAgICAgIGlmICghaW5zdGFuY2UuaW5pdCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgb3B0aW9ucyEnKVxyXG4gICAgICAgICAgaW5zdGFuY2UgPSBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSkoKVxyXG5cclxuICB3aW5kb3cuRnJlZUZsb3dDaGFydCA9IEZyZWVGbG93Q2hhcnRcclxufSkod2luZG93LCBkb2N1bWVudClcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function calcCanvasSize (shapeList) {\r\n  let minLeft = Infinity, maxRight = -Infinity\r\n  let minTop = Infinity, maxBottom = -Infinity\r\n\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    minLeft = shapeList[i].left < minLeft ? shapeList[i].left : minLeft\r\n    maxRight = shapeList[i].left + shapeList[i].width > maxRight ? shapeList[i].left + shapeList[i].width : maxRight\r\n    minTop = shapeList[i].top < minTop ? shapeList[i].top : minTop\r\n    maxBottom = shapeList[i].top + shapeList[i].height > maxBottom ? shapeList[i].top + shapeList[i].height : maxBottom\r\n  }\r\n  if (!isFinite(minLeft) || !isFinite(maxRight) || !isFinite(minTop) || !isFinite(maxBottom)) {\r\n    return null\r\n  }\r\n\r\n  return {\r\n    width: maxRight - minLeft,\r\n    height: maxBottom - minTop,\r\n    offsetX: minLeft,\r\n    offsetY: minTop\r\n  }\r\n}\r\n\r\nfunction generateImage (shapeList) {\r\n  if (!shapeList || shapeList.length <= 0) { return null }\r\n  let canvasData = calcCanvasSize(shapeList)\r\n  if (!canvasData) { return null }\r\n  let canvas = document.createElement('canvas')\r\n\r\n  canvas.width = canvasData.width\r\n  canvas.height = canvasData.height\r\n  let context = canvas.getContext('2d')\r\n\r\n  // All lines are above other shapes, so lines need to be drawn later.\r\n  let shape, left, top, lineList = []\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    shape = shapeList[i]\r\n    if (shape.type === 'line') {\r\n      lineList.push(shape)\r\n      continue\r\n    }\r\n    left = shape.left - canvasData.offsetX\r\n    top = shape.top - canvasData.offsetY\r\n    shape.drawOnOtherCanvas(context, left, top)\r\n  }\r\n  for (let i = 0; i < lineList.length; i++) {\r\n    shape = lineList[i]\r\n    left = shape.left - canvasData.offsetX\r\n    top = shape.top - canvasData.offsetY\r\n    shape.drawOnOtherCanvas(context, left, top)\r\n  }\r\n\r\n  let image = new Image();\r\n  image.src = canvas.toDataURL(\"image/png\");\r\n  return image\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (generateImage);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9nZW5lcmF0ZUltYWdlLmpzPzhjODciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY2FsY0NhbnZhc1NpemUgKHNoYXBlTGlzdCkge1xyXG4gIGxldCBtaW5MZWZ0ID0gSW5maW5pdHksIG1heFJpZ2h0ID0gLUluZmluaXR5XHJcbiAgbGV0IG1pblRvcCA9IEluZmluaXR5LCBtYXhCb3R0b20gPSAtSW5maW5pdHlcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIG1pbkxlZnQgPSBzaGFwZUxpc3RbaV0ubGVmdCA8IG1pbkxlZnQgPyBzaGFwZUxpc3RbaV0ubGVmdCA6IG1pbkxlZnRcclxuICAgIG1heFJpZ2h0ID0gc2hhcGVMaXN0W2ldLmxlZnQgKyBzaGFwZUxpc3RbaV0ud2lkdGggPiBtYXhSaWdodCA/IHNoYXBlTGlzdFtpXS5sZWZ0ICsgc2hhcGVMaXN0W2ldLndpZHRoIDogbWF4UmlnaHRcclxuICAgIG1pblRvcCA9IHNoYXBlTGlzdFtpXS50b3AgPCBtaW5Ub3AgPyBzaGFwZUxpc3RbaV0udG9wIDogbWluVG9wXHJcbiAgICBtYXhCb3R0b20gPSBzaGFwZUxpc3RbaV0udG9wICsgc2hhcGVMaXN0W2ldLmhlaWdodCA+IG1heEJvdHRvbSA/IHNoYXBlTGlzdFtpXS50b3AgKyBzaGFwZUxpc3RbaV0uaGVpZ2h0IDogbWF4Qm90dG9tXHJcbiAgfVxyXG4gIGlmICghaXNGaW5pdGUobWluTGVmdCkgfHwgIWlzRmluaXRlKG1heFJpZ2h0KSB8fCAhaXNGaW5pdGUobWluVG9wKSB8fCAhaXNGaW5pdGUobWF4Qm90dG9tKSkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogbWF4UmlnaHQgLSBtaW5MZWZ0LFxyXG4gICAgaGVpZ2h0OiBtYXhCb3R0b20gLSBtaW5Ub3AsXHJcbiAgICBvZmZzZXRYOiBtaW5MZWZ0LFxyXG4gICAgb2Zmc2V0WTogbWluVG9wXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUltYWdlIChzaGFwZUxpc3QpIHtcclxuICBpZiAoIXNoYXBlTGlzdCB8fCBzaGFwZUxpc3QubGVuZ3RoIDw9IDApIHsgcmV0dXJuIG51bGwgfVxyXG4gIGxldCBjYW52YXNEYXRhID0gY2FsY0NhbnZhc1NpemUoc2hhcGVMaXN0KVxyXG4gIGlmICghY2FudmFzRGF0YSkgeyByZXR1cm4gbnVsbCB9XHJcbiAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXHJcblxyXG4gIGNhbnZhcy53aWR0aCA9IGNhbnZhc0RhdGEud2lkdGhcclxuICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzRGF0YS5oZWlnaHRcclxuICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcblxyXG4gIC8vIEFsbCBsaW5lcyBhcmUgYWJvdmUgb3RoZXIgc2hhcGVzLCBzbyBsaW5lcyBuZWVkIHRvIGJlIGRyYXduIGxhdGVyLlxyXG4gIGxldCBzaGFwZSwgbGVmdCwgdG9wLCBsaW5lTGlzdCA9IFtdXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIHNoYXBlID0gc2hhcGVMaXN0W2ldXHJcbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgIGxpbmVMaXN0LnB1c2goc2hhcGUpXHJcbiAgICAgIGNvbnRpbnVlXHJcbiAgICB9XHJcbiAgICBsZWZ0ID0gc2hhcGUubGVmdCAtIGNhbnZhc0RhdGEub2Zmc2V0WFxyXG4gICAgdG9wID0gc2hhcGUudG9wIC0gY2FudmFzRGF0YS5vZmZzZXRZXHJcbiAgICBzaGFwZS5kcmF3T25PdGhlckNhbnZhcyhjb250ZXh0LCBsZWZ0LCB0b3ApXHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIHNoYXBlID0gbGluZUxpc3RbaV1cclxuICAgIGxlZnQgPSBzaGFwZS5sZWZ0IC0gY2FudmFzRGF0YS5vZmZzZXRYXHJcbiAgICB0b3AgPSBzaGFwZS50b3AgLSBjYW52YXNEYXRhLm9mZnNldFlcclxuICAgIHNoYXBlLmRyYXdPbk90aGVyQ2FudmFzKGNvbnRleHQsIGxlZnQsIHRvcClcclxuICB9XHJcblxyXG4gIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gIGltYWdlLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgcmV0dXJuIGltYWdlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdlbmVyYXRlSW1hZ2VcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29yZS9nZW5lcmF0ZUltYWdlLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_index__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_background__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_events_index__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__toolbar_toolbar__ = __webpack_require__(12);\n\r\n\r\n\r\n\r\n\r\nconst drawContainerHtml = `<div class=\"draw-main\">\r\n    <div id=\"draw-components\">\r\n    </div>\r\n    <div id=\"draw-layout\">\r\n        <div id=\"draw-container\" style=\"padding:1000px;\">\r\n            <div id=\"designer_canvas\">\r\n                <canvas id=\"canvas-background\"></canvas>\r\n                <div id=\"shape-controls\">\r\n                    <canvas id=\"controls-bounding\" width=\"120\" height=\"90\"></canvas>\r\n                    <div class=\"shape-controller n w\" resizedir=\"nw\" style=\"cursor:nw-resize; left:5px; top:5px;\"></div>\r\n                    <div class=\"shape-controller n e\" resizedir=\"ne\" style=\"cursor:ne-resize; right:5px; top:5px;\"></div>\r\n                    <div class=\"shape-controller s e\" resizedir=\"se\" style=\"cursor:se-resize; right:5px; bottom:5px;\"></div>\r\n                    <div class=\"shape-controller s w\" resizedir=\"sw\" style=\"cursor:sw-resize; left:5px; bottom:5px;\"></div>\r\n                    <div class=\"shape-anchor\" style=\"left:calc(50% - 4px); top:6px;\"></div>\r\n                    <div class=\"shape-anchor\" style=\"right:6px; top:calc(50% - 4px);\"></div>\r\n                    <div class=\"shape-anchor\" style=\"left:calc(50% - 4px); bottom:6px;\"></div>\r\n                    <div class=\"shape-anchor\" style=\"left:6px; top:calc(50% - 4px);\"></div>\r\n                </div>\r\n                <div id=\"bezier-controls\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`\r\n\r\nfunction createContainer (el) {\r\n  el.innerHTML = drawContainerHtml\r\n}\r\n\r\nfunction createComponets (el, shapes) {\r\n  let componentGroup = el\r\n  let tempHtml = ''\r\n  for (let i = 0; i < shapes.length; i++) {\r\n    let shapeName = shapes[i]\r\n    tempHtml += `<div class=\"component-box\" shapename=\"${shapeName}\">\r\n        <canvas class=\"component-item\" width=\"30\" height=\"30\"></canvas>\r\n    </div>`\r\n  }\r\n  componentGroup.innerHTML = tempHtml\r\n  let componentItems = document.getElementsByClassName('component-box')\r\n  for (let i = 0; i < shapes.length; i++) {\r\n    let shapeName = shapes[i]\r\n    let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(shapeName))(componentItems[i], 'process', -1, -1, 30, 30)\r\n    shape.draw(2, 5)\r\n  }\r\n}\r\n\r\nfunction curryEventHandlers (eventType, shapeList, isToolbarEnabled) {\r\n  let handlers = Object(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"b\" /* getEventHandlers */])(eventType, isToolbarEnabled)\r\n  return function () {\r\n    for (let j = 0; j < handlers.length; j++) {\r\n      handlers[j].call(this, event, shapeList)\r\n    }\r\n  }\r\n}\r\n\r\nfunction init (instanceSetting, shapeList) {\r\n  let isToolbarEnabled = !!instanceSetting.toolbar.el\r\n\r\n  instanceSetting.el.classList.add('fff-draw-main')\r\n\r\n  createContainer(instanceSetting.el)\r\n\r\n  createComponets(document.getElementById('draw-components'), instanceSetting.shapes)\r\n\r\n  if (isToolbarEnabled) {\r\n    Object(__WEBPACK_IMPORTED_MODULE_3__toolbar_toolbar__[\"a\" /* default */])(instanceSetting.toolbar.el, instanceSetting.toolbar.tools, instanceSetting.toolbar.hint)\r\n  }\r\n\r\n  let canvasBackground = document.getElementById('canvas-background')\r\n  Object(__WEBPACK_IMPORTED_MODULE_1__draw_background__[\"a\" /* default */])(canvasBackground)\r\n\r\n  let drawLayout = document.getElementById('draw-layout')\r\n  drawLayout.scrollTop = 1000 - 10\r\n  drawLayout.scrollLeft = 1000 - 10\r\n\r\n  for (let i = 0; i < __WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */].length; i++) {\r\n    let func = curryEventHandlers(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */][i], shapeList, isToolbarEnabled)\r\n    window.addEventListener(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */][i], func)\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (init);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5pdC5qcz9kZGQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRTaGFwZUJ5VHlwZSBmcm9tICcuL3NoYXBlcy9pbmRleCdcclxuaW1wb3J0IGJhY2tncm91bmREcmF3IGZyb20gJy4vZHJhdy9iYWNrZ3JvdW5kJ1xyXG5pbXBvcnQge2V2ZW50TGlzdCwgZ2V0RXZlbnRIYW5kbGVyc30gZnJvbSAnLi9jb3JlL2V2ZW50cy9pbmRleCdcclxuaW1wb3J0IGdldFRvb2xiYXIgZnJvbSAnLi90b29sYmFyL3Rvb2xiYXInXHJcblxyXG5jb25zdCBkcmF3Q29udGFpbmVySHRtbCA9IGA8ZGl2IGNsYXNzPVwiZHJhdy1tYWluXCI+XHJcbiAgICA8ZGl2IGlkPVwiZHJhdy1jb21wb25lbnRzXCI+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgaWQ9XCJkcmF3LWxheW91dFwiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJkcmF3LWNvbnRhaW5lclwiIHN0eWxlPVwicGFkZGluZzoxMDAwcHg7XCI+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJkZXNpZ25lcl9jYW52YXNcIj5cclxuICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9XCJjYW52YXMtYmFja2dyb3VuZFwiPjwvY2FudmFzPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cInNoYXBlLWNvbnRyb2xzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBpZD1cImNvbnRyb2xzLWJvdW5kaW5nXCIgd2lkdGg9XCIxMjBcIiBoZWlnaHQ9XCI5MFwiPjwvY2FudmFzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFwZS1jb250cm9sbGVyIG4gd1wiIHJlc2l6ZWRpcj1cIm53XCIgc3R5bGU9XCJjdXJzb3I6bnctcmVzaXplOyBsZWZ0OjVweDsgdG9wOjVweDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGUtY29udHJvbGxlciBuIGVcIiByZXNpemVkaXI9XCJuZVwiIHN0eWxlPVwiY3Vyc29yOm5lLXJlc2l6ZTsgcmlnaHQ6NXB4OyB0b3A6NXB4O1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFwZS1jb250cm9sbGVyIHMgZVwiIHJlc2l6ZWRpcj1cInNlXCIgc3R5bGU9XCJjdXJzb3I6c2UtcmVzaXplOyByaWdodDo1cHg7IGJvdHRvbTo1cHg7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNoYXBlLWNvbnRyb2xsZXIgcyB3XCIgcmVzaXplZGlyPVwic3dcIiBzdHlsZT1cImN1cnNvcjpzdy1yZXNpemU7IGxlZnQ6NXB4OyBib3R0b206NXB4O1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFwZS1hbmNob3JcIiBzdHlsZT1cImxlZnQ6Y2FsYyg1MCUgLSA0cHgpOyB0b3A6NnB4O1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFwZS1hbmNob3JcIiBzdHlsZT1cInJpZ2h0OjZweDsgdG9wOmNhbGMoNTAlIC0gNHB4KTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGUtYW5jaG9yXCIgc3R5bGU9XCJsZWZ0OmNhbGMoNTAlIC0gNHB4KTsgYm90dG9tOjZweDtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGUtYW5jaG9yXCIgc3R5bGU9XCJsZWZ0OjZweDsgdG9wOmNhbGMoNTAlIC0gNHB4KTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImJlemllci1jb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmBcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lciAoZWwpIHtcclxuICBlbC5pbm5lckhUTUwgPSBkcmF3Q29udGFpbmVySHRtbFxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25ldHMgKGVsLCBzaGFwZXMpIHtcclxuICBsZXQgY29tcG9uZW50R3JvdXAgPSBlbFxyXG4gIGxldCB0ZW1wSHRtbCA9ICcnXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBzaGFwZU5hbWUgPSBzaGFwZXNbaV1cclxuICAgIHRlbXBIdG1sICs9IGA8ZGl2IGNsYXNzPVwiY29tcG9uZW50LWJveFwiIHNoYXBlbmFtZT1cIiR7c2hhcGVOYW1lfVwiPlxyXG4gICAgICAgIDxjYW52YXMgY2xhc3M9XCJjb21wb25lbnQtaXRlbVwiIHdpZHRoPVwiMzBcIiBoZWlnaHQ9XCIzMFwiPjwvY2FudmFzPlxyXG4gICAgPC9kaXY+YFxyXG4gIH1cclxuICBjb21wb25lbnRHcm91cC5pbm5lckhUTUwgPSB0ZW1wSHRtbFxyXG4gIGxldCBjb21wb25lbnRJdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbXBvbmVudC1ib3gnKVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgc2hhcGVOYW1lID0gc2hhcGVzW2ldXHJcbiAgICBsZXQgc2hhcGUgPSBuZXcgKGdldFNoYXBlQnlUeXBlKHNoYXBlTmFtZSkpKGNvbXBvbmVudEl0ZW1zW2ldLCAncHJvY2VzcycsIC0xLCAtMSwgMzAsIDMwKVxyXG4gICAgc2hhcGUuZHJhdygyLCA1KVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3VycnlFdmVudEhhbmRsZXJzIChldmVudFR5cGUsIHNoYXBlTGlzdCwgaXNUb29sYmFyRW5hYmxlZCkge1xyXG4gIGxldCBoYW5kbGVycyA9IGdldEV2ZW50SGFuZGxlcnMoZXZlbnRUeXBlLCBpc1Rvb2xiYXJFbmFibGVkKVxyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGhhbmRsZXJzW2pdLmNhbGwodGhpcywgZXZlbnQsIHNoYXBlTGlzdClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQgKGluc3RhbmNlU2V0dGluZywgc2hhcGVMaXN0KSB7XHJcbiAgbGV0IGlzVG9vbGJhckVuYWJsZWQgPSAhIWluc3RhbmNlU2V0dGluZy50b29sYmFyLmVsXHJcblxyXG4gIGluc3RhbmNlU2V0dGluZy5lbC5jbGFzc0xpc3QuYWRkKCdmZmYtZHJhdy1tYWluJylcclxuXHJcbiAgY3JlYXRlQ29udGFpbmVyKGluc3RhbmNlU2V0dGluZy5lbClcclxuXHJcbiAgY3JlYXRlQ29tcG9uZXRzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3LWNvbXBvbmVudHMnKSwgaW5zdGFuY2VTZXR0aW5nLnNoYXBlcylcclxuXHJcbiAgaWYgKGlzVG9vbGJhckVuYWJsZWQpIHtcclxuICAgIGdldFRvb2xiYXIoaW5zdGFuY2VTZXR0aW5nLnRvb2xiYXIuZWwsIGluc3RhbmNlU2V0dGluZy50b29sYmFyLnRvb2xzLCBpbnN0YW5jZVNldHRpbmcudG9vbGJhci5oaW50KVxyXG4gIH1cclxuXHJcbiAgbGV0IGNhbnZhc0JhY2tncm91bmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWJhY2tncm91bmQnKVxyXG4gIGJhY2tncm91bmREcmF3KGNhbnZhc0JhY2tncm91bmQpXHJcblxyXG4gIGxldCBkcmF3TGF5b3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXctbGF5b3V0JylcclxuICBkcmF3TGF5b3V0LnNjcm9sbFRvcCA9IDEwMDAgLSAxMFxyXG4gIGRyYXdMYXlvdXQuc2Nyb2xsTGVmdCA9IDEwMDAgLSAxMFxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50TGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IGZ1bmMgPSBjdXJyeUV2ZW50SGFuZGxlcnMoZXZlbnRMaXN0W2ldLCBzaGFwZUxpc3QsIGlzVG9vbGJhckVuYWJsZWQpXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudExpc3RbaV0sIGZ1bmMpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbml0XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5pdC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shape__ = __webpack_require__(3);\n\r\n\r\nclass Process extends __WEBPACK_IMPORTED_MODULE_0__shape__[\"a\" /* default */] {\r\n  constructor (el, type, left, top, width, height) {\r\n    super(el, type, left, top, width, height)\r\n  }\r\n  draw (paddingHorizontal, paddingVertical, drawContext) {\r\n    // Note that only the padding of the component is not default.\r\n    let horizontal = (typeof paddingHorizontal === 'undefined' || paddingHorizontal === null)\r\n      ? this.padding : paddingHorizontal\r\n    let vertical = (typeof paddingVertical === 'undefined' || paddingVertical === null)\r\n      ? this.padding : paddingVertical\r\n    let context = (typeof drawContext === 'undefined' || drawContext === null )\r\n      ? this.context : drawContext\r\n\r\n    this.resetDrawStyle(context)\r\n    context.fillRect(horizontal, vertical, this.width - 2 * horizontal, this.height - 2 * vertical)\r\n    context.beginPath()\r\n    context.rect(horizontal, vertical, this.width - 2 * horizontal, this.height - 2 * vertical);\r\n    context.stroke()\r\n  }\r\n  drawOnOtherCanvas (context, left, top) {\r\n    context.translate(left, top)\r\n    this.draw(null, null, context)\r\n    context.translate(-left, -top)\r\n  }\r\n  isPositionInShape (x, y) {\r\n    return (x > this.left + this.padding && x < this.left + this.width - this.padding\r\n      && y > this.top + this.padding && y < this.top + this.height - this.padding)\r\n  }\r\n  isPositionInLineArea (x, y) {\r\n    if (this.isPositionInShape(x, y)) {\r\n      return false\r\n    }\r\n    else return (x >= this.left && x <= this.left + this.width\r\n      && y >= this.top && y <= this.top + this.height)\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type\r\n    type = (this.isPositionInShape(x, y)) ? 'shapeBody' : null\r\n    type = (!type) ? ((this.isPositionInLineArea(x, y)) ? 'shapeLineArea' : 'empty') : type\r\n    return { shape: this, type: type }\r\n  }\r\n\r\n  // Every shape rely on it's own way to calculate line end positions\r\n  // and all what the lines need to get is just the positions.\r\n\r\n  // ReferPosition includes up, down, left, right, nwCorner, neCorner, seCorner, swCorner.\r\n  // Note that the referPercent is based on inner width of the shape.\r\n  calcLinePosition (referPosition, referPercent) {\r\n    let x, y\r\n    let points = this.calcShapePoints()\r\n    switch (referPosition) {\r\n      case 'nwCorner':\r\n        x = points[0]\r\n        y = points[1]\r\n        break\r\n      case 'neCorner':\r\n        x = points[2]\r\n        y = points[3]\r\n        break\r\n      case 'seCorner':\r\n        x = points[4]\r\n        y = points[5]\r\n        break\r\n      case 'swCorner':\r\n        x = points[6]\r\n        y = points[7]\r\n        break\r\n      case 'up':\r\n        x = this.left + this.padding + referPercent * (this.width - 2 * this.padding)\r\n        y = this.top + this.padding\r\n        break\r\n      case 'down':\r\n        x = this.left + this.padding + referPercent * (this.width - 2 * this.padding)\r\n        y = this.top + this.height - this.padding\r\n        break\r\n      case 'left':\r\n        x = this.left + this.padding\r\n        y = this.top + this.padding + referPercent * (this.height - 2 * this.padding)\r\n        break\r\n      case 'right':\r\n        x = this.left + this.width - this.padding\r\n        y = this.top + this.padding + referPercent * (this.height - 2 * this.padding)\r\n        break\r\n    }\r\n    return { x: x, y: y }\r\n  }\r\n  calcShapePoints () {\r\n    // Points: nw -> ne -> se -> sw\r\n    let x1 = this.left + this.padding, y1 = this.top + this.padding\r\n    let x2 = this.left + this.width - this.padding, y2 = this.top + this.padding\r\n    let x3 = this.left + this.width - this.padding, y3 = this.top + this.height - this.padding\r\n    let x4 = this.left + this.padding, y4 = this.top + this.height - this.padding\r\n    return [ x1, y1, x2, y2, x3, y3, x4, y4 ]\r\n  }\r\n  getLineReference (x, y) {\r\n    let referPosition = null, referPercent = 0, position\r\n    let [ x1, y1, x2, y2, x3, y3, x4, y4 ] = this.calcShapePoints()\r\n    if (this.isPositionInLineArea(x, y)) {\r\n      if (y < y1) {\r\n        if (x < x1) {\r\n          referPosition = 'nwCorner'\r\n        }\r\n        else if (x > x2) {\r\n          referPosition = 'neCorner'\r\n        }\r\n        else {\r\n          referPosition = 'up'\r\n          referPercent = (x - x1) / (this.width - 2 * this.padding)\r\n        }\r\n      }\r\n      else if (y > y4) {\r\n        if (x < x4) {\r\n          referPosition = 'swCorner'\r\n        }\r\n        else if (x > x3) {\r\n          referPosition = 'seCorner'\r\n        }\r\n        else {\r\n          referPosition = 'down'\r\n          referPercent = (x - x4) / (this.width - 2 * this.padding)\r\n        }\r\n      }\r\n      else {\r\n        if (x < this.left + this.width / 2) {\r\n          referPosition = 'left'\r\n          referPercent = (y - this.top - this.padding) / (this.height - 2 * this.padding)\r\n        }\r\n        else {\r\n          referPosition = 'right'\r\n          referPercent = (y - this.top - this.padding) / (this.height - 2 * this.padding)\r\n        }\r\n      }\r\n    }\r\n    else if (this.isPositionInShape(x, y)) {\r\n      referPercent = 0.5\r\n      // check the position in which area of the shape\r\n      // the areas are shown below:\r\n      //  __\r\n      // |\\/|\r\n      // |/\\|\r\n      //  --\r\n      let lineRefer1 = (x - x3) / (x1 - x3) - (y - y3) / (y1 - y3)\r\n      let lineRefer2 = (x - x4) / (x2 - x4) - (y - y4) / (y2 - y4)\r\n      //let lineRefer1 = ((x - this.left - this.width + this.padding) / (2 * this.padding - this.width)\r\n      //  - (y - this.top - this.height + this.padding) / (2 * this.padding - this.height))\r\n      //let lineRefer2 = ((x - this.left - this.width + this.padding) / (2 * this.padding - this.width)\r\n      //  - (y - this.top - this.padding) / (-2 * this.padding + this.height))\r\n      if (lineRefer1 <= 0 && lineRefer2 <= 0) {\r\n        referPosition = 'up'\r\n      }\r\n      else if (lineRefer1 <= 0 && lineRefer2 >= 0) {\r\n        referPosition = 'right'\r\n      }\r\n      else if (lineRefer1 >= 0 && lineRefer2 >= 0) {\r\n        referPosition = 'down'\r\n      }\r\n      else {\r\n        referPosition = 'left'\r\n      }\r\n    }\r\n    else {\r\n      return null\r\n    }\r\n\r\n    position = this.calcLinePosition(referPosition, referPercent)\r\n    return {\r\n      referPosition: referPosition,\r\n      referPercent: referPercent,\r\n      position: position\r\n    }\r\n  }\r\n  resetLinesPosition () {\r\n    let lineData, position\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      lineData = this.relativeLines[i]\r\n      position = this.calcLinePosition(lineData.referPosition, lineData.referPercent)\r\n      if (lineData.type === 'src') {\r\n        lineData.line.resetSrcPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n      else {\r\n        lineData.line.resetDestPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Basically, each shape behaves like this one\r\n// and these function must be contained for calling:\r\n// draw, judgeInShape, getLineReference, resetLinesPosition, drawOnOtherCanvas\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Process);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGVzL3Byb2Nlc3MuanM/OTFiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2hhcGUgZnJvbSAnLi9zaGFwZSdcclxuXHJcbmNsYXNzIFByb2Nlc3MgZXh0ZW5kcyBTaGFwZSB7XHJcbiAgY29uc3RydWN0b3IgKGVsLCB0eXBlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHN1cGVyKGVsLCB0eXBlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXHJcbiAgfVxyXG4gIGRyYXcgKHBhZGRpbmdIb3Jpem9udGFsLCBwYWRkaW5nVmVydGljYWwsIGRyYXdDb250ZXh0KSB7XHJcbiAgICAvLyBOb3RlIHRoYXQgb25seSB0aGUgcGFkZGluZyBvZiB0aGUgY29tcG9uZW50IGlzIG5vdCBkZWZhdWx0LlxyXG4gICAgbGV0IGhvcml6b250YWwgPSAodHlwZW9mIHBhZGRpbmdIb3Jpem9udGFsID09PSAndW5kZWZpbmVkJyB8fCBwYWRkaW5nSG9yaXpvbnRhbCA9PT0gbnVsbClcclxuICAgICAgPyB0aGlzLnBhZGRpbmcgOiBwYWRkaW5nSG9yaXpvbnRhbFxyXG4gICAgbGV0IHZlcnRpY2FsID0gKHR5cGVvZiBwYWRkaW5nVmVydGljYWwgPT09ICd1bmRlZmluZWQnIHx8IHBhZGRpbmdWZXJ0aWNhbCA9PT0gbnVsbClcclxuICAgICAgPyB0aGlzLnBhZGRpbmcgOiBwYWRkaW5nVmVydGljYWxcclxuICAgIGxldCBjb250ZXh0ID0gKHR5cGVvZiBkcmF3Q29udGV4dCA9PT0gJ3VuZGVmaW5lZCcgfHwgZHJhd0NvbnRleHQgPT09IG51bGwgKVxyXG4gICAgICA/IHRoaXMuY29udGV4dCA6IGRyYXdDb250ZXh0XHJcblxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZShjb250ZXh0KVxyXG4gICAgY29udGV4dC5maWxsUmVjdChob3Jpem9udGFsLCB2ZXJ0aWNhbCwgdGhpcy53aWR0aCAtIDIgKiBob3Jpem9udGFsLCB0aGlzLmhlaWdodCAtIDIgKiB2ZXJ0aWNhbClcclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgIGNvbnRleHQucmVjdChob3Jpem9udGFsLCB2ZXJ0aWNhbCwgdGhpcy53aWR0aCAtIDIgKiBob3Jpem9udGFsLCB0aGlzLmhlaWdodCAtIDIgKiB2ZXJ0aWNhbCk7XHJcbiAgICBjb250ZXh0LnN0cm9rZSgpXHJcbiAgfVxyXG4gIGRyYXdPbk90aGVyQ2FudmFzIChjb250ZXh0LCBsZWZ0LCB0b3ApIHtcclxuICAgIGNvbnRleHQudHJhbnNsYXRlKGxlZnQsIHRvcClcclxuICAgIHRoaXMuZHJhdyhudWxsLCBudWxsLCBjb250ZXh0KVxyXG4gICAgY29udGV4dC50cmFuc2xhdGUoLWxlZnQsIC10b3ApXHJcbiAgfVxyXG4gIGlzUG9zaXRpb25JblNoYXBlICh4LCB5KSB7XHJcbiAgICByZXR1cm4gKHggPiB0aGlzLmxlZnQgKyB0aGlzLnBhZGRpbmcgJiYgeCA8IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmdcclxuICAgICAgJiYgeSA+IHRoaXMudG9wICsgdGhpcy5wYWRkaW5nICYmIHkgPCB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gdGhpcy5wYWRkaW5nKVxyXG4gIH1cclxuICBpc1Bvc2l0aW9uSW5MaW5lQXJlYSAoeCwgeSkge1xyXG4gICAgaWYgKHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBlbHNlIHJldHVybiAoeCA+PSB0aGlzLmxlZnQgJiYgeCA8PSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoXHJcbiAgICAgICYmIHkgPj0gdGhpcy50b3AgJiYgeSA8PSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0KVxyXG4gIH1cclxuICBqdWRnZUluU2hhcGUgKHgsIHkpIHtcclxuICAgIGxldCB0eXBlXHJcbiAgICB0eXBlID0gKHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpID8gJ3NoYXBlQm9keScgOiBudWxsXHJcbiAgICB0eXBlID0gKCF0eXBlKSA/ICgodGhpcy5pc1Bvc2l0aW9uSW5MaW5lQXJlYSh4LCB5KSkgPyAnc2hhcGVMaW5lQXJlYScgOiAnZW1wdHknKSA6IHR5cGVcclxuICAgIHJldHVybiB7IHNoYXBlOiB0aGlzLCB0eXBlOiB0eXBlIH1cclxuICB9XHJcblxyXG4gIC8vIEV2ZXJ5IHNoYXBlIHJlbHkgb24gaXQncyBvd24gd2F5IHRvIGNhbGN1bGF0ZSBsaW5lIGVuZCBwb3NpdGlvbnNcclxuICAvLyBhbmQgYWxsIHdoYXQgdGhlIGxpbmVzIG5lZWQgdG8gZ2V0IGlzIGp1c3QgdGhlIHBvc2l0aW9ucy5cclxuXHJcbiAgLy8gUmVmZXJQb3NpdGlvbiBpbmNsdWRlcyB1cCwgZG93biwgbGVmdCwgcmlnaHQsIG53Q29ybmVyLCBuZUNvcm5lciwgc2VDb3JuZXIsIHN3Q29ybmVyLlxyXG4gIC8vIE5vdGUgdGhhdCB0aGUgcmVmZXJQZXJjZW50IGlzIGJhc2VkIG9uIGlubmVyIHdpZHRoIG9mIHRoZSBzaGFwZS5cclxuICBjYWxjTGluZVBvc2l0aW9uIChyZWZlclBvc2l0aW9uLCByZWZlclBlcmNlbnQpIHtcclxuICAgIGxldCB4LCB5XHJcbiAgICBsZXQgcG9pbnRzID0gdGhpcy5jYWxjU2hhcGVQb2ludHMoKVxyXG4gICAgc3dpdGNoIChyZWZlclBvc2l0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ253Q29ybmVyJzpcclxuICAgICAgICB4ID0gcG9pbnRzWzBdXHJcbiAgICAgICAgeSA9IHBvaW50c1sxXVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ25lQ29ybmVyJzpcclxuICAgICAgICB4ID0gcG9pbnRzWzJdXHJcbiAgICAgICAgeSA9IHBvaW50c1szXVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3NlQ29ybmVyJzpcclxuICAgICAgICB4ID0gcG9pbnRzWzRdXHJcbiAgICAgICAgeSA9IHBvaW50c1s1XVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3N3Q29ybmVyJzpcclxuICAgICAgICB4ID0gcG9pbnRzWzZdXHJcbiAgICAgICAgeSA9IHBvaW50c1s3XVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3VwJzpcclxuICAgICAgICB4ID0gdGhpcy5sZWZ0ICsgdGhpcy5wYWRkaW5nICsgcmVmZXJQZXJjZW50ICogKHRoaXMud2lkdGggLSAyICogdGhpcy5wYWRkaW5nKVxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIHRoaXMucGFkZGluZ1xyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ2Rvd24nOlxyXG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyB0aGlzLnBhZGRpbmcgKyByZWZlclBlcmNlbnQgKiAodGhpcy53aWR0aCAtIDIgKiB0aGlzLnBhZGRpbmcpXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSB0aGlzLnBhZGRpbmdcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICB4ID0gdGhpcy5sZWZ0ICsgdGhpcy5wYWRkaW5nXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgdGhpcy5wYWRkaW5nICsgcmVmZXJQZXJjZW50ICogKHRoaXMuaGVpZ2h0IC0gMiAqIHRoaXMucGFkZGluZylcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmdcclxuICAgICAgICB5ID0gdGhpcy50b3AgKyB0aGlzLnBhZGRpbmcgKyByZWZlclBlcmNlbnQgKiAodGhpcy5oZWlnaHQgLSAyICogdGhpcy5wYWRkaW5nKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH1cclxuICB9XHJcbiAgY2FsY1NoYXBlUG9pbnRzICgpIHtcclxuICAgIC8vIFBvaW50czogbncgLT4gbmUgLT4gc2UgLT4gc3dcclxuICAgIGxldCB4MSA9IHRoaXMubGVmdCArIHRoaXMucGFkZGluZywgeTEgPSB0aGlzLnRvcCArIHRoaXMucGFkZGluZ1xyXG4gICAgbGV0IHgyID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAtIHRoaXMucGFkZGluZywgeTIgPSB0aGlzLnRvcCArIHRoaXMucGFkZGluZ1xyXG4gICAgbGV0IHgzID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAtIHRoaXMucGFkZGluZywgeTMgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gdGhpcy5wYWRkaW5nXHJcbiAgICBsZXQgeDQgPSB0aGlzLmxlZnQgKyB0aGlzLnBhZGRpbmcsIHk0ID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAtIHRoaXMucGFkZGluZ1xyXG4gICAgcmV0dXJuIFsgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0IF1cclxuICB9XHJcbiAgZ2V0TGluZVJlZmVyZW5jZSAoeCwgeSkge1xyXG4gICAgbGV0IHJlZmVyUG9zaXRpb24gPSBudWxsLCByZWZlclBlcmNlbnQgPSAwLCBwb3NpdGlvblxyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0IF0gPSB0aGlzLmNhbGNTaGFwZVBvaW50cygpXHJcbiAgICBpZiAodGhpcy5pc1Bvc2l0aW9uSW5MaW5lQXJlYSh4LCB5KSkge1xyXG4gICAgICBpZiAoeSA8IHkxKSB7XHJcbiAgICAgICAgaWYgKHggPCB4MSkge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdud0Nvcm5lcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoeCA+IHgyKSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ25lQ29ybmVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAndXAnXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQgPSAoeCAtIHgxKSAvICh0aGlzLndpZHRoIC0gMiAqIHRoaXMucGFkZGluZylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoeSA+IHk0KSB7XHJcbiAgICAgICAgaWYgKHggPCB4NCkge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdzd0Nvcm5lcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoeCA+IHgzKSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ3NlQ29ybmVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnZG93bidcclxuICAgICAgICAgIHJlZmVyUGVyY2VudCA9ICh4IC0geDQpIC8gKHRoaXMud2lkdGggLSAyICogdGhpcy5wYWRkaW5nKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoeCA8IHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyKSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ2xlZnQnXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQgPSAoeSAtIHRoaXMudG9wIC0gdGhpcy5wYWRkaW5nKSAvICh0aGlzLmhlaWdodCAtIDIgKiB0aGlzLnBhZGRpbmcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdyaWdodCdcclxuICAgICAgICAgIHJlZmVyUGVyY2VudCA9ICh5IC0gdGhpcy50b3AgLSB0aGlzLnBhZGRpbmcpIC8gKHRoaXMuaGVpZ2h0IC0gMiAqIHRoaXMucGFkZGluZylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpIHtcclxuICAgICAgcmVmZXJQZXJjZW50ID0gMC41XHJcbiAgICAgIC8vIGNoZWNrIHRoZSBwb3NpdGlvbiBpbiB3aGljaCBhcmVhIG9mIHRoZSBzaGFwZVxyXG4gICAgICAvLyB0aGUgYXJlYXMgYXJlIHNob3duIGJlbG93OlxyXG4gICAgICAvLyAgX19cclxuICAgICAgLy8gfFxcL3xcclxuICAgICAgLy8gfC9cXHxcclxuICAgICAgLy8gIC0tXHJcbiAgICAgIGxldCBsaW5lUmVmZXIxID0gKHggLSB4MykgLyAoeDEgLSB4MykgLSAoeSAtIHkzKSAvICh5MSAtIHkzKVxyXG4gICAgICBsZXQgbGluZVJlZmVyMiA9ICh4IC0geDQpIC8gKHgyIC0geDQpIC0gKHkgLSB5NCkgLyAoeTIgLSB5NClcclxuICAgICAgLy9sZXQgbGluZVJlZmVyMSA9ICgoeCAtIHRoaXMubGVmdCAtIHRoaXMud2lkdGggKyB0aGlzLnBhZGRpbmcpIC8gKDIgKiB0aGlzLnBhZGRpbmcgLSB0aGlzLndpZHRoKVxyXG4gICAgICAvLyAgLSAoeSAtIHRoaXMudG9wIC0gdGhpcy5oZWlnaHQgKyB0aGlzLnBhZGRpbmcpIC8gKDIgKiB0aGlzLnBhZGRpbmcgLSB0aGlzLmhlaWdodCkpXHJcbiAgICAgIC8vbGV0IGxpbmVSZWZlcjIgPSAoKHggLSB0aGlzLmxlZnQgLSB0aGlzLndpZHRoICsgdGhpcy5wYWRkaW5nKSAvICgyICogdGhpcy5wYWRkaW5nIC0gdGhpcy53aWR0aClcclxuICAgICAgLy8gIC0gKHkgLSB0aGlzLnRvcCAtIHRoaXMucGFkZGluZykgLyAoLTIgKiB0aGlzLnBhZGRpbmcgKyB0aGlzLmhlaWdodCkpXHJcbiAgICAgIGlmIChsaW5lUmVmZXIxIDw9IDAgJiYgbGluZVJlZmVyMiA8PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICd1cCdcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChsaW5lUmVmZXIxIDw9IDAgJiYgbGluZVJlZmVyMiA+PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdyaWdodCdcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChsaW5lUmVmZXIxID49IDAgJiYgbGluZVJlZmVyMiA+PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdkb3duJ1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlZmVyUG9zaXRpb24gPSAnbGVmdCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgcG9zaXRpb24gPSB0aGlzLmNhbGNMaW5lUG9zaXRpb24ocmVmZXJQb3NpdGlvbiwgcmVmZXJQZXJjZW50KVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVmZXJQb3NpdGlvbjogcmVmZXJQb3NpdGlvbixcclxuICAgICAgcmVmZXJQZXJjZW50OiByZWZlclBlcmNlbnQsXHJcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxyXG4gICAgfVxyXG4gIH1cclxuICByZXNldExpbmVzUG9zaXRpb24gKCkge1xyXG4gICAgbGV0IGxpbmVEYXRhLCBwb3NpdGlvblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aXZlTGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGluZURhdGEgPSB0aGlzLnJlbGF0aXZlTGluZXNbaV1cclxuICAgICAgcG9zaXRpb24gPSB0aGlzLmNhbGNMaW5lUG9zaXRpb24obGluZURhdGEucmVmZXJQb3NpdGlvbiwgbGluZURhdGEucmVmZXJQZXJjZW50KVxyXG4gICAgICBpZiAobGluZURhdGEudHlwZSA9PT0gJ3NyYycpIHtcclxuICAgICAgICBsaW5lRGF0YS5saW5lLnJlc2V0U3JjUG9zaXRpb24ocG9zaXRpb24pXHJcbiAgICAgICAgbGluZURhdGEubGluZS5kcmF3KClcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsaW5lRGF0YS5saW5lLnJlc2V0RGVzdFBvc2l0aW9uKHBvc2l0aW9uKVxyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUuZHJhdygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEJhc2ljYWxseSwgZWFjaCBzaGFwZSBiZWhhdmVzIGxpa2UgdGhpcyBvbmVcclxuLy8gYW5kIHRoZXNlIGZ1bmN0aW9uIG11c3QgYmUgY29udGFpbmVkIGZvciBjYWxsaW5nOlxyXG4vLyBkcmF3LCBqdWRnZUluU2hhcGUsIGdldExpbmVSZWZlcmVuY2UsIHJlc2V0TGluZXNQb3NpdGlvbiwgZHJhd09uT3RoZXJDYW52YXNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2Nlc3NcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhcGVzL3Byb2Nlc3MuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shape__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_calculation_calcPosition__ = __webpack_require__(1);\n\r\n\r\n\r\n// Calculate the four border line of the decision shape\r\n// in order to judge which side is the point placed at.\r\nfunction calcBorderLineResult (x, y, points) {\r\n  let lineResult = []\r\n  for (let i = 0; i < 4; i++) {\r\n    let x1 = points[i * 2], y1 = points[i * 2 + 1]\r\n    let x2 = points[(i + 1) * 2 % 8], y2 = points[(i + 1) * 2 % 8 + 1]\r\n    lineResult[i] = (x - x2) / (x1 - x2) - (y - y2) / (y1 - y2)\r\n  }\r\n  return lineResult\r\n}\r\n\r\nfunction calcPercentOfLine (x, y, pointA, pointB) {\r\n  let point = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcPosition__[\"b\" /* calcPointToLineFoot */])([x, y], [pointA[0], pointA[1], pointB[0], pointB[1]])\r\n  return (point.x - pointA[0]) / (pointB[0] - pointA[0])\r\n}\r\n\r\nclass Decision extends __WEBPACK_IMPORTED_MODULE_0__shape__[\"a\" /* default */] {\r\n  constructor (el, type, left, top, width, height) {\r\n    super(el, type, left, top, width, height)\r\n  }\r\n  draw (paddingHorizontal, paddingVertical, drawContext) {\r\n    let horizontal = (typeof paddingHorizontal === 'undefined' || paddingHorizontal === null)\r\n      ? this.padding : paddingHorizontal\r\n    let vertical = (typeof paddingVertical === 'undefined' || paddingVertical === null)\r\n      ? this.padding : paddingVertical\r\n    let context = (typeof drawContext === 'undefined' || drawContext === null )\r\n      ? this.context : drawContext\r\n\r\n    this.resetDrawStyle(context)\r\n    context.beginPath()\r\n    context.moveTo(this.width / 2, vertical)\r\n    context.lineTo(this.width - horizontal, this.height / 2)\r\n    context.lineTo(this.width /2, this.height - vertical)\r\n    context.lineTo(horizontal, this.height / 2)\r\n    context.closePath()\r\n    context.fill()\r\n    context.stroke()\r\n  }\r\n  drawOnOtherCanvas (context, left, top) {\r\n    context.translate(left, top)\r\n    this.draw(null, null, context)\r\n    context.translate(-left, -top)\r\n  }\r\n  isPositionInShape (x, y) {\r\n    let points = this.calcShapePoints()\r\n    let lineResult = calcBorderLineResult(x, y, points)\r\n\r\n    return (lineResult[0] > 0 && lineResult[1] < 0 && lineResult[2] > 0 && lineResult[3] < 0)\r\n  }\r\n  isPositionInLineArea (x, y, bodyExcluded) {\r\n    if (!bodyExcluded && this.isPositionInShape(x, y)) {\r\n      return false\r\n    }\r\n    let points = this.calcLineAreaPoints()\r\n    let lineResult = calcBorderLineResult(x, y, points)\r\n\r\n    return (lineResult[0] >= 0 && lineResult[1] <= 0 && lineResult[2] >= 0 && lineResult[3] <= 0)\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type\r\n    type = (this.isPositionInShape(x, y)) ? 'shapeBody' : null\r\n    type = (!type) ? ((this.isPositionInLineArea(x, y, true)) ? 'shapeLineArea' : 'empty') : type\r\n    return { shape: this, type: type }\r\n  }\r\n  // ReferPosition includes top, right, bottom, left, nwBorder, neBorder, seBorder, swBorder.\r\n  calcLinePosition (referPosition, referPercent) {\r\n    let x, y, point\r\n    let points = this.calcShapePoints()\r\n    switch (referPosition) {\r\n      case 'top':\r\n        x = points[0]\r\n        y = points[1]\r\n        break;\r\n      case 'right':\r\n        x = points[2]\r\n        y = points[3]\r\n        break;\r\n      case 'bottom':\r\n        x = points[4]\r\n        y = points[5]\r\n        break;\r\n      case 'left':\r\n        x = points[6]\r\n        y = points[7]\r\n        break;\r\n      case 'nwBorder':\r\n        point = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcPosition__[\"a\" /* calcPointOnLine */])([points[6], points[7]], [points[0], points[1]], referPercent)\r\n        break;\r\n      case 'neBorder':\r\n        point = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcPosition__[\"a\" /* calcPointOnLine */])([points[0], points[1]], [points[2], points[3]], referPercent)\r\n        break;\r\n      case 'seBorder':\r\n        point = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcPosition__[\"a\" /* calcPointOnLine */])([points[2], points[3]], [points[4], points[5]], referPercent)\r\n        break;\r\n      case 'swBorder':\r\n        point = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcPosition__[\"a\" /* calcPointOnLine */])([points[4], points[5]], [points[6], points[7]], referPercent)\r\n        break;\r\n    }\r\n    if (point) { return point }\r\n    else { return { x: x, y: y } }\r\n  }\r\n  calcShapePoints () {\r\n    // Points: top -> right -> bottom -> left\r\n    let x1 = this.left + this.width / 2, y1 = this.top + this.padding\r\n    let x2 = this.left + this.width - this.padding, y2 = this.top + this.height / 2\r\n    let x3 = this.left + this.width / 2, y3 = this.top + this.height - this.padding\r\n    let x4 = this.left + this.padding, y4 = this.top + this.height / 2\r\n    return [ x1, y1, x2, y2, x3, y3, x4, y4 ]\r\n  }\r\n  calcLineAreaPoints () {\r\n    let x1 = this.left + this.width / 2, y1 = this.top\r\n    let x2 = this.left + this.width, y2 = this.top + this.height / 2\r\n    let x3 = this.left + this.width / 2, y3 = this.top + this.height\r\n    let x4 = this.left, y4 = this.top + this.height / 2\r\n    return [ x1, y1, x2, y2, x3, y3, x4, y4 ]\r\n  }\r\n  getLineReference (x, y) {\r\n    let referPosition = null, referPercent = 0, position\r\n    let points = this.calcShapePoints()\r\n    let [ x1, y1, x2, y2, x3, y3, x4, y4 ] = points\r\n    if (this.isPositionInShape(x, y)) {\r\n      let x5 = (x1 + x2) / 2, y5 = (y1 + y2) / 2\r\n      let x6 = (x2 + x3) / 2, y6 = (y2 + y3) / 2\r\n      let x7 = (x3 + x4) / 2, y7 = (y3 + y4) / 2\r\n      let x8 = (x4 + x1) / 2, y8 = (y4 + y1) / 2\r\n      let result = []\r\n      result[0] = (x - x7) / (x5 - x7) - (y - y7) / (y5 - y7)\r\n      result[1] = (x - x8) / (x6 - x8) - (y - y8) / (y6 - y8)\r\n      if (result[1] >= 0) {\r\n        referPosition = result[0] <= 0 ? 'top' : 'right'\r\n      }\r\n      else {\r\n        referPosition = result[0] <= 0 ? 'left' : 'bottom'\r\n      }\r\n    }\r\n    else if (this.isPositionInLineArea(x, y, true)) {\r\n      let pointA, pointB\r\n      let results = calcBorderLineResult(x, y, points)\r\n      if (results[0] <= 0 && results[3] >= 0) {\r\n        referPosition = 'top'\r\n      }\r\n      else if (results[0] <= 0 && results[1] >= 0) {\r\n        referPosition = 'right'\r\n      }\r\n      else if (results[2] <= 0 && results[1] >= 0) {\r\n        referPosition = 'bottom'\r\n      }\r\n      else if (results[2] <= 0 && results[3] >= 0) {\r\n        referPosition = 'left'\r\n      }\r\n      else {\r\n        if (results[0] <= 0) {\r\n          pointA = [x1, y1]\r\n          pointB = [x2, y2]\r\n          referPosition = 'neBorder'\r\n        }\r\n        else if (results[1] >= 0) {\r\n          pointA = [x2, y2]\r\n          pointB = [x3, y3]\r\n          referPosition = 'seBorder'\r\n        }\r\n        else if (results[2] <= 0) {\r\n          pointA = [x3, y3]\r\n          pointB = [x4, y4]\r\n          referPosition = 'swBorder'\r\n        }\r\n        else if (results[3] >= 0) {\r\n          pointA = [x4, y4]\r\n          pointB = [x1, y1]\r\n          referPosition = 'nwBorder'\r\n        }\r\n        referPercent = calcPercentOfLine(x, y, pointA, pointB)\r\n      }\r\n    }\r\n    else { return null }\r\n\r\n    position = this.calcLinePosition(referPosition, referPercent)\r\n    return {\r\n      referPosition: referPosition,\r\n      referPercent: referPercent,\r\n      position: position\r\n    }\r\n  }\r\n  resetLinesPosition () {\r\n    let lineData, position\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      lineData = this.relativeLines[i]\r\n      position = this.calcLinePosition(lineData.referPosition, lineData.referPercent)\r\n      if (lineData.type === 'src') {\r\n        lineData.line.resetSrcPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n      else {\r\n        lineData.line.resetDestPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Decision);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGVzL2RlY2lzaW9uLmpzP2RjYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoYXBlIGZyb20gJy4vc2hhcGUnXHJcbmltcG9ydCB7Y2FsY1BvaW50VG9MaW5lRm9vdCwgY2FsY1BvaW50T25MaW5lfSBmcm9tIFwiLi4vY29yZS9jYWxjdWxhdGlvbi9jYWxjUG9zaXRpb25cIlxyXG5cclxuLy8gQ2FsY3VsYXRlIHRoZSBmb3VyIGJvcmRlciBsaW5lIG9mIHRoZSBkZWNpc2lvbiBzaGFwZVxyXG4vLyBpbiBvcmRlciB0byBqdWRnZSB3aGljaCBzaWRlIGlzIHRoZSBwb2ludCBwbGFjZWQgYXQuXHJcbmZ1bmN0aW9uIGNhbGNCb3JkZXJMaW5lUmVzdWx0ICh4LCB5LCBwb2ludHMpIHtcclxuICBsZXQgbGluZVJlc3VsdCA9IFtdXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgIGxldCB4MSA9IHBvaW50c1tpICogMl0sIHkxID0gcG9pbnRzW2kgKiAyICsgMV1cclxuICAgIGxldCB4MiA9IHBvaW50c1soaSArIDEpICogMiAlIDhdLCB5MiA9IHBvaW50c1soaSArIDEpICogMiAlIDggKyAxXVxyXG4gICAgbGluZVJlc3VsdFtpXSA9ICh4IC0geDIpIC8gKHgxIC0geDIpIC0gKHkgLSB5MikgLyAoeTEgLSB5MilcclxuICB9XHJcbiAgcmV0dXJuIGxpbmVSZXN1bHRcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1BlcmNlbnRPZkxpbmUgKHgsIHksIHBvaW50QSwgcG9pbnRCKSB7XHJcbiAgbGV0IHBvaW50ID0gY2FsY1BvaW50VG9MaW5lRm9vdChbeCwgeV0sIFtwb2ludEFbMF0sIHBvaW50QVsxXSwgcG9pbnRCWzBdLCBwb2ludEJbMV1dKVxyXG4gIHJldHVybiAocG9pbnQueCAtIHBvaW50QVswXSkgLyAocG9pbnRCWzBdIC0gcG9pbnRBWzBdKVxyXG59XHJcblxyXG5jbGFzcyBEZWNpc2lvbiBleHRlbmRzIFNoYXBlIHtcclxuICBjb25zdHJ1Y3RvciAoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgc3VwZXIoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodClcclxuICB9XHJcbiAgZHJhdyAocGFkZGluZ0hvcml6b250YWwsIHBhZGRpbmdWZXJ0aWNhbCwgZHJhd0NvbnRleHQpIHtcclxuICAgIGxldCBob3Jpem9udGFsID0gKHR5cGVvZiBwYWRkaW5nSG9yaXpvbnRhbCA9PT0gJ3VuZGVmaW5lZCcgfHwgcGFkZGluZ0hvcml6b250YWwgPT09IG51bGwpXHJcbiAgICAgID8gdGhpcy5wYWRkaW5nIDogcGFkZGluZ0hvcml6b250YWxcclxuICAgIGxldCB2ZXJ0aWNhbCA9ICh0eXBlb2YgcGFkZGluZ1ZlcnRpY2FsID09PSAndW5kZWZpbmVkJyB8fCBwYWRkaW5nVmVydGljYWwgPT09IG51bGwpXHJcbiAgICAgID8gdGhpcy5wYWRkaW5nIDogcGFkZGluZ1ZlcnRpY2FsXHJcbiAgICBsZXQgY29udGV4dCA9ICh0eXBlb2YgZHJhd0NvbnRleHQgPT09ICd1bmRlZmluZWQnIHx8IGRyYXdDb250ZXh0ID09PSBudWxsIClcclxuICAgICAgPyB0aGlzLmNvbnRleHQgOiBkcmF3Q29udGV4dFxyXG5cclxuICAgIHRoaXMucmVzZXREcmF3U3R5bGUoY29udGV4dClcclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgIGNvbnRleHQubW92ZVRvKHRoaXMud2lkdGggLyAyLCB2ZXJ0aWNhbClcclxuICAgIGNvbnRleHQubGluZVRvKHRoaXMud2lkdGggLSBob3Jpem9udGFsLCB0aGlzLmhlaWdodCAvIDIpXHJcbiAgICBjb250ZXh0LmxpbmVUbyh0aGlzLndpZHRoIC8yLCB0aGlzLmhlaWdodCAtIHZlcnRpY2FsKVxyXG4gICAgY29udGV4dC5saW5lVG8oaG9yaXpvbnRhbCwgdGhpcy5oZWlnaHQgLyAyKVxyXG4gICAgY29udGV4dC5jbG9zZVBhdGgoKVxyXG4gICAgY29udGV4dC5maWxsKClcclxuICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICB9XHJcbiAgZHJhd09uT3RoZXJDYW52YXMgKGNvbnRleHQsIGxlZnQsIHRvcCkge1xyXG4gICAgY29udGV4dC50cmFuc2xhdGUobGVmdCwgdG9wKVxyXG4gICAgdGhpcy5kcmF3KG51bGwsIG51bGwsIGNvbnRleHQpXHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtbGVmdCwgLXRvcClcclxuICB9XHJcbiAgaXNQb3NpdGlvbkluU2hhcGUgKHgsIHkpIHtcclxuICAgIGxldCBwb2ludHMgPSB0aGlzLmNhbGNTaGFwZVBvaW50cygpXHJcbiAgICBsZXQgbGluZVJlc3VsdCA9IGNhbGNCb3JkZXJMaW5lUmVzdWx0KHgsIHksIHBvaW50cylcclxuXHJcbiAgICByZXR1cm4gKGxpbmVSZXN1bHRbMF0gPiAwICYmIGxpbmVSZXN1bHRbMV0gPCAwICYmIGxpbmVSZXN1bHRbMl0gPiAwICYmIGxpbmVSZXN1bHRbM10gPCAwKVxyXG4gIH1cclxuICBpc1Bvc2l0aW9uSW5MaW5lQXJlYSAoeCwgeSwgYm9keUV4Y2x1ZGVkKSB7XHJcbiAgICBpZiAoIWJvZHlFeGNsdWRlZCAmJiB0aGlzLmlzUG9zaXRpb25JblNoYXBlKHgsIHkpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgbGV0IHBvaW50cyA9IHRoaXMuY2FsY0xpbmVBcmVhUG9pbnRzKClcclxuICAgIGxldCBsaW5lUmVzdWx0ID0gY2FsY0JvcmRlckxpbmVSZXN1bHQoeCwgeSwgcG9pbnRzKVxyXG5cclxuICAgIHJldHVybiAobGluZVJlc3VsdFswXSA+PSAwICYmIGxpbmVSZXN1bHRbMV0gPD0gMCAmJiBsaW5lUmVzdWx0WzJdID49IDAgJiYgbGluZVJlc3VsdFszXSA8PSAwKVxyXG4gIH1cclxuICBqdWRnZUluU2hhcGUgKHgsIHkpIHtcclxuICAgIGxldCB0eXBlXHJcbiAgICB0eXBlID0gKHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpID8gJ3NoYXBlQm9keScgOiBudWxsXHJcbiAgICB0eXBlID0gKCF0eXBlKSA/ICgodGhpcy5pc1Bvc2l0aW9uSW5MaW5lQXJlYSh4LCB5LCB0cnVlKSkgPyAnc2hhcGVMaW5lQXJlYScgOiAnZW1wdHknKSA6IHR5cGVcclxuICAgIHJldHVybiB7IHNoYXBlOiB0aGlzLCB0eXBlOiB0eXBlIH1cclxuICB9XHJcbiAgLy8gUmVmZXJQb3NpdGlvbiBpbmNsdWRlcyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIG53Qm9yZGVyLCBuZUJvcmRlciwgc2VCb3JkZXIsIHN3Qm9yZGVyLlxyXG4gIGNhbGNMaW5lUG9zaXRpb24gKHJlZmVyUG9zaXRpb24sIHJlZmVyUGVyY2VudCkge1xyXG4gICAgbGV0IHgsIHksIHBvaW50XHJcbiAgICBsZXQgcG9pbnRzID0gdGhpcy5jYWxjU2hhcGVQb2ludHMoKVxyXG4gICAgc3dpdGNoIChyZWZlclBvc2l0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgeCA9IHBvaW50c1swXVxyXG4gICAgICAgIHkgPSBwb2ludHNbMV1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHggPSBwb2ludHNbMl1cclxuICAgICAgICB5ID0gcG9pbnRzWzNdXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgeCA9IHBvaW50c1s0XVxyXG4gICAgICAgIHkgPSBwb2ludHNbNV1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgeCA9IHBvaW50c1s2XVxyXG4gICAgICAgIHkgPSBwb2ludHNbN11cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbndCb3JkZXInOlxyXG4gICAgICAgIHBvaW50ID0gY2FsY1BvaW50T25MaW5lKFtwb2ludHNbNl0sIHBvaW50c1s3XV0sIFtwb2ludHNbMF0sIHBvaW50c1sxXV0sIHJlZmVyUGVyY2VudClcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnbmVCb3JkZXInOlxyXG4gICAgICAgIHBvaW50ID0gY2FsY1BvaW50T25MaW5lKFtwb2ludHNbMF0sIHBvaW50c1sxXV0sIFtwb2ludHNbMl0sIHBvaW50c1szXV0sIHJlZmVyUGVyY2VudClcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc2VCb3JkZXInOlxyXG4gICAgICAgIHBvaW50ID0gY2FsY1BvaW50T25MaW5lKFtwb2ludHNbMl0sIHBvaW50c1szXV0sIFtwb2ludHNbNF0sIHBvaW50c1s1XV0sIHJlZmVyUGVyY2VudClcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc3dCb3JkZXInOlxyXG4gICAgICAgIHBvaW50ID0gY2FsY1BvaW50T25MaW5lKFtwb2ludHNbNF0sIHBvaW50c1s1XV0sIFtwb2ludHNbNl0sIHBvaW50c1s3XV0sIHJlZmVyUGVyY2VudClcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmIChwb2ludCkgeyByZXR1cm4gcG9pbnQgfVxyXG4gICAgZWxzZSB7IHJldHVybiB7IHg6IHgsIHk6IHkgfSB9XHJcbiAgfVxyXG4gIGNhbGNTaGFwZVBvaW50cyAoKSB7XHJcbiAgICAvLyBQb2ludHM6IHRvcCAtPiByaWdodCAtPiBib3R0b20gLT4gbGVmdFxyXG4gICAgbGV0IHgxID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAvIDIsIHkxID0gdGhpcy50b3AgKyB0aGlzLnBhZGRpbmdcclxuICAgIGxldCB4MiA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmcsIHkyID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAvIDJcclxuICAgIGxldCB4MyA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyLCB5MyA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSB0aGlzLnBhZGRpbmdcclxuICAgIGxldCB4NCA9IHRoaXMubGVmdCArIHRoaXMucGFkZGluZywgeTQgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMlxyXG4gICAgcmV0dXJuIFsgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0IF1cclxuICB9XHJcbiAgY2FsY0xpbmVBcmVhUG9pbnRzICgpIHtcclxuICAgIGxldCB4MSA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyLCB5MSA9IHRoaXMudG9wXHJcbiAgICBsZXQgeDIgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoLCB5MiA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLyAyXHJcbiAgICBsZXQgeDMgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC8gMiwgeTMgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0XHJcbiAgICBsZXQgeDQgPSB0aGlzLmxlZnQsIHk0ID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAvIDJcclxuICAgIHJldHVybiBbIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCBdXHJcbiAgfVxyXG4gIGdldExpbmVSZWZlcmVuY2UgKHgsIHkpIHtcclxuICAgIGxldCByZWZlclBvc2l0aW9uID0gbnVsbCwgcmVmZXJQZXJjZW50ID0gMCwgcG9zaXRpb25cclxuICAgIGxldCBwb2ludHMgPSB0aGlzLmNhbGNTaGFwZVBvaW50cygpXHJcbiAgICBsZXQgWyB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQgXSA9IHBvaW50c1xyXG4gICAgaWYgKHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpIHtcclxuICAgICAgbGV0IHg1ID0gKHgxICsgeDIpIC8gMiwgeTUgPSAoeTEgKyB5MikgLyAyXHJcbiAgICAgIGxldCB4NiA9ICh4MiArIHgzKSAvIDIsIHk2ID0gKHkyICsgeTMpIC8gMlxyXG4gICAgICBsZXQgeDcgPSAoeDMgKyB4NCkgLyAyLCB5NyA9ICh5MyArIHk0KSAvIDJcclxuICAgICAgbGV0IHg4ID0gKHg0ICsgeDEpIC8gMiwgeTggPSAoeTQgKyB5MSkgLyAyXHJcbiAgICAgIGxldCByZXN1bHQgPSBbXVxyXG4gICAgICByZXN1bHRbMF0gPSAoeCAtIHg3KSAvICh4NSAtIHg3KSAtICh5IC0geTcpIC8gKHk1IC0geTcpXHJcbiAgICAgIHJlc3VsdFsxXSA9ICh4IC0geDgpIC8gKHg2IC0geDgpIC0gKHkgLSB5OCkgLyAoeTYgLSB5OClcclxuICAgICAgaWYgKHJlc3VsdFsxXSA+PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9IHJlc3VsdFswXSA8PSAwID8gJ3RvcCcgOiAncmlnaHQnXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9IHJlc3VsdFswXSA8PSAwID8gJ2xlZnQnIDogJ2JvdHRvbSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5pc1Bvc2l0aW9uSW5MaW5lQXJlYSh4LCB5LCB0cnVlKSkge1xyXG4gICAgICBsZXQgcG9pbnRBLCBwb2ludEJcclxuICAgICAgbGV0IHJlc3VsdHMgPSBjYWxjQm9yZGVyTGluZVJlc3VsdCh4LCB5LCBwb2ludHMpXHJcbiAgICAgIGlmIChyZXN1bHRzWzBdIDw9IDAgJiYgcmVzdWx0c1szXSA+PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICd0b3AnXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAocmVzdWx0c1swXSA8PSAwICYmIHJlc3VsdHNbMV0gPj0gMCkge1xyXG4gICAgICAgIHJlZmVyUG9zaXRpb24gPSAncmlnaHQnXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAocmVzdWx0c1syXSA8PSAwICYmIHJlc3VsdHNbMV0gPj0gMCkge1xyXG4gICAgICAgIHJlZmVyUG9zaXRpb24gPSAnYm90dG9tJ1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHJlc3VsdHNbMl0gPD0gMCAmJiByZXN1bHRzWzNdID49IDApIHtcclxuICAgICAgICByZWZlclBvc2l0aW9uID0gJ2xlZnQnXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdHNbMF0gPD0gMCkge1xyXG4gICAgICAgICAgcG9pbnRBID0gW3gxLCB5MV1cclxuICAgICAgICAgIHBvaW50QiA9IFt4MiwgeTJdXHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ25lQm9yZGVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyZXN1bHRzWzFdID49IDApIHtcclxuICAgICAgICAgIHBvaW50QSA9IFt4MiwgeTJdXHJcbiAgICAgICAgICBwb2ludEIgPSBbeDMsIHkzXVxyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdzZUJvcmRlcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVzdWx0c1syXSA8PSAwKSB7XHJcbiAgICAgICAgICBwb2ludEEgPSBbeDMsIHkzXVxyXG4gICAgICAgICAgcG9pbnRCID0gW3g0LCB5NF1cclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnc3dCb3JkZXInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdHNbM10gPj0gMCkge1xyXG4gICAgICAgICAgcG9pbnRBID0gW3g0LCB5NF1cclxuICAgICAgICAgIHBvaW50QiA9IFt4MSwgeTFdXHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ253Qm9yZGVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWZlclBlcmNlbnQgPSBjYWxjUGVyY2VudE9mTGluZSh4LCB5LCBwb2ludEEsIHBvaW50QilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7IHJldHVybiBudWxsIH1cclxuXHJcbiAgICBwb3NpdGlvbiA9IHRoaXMuY2FsY0xpbmVQb3NpdGlvbihyZWZlclBvc2l0aW9uLCByZWZlclBlcmNlbnQpXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZWZlclBvc2l0aW9uOiByZWZlclBvc2l0aW9uLFxyXG4gICAgICByZWZlclBlcmNlbnQ6IHJlZmVyUGVyY2VudCxcclxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlc2V0TGluZXNQb3NpdGlvbiAoKSB7XHJcbiAgICBsZXQgbGluZURhdGEsIHBvc2l0aW9uXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVsYXRpdmVMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsaW5lRGF0YSA9IHRoaXMucmVsYXRpdmVMaW5lc1tpXVxyXG4gICAgICBwb3NpdGlvbiA9IHRoaXMuY2FsY0xpbmVQb3NpdGlvbihsaW5lRGF0YS5yZWZlclBvc2l0aW9uLCBsaW5lRGF0YS5yZWZlclBlcmNlbnQpXHJcbiAgICAgIGlmIChsaW5lRGF0YS50eXBlID09PSAnc3JjJykge1xyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUucmVzZXRTcmNQb3NpdGlvbihwb3NpdGlvbilcclxuICAgICAgICBsaW5lRGF0YS5saW5lLmRyYXcoKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUucmVzZXREZXN0UG9zaXRpb24ocG9zaXRpb24pXHJcbiAgICAgICAgbGluZURhdGEubGluZS5kcmF3KClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVjaXNpb25cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhcGVzL2RlY2lzaW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__terminator__ = __webpack_require__(9);\n\r\n\r\nclass StoredData extends __WEBPACK_IMPORTED_MODULE_0__terminator__[\"a\" /* default */] {\r\n  constructor (el, type, left, top, width, height) {\r\n    super(el, type, left, top, width, height)\r\n  }\r\n  draw (paddingHorizontal, paddingVertical, drawContext) {\r\n    let horizontal = (typeof paddingHorizontal === 'undefined' || paddingHorizontal === null)\r\n      ? this.padding : paddingHorizontal\r\n    let vertical = (typeof paddingVertical === 'undefined' || paddingVertical === null)\r\n      ? this.padding : paddingVertical\r\n    let context = (typeof drawContext === 'undefined' || drawContext === null )\r\n      ? this.context : drawContext\r\n\r\n    let radius = (this.height - 2 * vertical) / 2\r\n    let centerA = [], centerB = []\r\n    centerA.x = horizontal / this.calcWidthHeightRatio() + radius\r\n    centerA.y = vertical + radius\r\n    centerB.x = (this.width - horizontal) / this.calcWidthHeightRatio() - radius\r\n    centerB.y = vertical + radius\r\n\r\n    this.resetDrawStyle(context)\r\n    context.beginPath()\r\n    context.scale(this.calcWidthHeightRatio(), 1)\r\n    context.arc(centerA.x, centerA.y, radius, 0.5 * Math.PI, 1.5 * Math.PI)\r\n    context.lineTo(centerB.x, vertical)\r\n    context.arc(centerB.x, centerB.y, radius, 1.5 * Math.PI, 0.5 * Math.PI)\r\n    context.closePath()\r\n    context.fill()\r\n    context.arc(centerB.x, centerB.y, radius, 0.5 * Math.PI, 1.5 * Math.PI)\r\n    context.stroke()\r\n    context.scale(1 / this.calcWidthHeightRatio(), 1)\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (StoredData);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGVzL3N0b3JlZERhdGEuanM/YmZkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGVybWluYXRvciBmcm9tICcuL3Rlcm1pbmF0b3InXHJcblxyXG5jbGFzcyBTdG9yZWREYXRhIGV4dGVuZHMgVGVybWluYXRvciB7XHJcbiAgY29uc3RydWN0b3IgKGVsLCB0eXBlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHN1cGVyKGVsLCB0eXBlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXHJcbiAgfVxyXG4gIGRyYXcgKHBhZGRpbmdIb3Jpem9udGFsLCBwYWRkaW5nVmVydGljYWwsIGRyYXdDb250ZXh0KSB7XHJcbiAgICBsZXQgaG9yaXpvbnRhbCA9ICh0eXBlb2YgcGFkZGluZ0hvcml6b250YWwgPT09ICd1bmRlZmluZWQnIHx8IHBhZGRpbmdIb3Jpem9udGFsID09PSBudWxsKVxyXG4gICAgICA/IHRoaXMucGFkZGluZyA6IHBhZGRpbmdIb3Jpem9udGFsXHJcbiAgICBsZXQgdmVydGljYWwgPSAodHlwZW9mIHBhZGRpbmdWZXJ0aWNhbCA9PT0gJ3VuZGVmaW5lZCcgfHwgcGFkZGluZ1ZlcnRpY2FsID09PSBudWxsKVxyXG4gICAgICA/IHRoaXMucGFkZGluZyA6IHBhZGRpbmdWZXJ0aWNhbFxyXG4gICAgbGV0IGNvbnRleHQgPSAodHlwZW9mIGRyYXdDb250ZXh0ID09PSAndW5kZWZpbmVkJyB8fCBkcmF3Q29udGV4dCA9PT0gbnVsbCApXHJcbiAgICAgID8gdGhpcy5jb250ZXh0IDogZHJhd0NvbnRleHRcclxuXHJcbiAgICBsZXQgcmFkaXVzID0gKHRoaXMuaGVpZ2h0IC0gMiAqIHZlcnRpY2FsKSAvIDJcclxuICAgIGxldCBjZW50ZXJBID0gW10sIGNlbnRlckIgPSBbXVxyXG4gICAgY2VudGVyQS54ID0gaG9yaXpvbnRhbCAvIHRoaXMuY2FsY1dpZHRoSGVpZ2h0UmF0aW8oKSArIHJhZGl1c1xyXG4gICAgY2VudGVyQS55ID0gdmVydGljYWwgKyByYWRpdXNcclxuICAgIGNlbnRlckIueCA9ICh0aGlzLndpZHRoIC0gaG9yaXpvbnRhbCkgLyB0aGlzLmNhbGNXaWR0aEhlaWdodFJhdGlvKCkgLSByYWRpdXNcclxuICAgIGNlbnRlckIueSA9IHZlcnRpY2FsICsgcmFkaXVzXHJcblxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZShjb250ZXh0KVxyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgY29udGV4dC5zY2FsZSh0aGlzLmNhbGNXaWR0aEhlaWdodFJhdGlvKCksIDEpXHJcbiAgICBjb250ZXh0LmFyYyhjZW50ZXJBLngsIGNlbnRlckEueSwgcmFkaXVzLCAwLjUgKiBNYXRoLlBJLCAxLjUgKiBNYXRoLlBJKVxyXG4gICAgY29udGV4dC5saW5lVG8oY2VudGVyQi54LCB2ZXJ0aWNhbClcclxuICAgIGNvbnRleHQuYXJjKGNlbnRlckIueCwgY2VudGVyQi55LCByYWRpdXMsIDEuNSAqIE1hdGguUEksIDAuNSAqIE1hdGguUEkpXHJcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpXHJcbiAgICBjb250ZXh0LmZpbGwoKVxyXG4gICAgY29udGV4dC5hcmMoY2VudGVyQi54LCBjZW50ZXJCLnksIHJhZGl1cywgMC41ICogTWF0aC5QSSwgMS41ICogTWF0aC5QSSlcclxuICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICAgIGNvbnRleHQuc2NhbGUoMSAvIHRoaXMuY2FsY1dpZHRoSGVpZ2h0UmF0aW8oKSwgMSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3JlZERhdGFcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhcGVzL3N0b3JlZERhdGEuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_calculation_calcPosition__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_colors__ = __webpack_require__(6);\n\r\n\r\n\r\n\r\n\r\n\r\nlet lineId = 0\r\nconst lineAreaWidth = 7\r\n// Delta is a number which is small enough\r\n// that it can be used while judging whether\r\n// two floating numbers are equal.\r\nconst delta = 0.1\r\n\r\n// Cubic bezier curve:\r\n// begin point: (x0,y0), control points: (x1,y1), (x2,y2), end point: (x3,y3)\r\n// x(t) = ax * t ^ 3 + bx * t ^ 2 + cx * t + x0\r\n// y(t) = ay * t ^ 3 + by * t ^ 2 + cy * t + y0\r\n// x1 = x0 + cx / 3\r\n// x2 = x1 + ( cx + bx ) / 3\r\n// x3 = x0 + cx + bx + ax\r\n// y1 = y0 + cy / 3\r\n// y2 = y1 + ( cy + by ) / 3\r\n// y3 = y0 + cy + by + ay\r\n// cx = 3 * ( x1 - x0 )\r\n// bx = 3 * ( x2 - x1 ) - cx\r\n// ax = x3 - x0 - cx - bx\r\n// cy = 3 * ( y1 - y0 )\r\n// by = 3 * ( y2 - y1 ) - cy\r\n// ay = y3 - y0 - cy - by\r\n// x(t) = (1-t)^3x0 + 3t(1-t)^2x1 + 3t^2(1-t)x2 + t^3x3\r\n// y(t) = (1-t)^3y0 + 3t(1-t)^2y1 + 3t^2(1-t)y2 + t^3y3\r\n\r\nclass Line {\r\n  constructor (el, src, dest, settings) {\r\n    this.id = 'line' + lineId++\r\n    this.el = el\r\n    this.canvas = el.getElementsByTagName('canvas')[0]\r\n    this.shapeText = el.getElementsByClassName('shape-text')[0]\r\n    this.context = this.canvas.getContext('2d')\r\n    // src and dest contain shape, position\r\n    this.src = src\r\n    this.dest = dest\r\n    this.type = 'line'\r\n\r\n    this.width = 0\r\n    this.height = 0\r\n    this.left = 0\r\n    this.top = 0\r\n\r\n    this.padding = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* defaultPadding */]\r\n\r\n    if (settings) {\r\n\r\n    }\r\n    let temp = Object(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"c\" /* getDefaultSetting */])('line')\r\n    this.linkerType = temp.linkerType\r\n    this.arrowType = temp.arrowType\r\n\r\n    this.drawStyle = {\r\n      strokeStyle: __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* drawingDefaultSetting */].strokeStyle,\r\n      lineWidth: __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* drawingDefaultSetting */].lineWidth,\r\n      lineDash: __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* drawingDefaultSetting */].lineDash\r\n    }\r\n\r\n    this.drawBeginPosition = {}\r\n    this.drawEndPosition = {}\r\n    this.bezierControlPoints = []\r\n\r\n    this.init()\r\n  }\r\n  destruct () {\r\n    this.remove()\r\n    this.callShapesToDetach()\r\n  }\r\n  init () {\r\n    this.resetCanvas()\r\n  }\r\n  resetSrcPosition (position) {\r\n    this.src.position = position\r\n    this.resetCanvas()\r\n  }\r\n  resetDestPosition (position) {\r\n    this.dest.position = position\r\n    this.resetCanvas()\r\n  }\r\n  resetCanvas () {\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        let width = Math.abs(this.src.position.x - this.dest.position.x) + 2 * this.padding\r\n        let height = Math.abs(this.src.position.y - this.dest.position.y) + 2 * this.padding\r\n\r\n        this.canvas.width = this.el.width = this.width = width\r\n        this.el.style.width = this.canvas.style.width = width + 'px'\r\n        this.canvas.height = this.el.height = this.height = height\r\n        this.el.style.height = this.canvas.style.height = height + 'px'\r\n\r\n        let x, y\r\n        if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n          x = this.src.position.x - this.padding\r\n        }\r\n        else {\r\n          x = this.dest.position.x - this.padding\r\n        }\r\n        if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n          y = this.src.position.y - this.padding\r\n        }\r\n        else {\r\n          y = this.dest.position.y - this.padding\r\n        }\r\n        this.setPosition(x, y)\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  resetSrc (src) {\r\n    this.src = src\r\n    this.resetCanvas()\r\n  }\r\n  resetDest (dest) {\r\n    this.dest = dest\r\n    this.resetCanvas()\r\n  }\r\n  setPosition (x, y) {\r\n    this.left = x\r\n    this.top = y\r\n    this.el.style.left = x + 'px'\r\n    this.el.style.top = y + 'px'\r\n  }\r\n  append () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    let sibling = document.getElementById('shape_controls')\r\n\r\n    parent.insertBefore(this.el, sibling)\r\n  }\r\n  remove () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    parent.removeChild(this.el)\r\n  }\r\n  resetDrawStyle (context) {\r\n    context.strokeStyle = this.drawStyle.strokeStyle\r\n    context.lineWidth = this.drawStyle.lineWidth\r\n    context.setLineDash(this.drawStyle.lineDash)\r\n  }\r\n  calcDrawingBeginEndPoints () {\r\n    if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n      this.drawBeginPosition.x = this.padding\r\n      this.drawEndPosition.x = this.width - this.padding\r\n    }\r\n    else {\r\n      this.drawBeginPosition.x = this.width - this.padding\r\n      this.drawEndPosition.x = this.padding\r\n    }\r\n    if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n      this.drawBeginPosition.y = this.padding\r\n      this.drawEndPosition.y = this.height - this.padding\r\n    }\r\n    else {\r\n      this.drawBeginPosition.y = this.height - this.padding\r\n      this.drawEndPosition.y = this.padding\r\n    }\r\n  }\r\n  calcJudgingBeginEndPoints () {\r\n    let x1, x2, y1, y2\r\n    if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n      x1 = this.left + this.padding\r\n      x2 = this.left + this.width - this.padding\r\n    }\r\n    else {\r\n      x1 = this.left + this.width - this.padding\r\n      x2 = this.left + this.padding\r\n    }\r\n    if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n      y1 = this.top + this.padding\r\n      y2 = this.top + this.height - this.padding\r\n    }\r\n    else {\r\n      y1 = this.top + this.height - this.padding\r\n      y2 = this.top + this.padding\r\n    }\r\n    return [ x1, y1, x2, y2 ]\r\n  }\r\n  clearCanvas () {\r\n    this.canvas.width = this.width\r\n  }\r\n  calcArrowAngle () {\r\n    let angle\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        let offsetX = this.dest.position.x - this.src.position.x\r\n        let offsetY = this.dest.position.y - this.src.position.y\r\n        if (offsetY === 0) {\r\n          angle = (offsetX >= 0) ? Math.PI / 2 : - Math.PI / 2\r\n        }\r\n        else if (offsetY < 0) {\r\n          angle = Math.atan(offsetX / -offsetY)\r\n        }\r\n        else {\r\n          angle = Math.PI - Math.atan(offsetX / offsetY)\r\n        }\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n    return angle\r\n  }\r\n  drawArrow (angle, context) {\r\n    context.translate(this.drawEndPosition.x, this.drawEndPosition.y)\r\n    context.rotate(angle)\r\n    context.beginPath()\r\n    context.moveTo(0, 0)\r\n    context.lineTo(5, 14)\r\n    context.lineTo(-5, 14)\r\n    context.fillStyle = '#000000'\r\n    context.fill()\r\n    context.rotate(-angle)\r\n    context.translate(-this.drawEndPosition.x, -this.drawEndPosition.y)\r\n  }\r\n  drawReferMark (end, context) {\r\n    let position\r\n    if (end === 'src') {\r\n      position = {\r\n        x: this.drawBeginPosition.x,\r\n        y: this.drawBeginPosition.y\r\n      }\r\n    }\r\n    else {\r\n      position = {\r\n        x: this.drawEndPosition.x,\r\n        y: this.drawEndPosition.y\r\n      }\r\n    }\r\n    context.beginPath()\r\n    context.arc(position.x, position.y, this.padding, 0, 2 * Math.PI)\r\n    context.fillStyle = __WEBPACK_IMPORTED_MODULE_3__common_colors__[\"a\" /* default */].lineArrowHightlight\r\n    context.fill()\r\n  }\r\n  drawLineBody (context) {\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        context.beginPath()\r\n        context.moveTo(this.drawBeginPosition.x, this.drawBeginPosition.y)\r\n        context.lineTo(this.drawEndPosition.x, this.drawEndPosition.y)\r\n        context.stroke()\r\n        break;\r\n      case 'bezier':\r\n        context.beginPath()\r\n        context.moveTo(this.drawBeginPosition.x, this.drawBeginPosition.y)\r\n        context.bezierCurveTo(this.bezierControlPoints[0].x, this.bezierControlPoints[0].y,\r\n          this.bezierControlPoints[1].x, this.bezierControlPoints[1].y,\r\n          this.drawEndPosition.x, this.drawEndPosition.y)\r\n        context.stroke()\r\n        context.beginPath()\r\n        break;\r\n    }\r\n  }\r\n  draw (referMark, isSelected, drawContext) {\r\n    let context = (typeof drawContext === 'undefined' || drawContext === null )\r\n      ? this.context : drawContext\r\n\r\n    if (context === this.context) {\r\n      this.clearCanvas()\r\n    }\r\n    this.resetDrawStyle(context)\r\n    this.calcDrawingBeginEndPoints()\r\n\r\n    if (referMark) {\r\n      this.drawReferMark(referMark, context)\r\n    }\r\n\r\n    this.drawLineBody(context)\r\n    if (isSelected) {\r\n      context.strokeStyle = __WEBPACK_IMPORTED_MODULE_3__common_colors__[\"a\" /* default */].lineBodyHighlight\r\n      context.lineWidth = 6\r\n      this.drawLineBody(context)\r\n    }\r\n\r\n    this.drawArrow(this.calcArrowAngle(), context)\r\n  }\r\n  drawOnOtherCanvas (context, left, top) {\r\n    context.translate(left, top)\r\n    this.draw(null, false, context)\r\n    context.translate(-left, -top)\r\n  }\r\n  // Judge whether a point is in the rectangle area which is covered by\r\n  isPointInLineRectangle (x, y) {\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    let xBig = (x1 >= x2) ? x1 : x2\r\n    let xSmall = (xBig === x2) ? x1 : x2\r\n    let yBig = (y1 >= y2) ? y1 : y2\r\n    let ySmall = (yBig === y2) ? y1 : y2\r\n\r\n    // The calculated result of point might not be accurate,\r\n    // it will effect the judgement when x1 === x2 or y1 === y2.\r\n    // So, it requires a small enough number to help.\r\n    return (x <= xBig + delta && x >= xSmall - delta\r\n      && y <= yBig + delta && y >= ySmall - delta)\r\n  }\r\n  isInLine (x, y, endExcluded) {\r\n    if (!endExcluded) {\r\n      if (this.isInLineEnd(x, y)) {\r\n        return false\r\n      }\r\n    }\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    switch  (this.linkerType) {\r\n      case 'straight':\r\n        // Calculate the distance from point to line.\r\n        let distance = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"a\" /* calcPointToLineDistance */])([x, y], [x1, y1, x2, y2])\r\n        let foot = Object(__WEBPACK_IMPORTED_MODULE_2__core_calculation_calcPosition__[\"b\" /* calcPointToLineFoot */])([x, y], [x1, y1, x2, y2])\r\n\r\n        return (distance <= lineAreaWidth && distance >= -lineAreaWidth\r\n          && this.isPointInLineRectangle(foot.x, foot.y))\r\n\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  isInLineEnd (x, y) {\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    let distanceSrc = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"b\" /* calcPointToPointDistance */])([x, y], [x1, y1])\r\n    let distanceDest = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"b\" /* calcPointToPointDistance */])([x, y], [x2, y2])\r\n\r\n    if (distanceDest <= lineAreaWidth) {\r\n     return 'lineDest'\r\n    }\r\n    else if (distanceSrc <= lineAreaWidth) {\r\n      return 'lineSrc'\r\n    }\r\n    return null\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type = this.isInLineEnd(x, y)\r\n    if (!type) {\r\n      type = this.isInLine(x, y, true) ? 'lineBody' : 'empty'\r\n    }\r\n    return { shape: this, type: type }\r\n  }\r\n  callShapesToDetach () {\r\n    if (this.src.shape) {\r\n      this.src.shape.deleteLine(this)\r\n    }\r\n    if (this.dest.shape) {\r\n      this.dest.shape.deleteLine(this)\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Line);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGVzL2xpbmUuanM/MDFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldERlZmF1bHRTZXR0aW5nLCBkcmF3aW5nRGVmYXVsdFNldHRpbmd9IGZyb20gJy4vc2hhcGVEZWZhdWx0U2V0dGluZydcclxuaW1wb3J0IHtjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UsIGNhbGNQb2ludFRvTGluZURpc3RhbmNlfSBmcm9tIFwiLi4vY29yZS9jYWxjdWxhdGlvbi9jYWxjRGlzdGFuY2VcIjtcclxuaW1wb3J0IHtjYWxjUG9pbnRUb0xpbmVGb290fSBmcm9tIFwiLi4vY29yZS9jYWxjdWxhdGlvbi9jYWxjUG9zaXRpb25cIjtcclxuaW1wb3J0IGNvbG9ycyBmcm9tICcuLi9jb21tb24vY29sb3JzJ1xyXG5pbXBvcnQge2RlZmF1bHRQYWRkaW5nfSBmcm9tIFwiLi9zaGFwZURlZmF1bHRTZXR0aW5nXCJcclxuXHJcbmxldCBsaW5lSWQgPSAwXHJcbmNvbnN0IGxpbmVBcmVhV2lkdGggPSA3XHJcbi8vIERlbHRhIGlzIGEgbnVtYmVyIHdoaWNoIGlzIHNtYWxsIGVub3VnaFxyXG4vLyB0aGF0IGl0IGNhbiBiZSB1c2VkIHdoaWxlIGp1ZGdpbmcgd2hldGhlclxyXG4vLyB0d28gZmxvYXRpbmcgbnVtYmVycyBhcmUgZXF1YWwuXHJcbmNvbnN0IGRlbHRhID0gMC4xXHJcblxyXG4vLyBDdWJpYyBiZXppZXIgY3VydmU6XHJcbi8vIGJlZ2luIHBvaW50OiAoeDAseTApLCBjb250cm9sIHBvaW50czogKHgxLHkxKSwgKHgyLHkyKSwgZW5kIHBvaW50OiAoeDMseTMpXHJcbi8vIHgodCkgPSBheCAqIHQgXiAzICsgYnggKiB0IF4gMiArIGN4ICogdCArIHgwXHJcbi8vIHkodCkgPSBheSAqIHQgXiAzICsgYnkgKiB0IF4gMiArIGN5ICogdCArIHkwXHJcbi8vIHgxID0geDAgKyBjeCAvIDNcclxuLy8geDIgPSB4MSArICggY3ggKyBieCApIC8gM1xyXG4vLyB4MyA9IHgwICsgY3ggKyBieCArIGF4XHJcbi8vIHkxID0geTAgKyBjeSAvIDNcclxuLy8geTIgPSB5MSArICggY3kgKyBieSApIC8gM1xyXG4vLyB5MyA9IHkwICsgY3kgKyBieSArIGF5XHJcbi8vIGN4ID0gMyAqICggeDEgLSB4MCApXHJcbi8vIGJ4ID0gMyAqICggeDIgLSB4MSApIC0gY3hcclxuLy8gYXggPSB4MyAtIHgwIC0gY3ggLSBieFxyXG4vLyBjeSA9IDMgKiAoIHkxIC0geTAgKVxyXG4vLyBieSA9IDMgKiAoIHkyIC0geTEgKSAtIGN5XHJcbi8vIGF5ID0geTMgLSB5MCAtIGN5IC0gYnlcclxuLy8geCh0KSA9ICgxLXQpXjN4MCArIDN0KDEtdCleMngxICsgM3ReMigxLXQpeDIgKyB0XjN4M1xyXG4vLyB5KHQpID0gKDEtdCleM3kwICsgM3QoMS10KV4yeTEgKyAzdF4yKDEtdCl5MiArIHReM3kzXHJcblxyXG5jbGFzcyBMaW5lIHtcclxuICBjb25zdHJ1Y3RvciAoZWwsIHNyYywgZGVzdCwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuaWQgPSAnbGluZScgKyBsaW5lSWQrK1xyXG4gICAgdGhpcy5lbCA9IGVsXHJcbiAgICB0aGlzLmNhbnZhcyA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXVxyXG4gICAgdGhpcy5zaGFwZVRleHQgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaGFwZS10ZXh0JylbMF1cclxuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICAgIC8vIHNyYyBhbmQgZGVzdCBjb250YWluIHNoYXBlLCBwb3NpdGlvblxyXG4gICAgdGhpcy5zcmMgPSBzcmNcclxuICAgIHRoaXMuZGVzdCA9IGRlc3RcclxuICAgIHRoaXMudHlwZSA9ICdsaW5lJ1xyXG5cclxuICAgIHRoaXMud2lkdGggPSAwXHJcbiAgICB0aGlzLmhlaWdodCA9IDBcclxuICAgIHRoaXMubGVmdCA9IDBcclxuICAgIHRoaXMudG9wID0gMFxyXG5cclxuICAgIHRoaXMucGFkZGluZyA9IGRlZmF1bHRQYWRkaW5nXHJcblxyXG4gICAgaWYgKHNldHRpbmdzKSB7XHJcblxyXG4gICAgfVxyXG4gICAgbGV0IHRlbXAgPSBnZXREZWZhdWx0U2V0dGluZygnbGluZScpXHJcbiAgICB0aGlzLmxpbmtlclR5cGUgPSB0ZW1wLmxpbmtlclR5cGVcclxuICAgIHRoaXMuYXJyb3dUeXBlID0gdGVtcC5hcnJvd1R5cGVcclxuXHJcbiAgICB0aGlzLmRyYXdTdHlsZSA9IHtcclxuICAgICAgc3Ryb2tlU3R5bGU6IGRyYXdpbmdEZWZhdWx0U2V0dGluZy5zdHJva2VTdHlsZSxcclxuICAgICAgbGluZVdpZHRoOiBkcmF3aW5nRGVmYXVsdFNldHRpbmcubGluZVdpZHRoLFxyXG4gICAgICBsaW5lRGFzaDogZHJhd2luZ0RlZmF1bHRTZXR0aW5nLmxpbmVEYXNoXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbiA9IHt9XHJcbiAgICB0aGlzLmRyYXdFbmRQb3NpdGlvbiA9IHt9XHJcbiAgICB0aGlzLmJlemllckNvbnRyb2xQb2ludHMgPSBbXVxyXG5cclxuICAgIHRoaXMuaW5pdCgpXHJcbiAgfVxyXG4gIGRlc3RydWN0ICgpIHtcclxuICAgIHRoaXMucmVtb3ZlKClcclxuICAgIHRoaXMuY2FsbFNoYXBlc1RvRGV0YWNoKClcclxuICB9XHJcbiAgaW5pdCAoKSB7XHJcbiAgICB0aGlzLnJlc2V0Q2FudmFzKClcclxuICB9XHJcbiAgcmVzZXRTcmNQb3NpdGlvbiAocG9zaXRpb24pIHtcclxuICAgIHRoaXMuc3JjLnBvc2l0aW9uID0gcG9zaXRpb25cclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICByZXNldERlc3RQb3NpdGlvbiAocG9zaXRpb24pIHtcclxuICAgIHRoaXMuZGVzdC5wb3NpdGlvbiA9IHBvc2l0aW9uXHJcbiAgICB0aGlzLnJlc2V0Q2FudmFzKClcclxuICB9XHJcbiAgcmVzZXRDYW52YXMgKCkge1xyXG4gICAgc3dpdGNoICh0aGlzLmxpbmtlclR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyYWlnaHQnOlxyXG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguYWJzKHRoaXMuc3JjLnBvc2l0aW9uLnggLSB0aGlzLmRlc3QucG9zaXRpb24ueCkgKyAyICogdGhpcy5wYWRkaW5nXHJcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguYWJzKHRoaXMuc3JjLnBvc2l0aW9uLnkgLSB0aGlzLmRlc3QucG9zaXRpb24ueSkgKyAyICogdGhpcy5wYWRkaW5nXHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5lbC53aWR0aCA9IHRoaXMud2lkdGggPSB3aWR0aFxyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4J1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuZWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPSBoZWlnaHRcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcclxuXHJcbiAgICAgICAgbGV0IHgsIHlcclxuICAgICAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi54IC0gdGhpcy5zcmMucG9zaXRpb24ueCkgPj0gMCkge1xyXG4gICAgICAgICAgeCA9IHRoaXMuc3JjLnBvc2l0aW9uLnggLSB0aGlzLnBhZGRpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB4ID0gdGhpcy5kZXN0LnBvc2l0aW9uLnggLSB0aGlzLnBhZGRpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh0aGlzLmRlc3QucG9zaXRpb24ueSAtIHRoaXMuc3JjLnBvc2l0aW9uLnkpID49IDApIHtcclxuICAgICAgICAgIHkgPSB0aGlzLnNyYy5wb3NpdGlvbi55IC0gdGhpcy5wYWRkaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgeSA9IHRoaXMuZGVzdC5wb3NpdGlvbi55IC0gdGhpcy5wYWRkaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oeCwgeSlcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmV6aWVyJzpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmVzZXRTcmMgKHNyYykge1xyXG4gICAgdGhpcy5zcmMgPSBzcmNcclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICByZXNldERlc3QgKGRlc3QpIHtcclxuICAgIHRoaXMuZGVzdCA9IGRlc3RcclxuICAgIHRoaXMucmVzZXRDYW52YXMoKVxyXG4gIH1cclxuICBzZXRQb3NpdGlvbiAoeCwgeSkge1xyXG4gICAgdGhpcy5sZWZ0ID0geFxyXG4gICAgdGhpcy50b3AgPSB5XHJcbiAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSB4ICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS50b3AgPSB5ICsgJ3B4J1xyXG4gIH1cclxuICBhcHBlbmQgKCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcl9jYW52YXMnKVxyXG4gICAgbGV0IHNpYmxpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcGVfY29udHJvbHMnKVxyXG5cclxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5lbCwgc2libGluZylcclxuICB9XHJcbiAgcmVtb3ZlICgpIHtcclxuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzaWduZXJfY2FudmFzJylcclxuICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmVsKVxyXG4gIH1cclxuICByZXNldERyYXdTdHlsZSAoY29udGV4dCkge1xyXG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuZHJhd1N0eWxlLnN0cm9rZVN0eWxlXHJcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHRoaXMuZHJhd1N0eWxlLmxpbmVXaWR0aFxyXG4gICAgY29udGV4dC5zZXRMaW5lRGFzaCh0aGlzLmRyYXdTdHlsZS5saW5lRGFzaClcclxuICB9XHJcbiAgY2FsY0RyYXdpbmdCZWdpbkVuZFBvaW50cyAoKSB7XHJcbiAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi54IC0gdGhpcy5zcmMucG9zaXRpb24ueCkgPj0gMCkge1xyXG4gICAgICB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnggPSB0aGlzLnBhZGRpbmdcclxuICAgICAgdGhpcy5kcmF3RW5kUG9zaXRpb24ueCA9IHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmdcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnggPSB0aGlzLndpZHRoIC0gdGhpcy5wYWRkaW5nXHJcbiAgICAgIHRoaXMuZHJhd0VuZFBvc2l0aW9uLnggPSB0aGlzLnBhZGRpbmdcclxuICAgIH1cclxuICAgIGlmICgodGhpcy5kZXN0LnBvc2l0aW9uLnkgLSB0aGlzLnNyYy5wb3NpdGlvbi55KSA+PSAwKSB7XHJcbiAgICAgIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueSA9IHRoaXMucGFkZGluZ1xyXG4gICAgICB0aGlzLmRyYXdFbmRQb3NpdGlvbi55ID0gdGhpcy5oZWlnaHQgLSB0aGlzLnBhZGRpbmdcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnkgPSB0aGlzLmhlaWdodCAtIHRoaXMucGFkZGluZ1xyXG4gICAgICB0aGlzLmRyYXdFbmRQb3NpdGlvbi55ID0gdGhpcy5wYWRkaW5nXHJcbiAgICB9XHJcbiAgfVxyXG4gIGNhbGNKdWRnaW5nQmVnaW5FbmRQb2ludHMgKCkge1xyXG4gICAgbGV0IHgxLCB4MiwgeTEsIHkyXHJcbiAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi54IC0gdGhpcy5zcmMucG9zaXRpb24ueCkgPj0gMCkge1xyXG4gICAgICB4MSA9IHRoaXMubGVmdCArIHRoaXMucGFkZGluZ1xyXG4gICAgICB4MiA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmdcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB4MSA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSB0aGlzLnBhZGRpbmdcclxuICAgICAgeDIgPSB0aGlzLmxlZnQgKyB0aGlzLnBhZGRpbmdcclxuICAgIH1cclxuICAgIGlmICgodGhpcy5kZXN0LnBvc2l0aW9uLnkgLSB0aGlzLnNyYy5wb3NpdGlvbi55KSA+PSAwKSB7XHJcbiAgICAgIHkxID0gdGhpcy50b3AgKyB0aGlzLnBhZGRpbmdcclxuICAgICAgeTIgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gdGhpcy5wYWRkaW5nXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgeTEgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gdGhpcy5wYWRkaW5nXHJcbiAgICAgIHkyID0gdGhpcy50b3AgKyB0aGlzLnBhZGRpbmdcclxuICAgIH1cclxuICAgIHJldHVybiBbIHgxLCB5MSwgeDIsIHkyIF1cclxuICB9XHJcbiAgY2xlYXJDYW52YXMgKCkge1xyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoXHJcbiAgfVxyXG4gIGNhbGNBcnJvd0FuZ2xlICgpIHtcclxuICAgIGxldCBhbmdsZVxyXG4gICAgc3dpdGNoICh0aGlzLmxpbmtlclR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyYWlnaHQnOlxyXG4gICAgICAgIGxldCBvZmZzZXRYID0gdGhpcy5kZXN0LnBvc2l0aW9uLnggLSB0aGlzLnNyYy5wb3NpdGlvbi54XHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSB0aGlzLmRlc3QucG9zaXRpb24ueSAtIHRoaXMuc3JjLnBvc2l0aW9uLnlcclxuICAgICAgICBpZiAob2Zmc2V0WSA9PT0gMCkge1xyXG4gICAgICAgICAgYW5nbGUgPSAob2Zmc2V0WCA+PSAwKSA/IE1hdGguUEkgLyAyIDogLSBNYXRoLlBJIC8gMlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvZmZzZXRZIDwgMCkge1xyXG4gICAgICAgICAgYW5nbGUgPSBNYXRoLmF0YW4ob2Zmc2V0WCAvIC1vZmZzZXRZKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGFuZ2xlID0gTWF0aC5QSSAtIE1hdGguYXRhbihvZmZzZXRYIC8gb2Zmc2V0WSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Jlemllcic6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5nbGVcclxuICB9XHJcbiAgZHJhd0Fycm93IChhbmdsZSwgY29udGV4dCkge1xyXG4gICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5kcmF3RW5kUG9zaXRpb24ueCwgdGhpcy5kcmF3RW5kUG9zaXRpb24ueSlcclxuICAgIGNvbnRleHQucm90YXRlKGFuZ2xlKVxyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgY29udGV4dC5tb3ZlVG8oMCwgMClcclxuICAgIGNvbnRleHQubGluZVRvKDUsIDE0KVxyXG4gICAgY29udGV4dC5saW5lVG8oLTUsIDE0KVxyXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMDAwMCdcclxuICAgIGNvbnRleHQuZmlsbCgpXHJcbiAgICBjb250ZXh0LnJvdGF0ZSgtYW5nbGUpXHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtdGhpcy5kcmF3RW5kUG9zaXRpb24ueCwgLXRoaXMuZHJhd0VuZFBvc2l0aW9uLnkpXHJcbiAgfVxyXG4gIGRyYXdSZWZlck1hcmsgKGVuZCwgY29udGV4dCkge1xyXG4gICAgbGV0IHBvc2l0aW9uXHJcbiAgICBpZiAoZW5kID09PSAnc3JjJykge1xyXG4gICAgICBwb3NpdGlvbiA9IHtcclxuICAgICAgICB4OiB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLngsXHJcbiAgICAgICAgeTogdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi55XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwb3NpdGlvbiA9IHtcclxuICAgICAgICB4OiB0aGlzLmRyYXdFbmRQb3NpdGlvbi54LFxyXG4gICAgICAgIHk6IHRoaXMuZHJhd0VuZFBvc2l0aW9uLnlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgY29udGV4dC5hcmMocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgdGhpcy5wYWRkaW5nLCAwLCAyICogTWF0aC5QSSlcclxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JzLmxpbmVBcnJvd0hpZ2h0bGlnaHRcclxuICAgIGNvbnRleHQuZmlsbCgpXHJcbiAgfVxyXG4gIGRyYXdMaW5lQm9keSAoY29udGV4dCkge1xyXG4gICAgc3dpdGNoICh0aGlzLmxpbmtlclR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyYWlnaHQnOlxyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0aGlzLmRyYXdCZWdpblBvc2l0aW9uLngsIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueSlcclxuICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLmRyYXdFbmRQb3NpdGlvbi54LCB0aGlzLmRyYXdFbmRQb3NpdGlvbi55KVxyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmV6aWVyJzpcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8odGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi54LCB0aGlzLmRyYXdCZWdpblBvc2l0aW9uLnkpXHJcbiAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHRoaXMuYmV6aWVyQ29udHJvbFBvaW50c1swXS54LCB0aGlzLmJlemllckNvbnRyb2xQb2ludHNbMF0ueSxcclxuICAgICAgICAgIHRoaXMuYmV6aWVyQ29udHJvbFBvaW50c1sxXS54LCB0aGlzLmJlemllckNvbnRyb2xQb2ludHNbMV0ueSxcclxuICAgICAgICAgIHRoaXMuZHJhd0VuZFBvc2l0aW9uLngsIHRoaXMuZHJhd0VuZFBvc2l0aW9uLnkpXHJcbiAgICAgICAgY29udGV4dC5zdHJva2UoKVxyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgZHJhdyAocmVmZXJNYXJrLCBpc1NlbGVjdGVkLCBkcmF3Q29udGV4dCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSAodHlwZW9mIGRyYXdDb250ZXh0ID09PSAndW5kZWZpbmVkJyB8fCBkcmF3Q29udGV4dCA9PT0gbnVsbCApXHJcbiAgICAgID8gdGhpcy5jb250ZXh0IDogZHJhd0NvbnRleHRcclxuXHJcbiAgICBpZiAoY29udGV4dCA9PT0gdGhpcy5jb250ZXh0KSB7XHJcbiAgICAgIHRoaXMuY2xlYXJDYW52YXMoKVxyXG4gICAgfVxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZShjb250ZXh0KVxyXG4gICAgdGhpcy5jYWxjRHJhd2luZ0JlZ2luRW5kUG9pbnRzKClcclxuXHJcbiAgICBpZiAocmVmZXJNYXJrKSB7XHJcbiAgICAgIHRoaXMuZHJhd1JlZmVyTWFyayhyZWZlck1hcmssIGNvbnRleHQpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmF3TGluZUJvZHkoY29udGV4dClcclxuICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcnMubGluZUJvZHlIaWdobGlnaHRcclxuICAgICAgY29udGV4dC5saW5lV2lkdGggPSA2XHJcbiAgICAgIHRoaXMuZHJhd0xpbmVCb2R5KGNvbnRleHQpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmF3QXJyb3codGhpcy5jYWxjQXJyb3dBbmdsZSgpLCBjb250ZXh0KVxyXG4gIH1cclxuICBkcmF3T25PdGhlckNhbnZhcyAoY29udGV4dCwgbGVmdCwgdG9wKSB7XHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZShsZWZ0LCB0b3ApXHJcbiAgICB0aGlzLmRyYXcobnVsbCwgZmFsc2UsIGNvbnRleHQpXHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSgtbGVmdCwgLXRvcClcclxuICB9XHJcbiAgLy8gSnVkZ2Ugd2hldGhlciBhIHBvaW50IGlzIGluIHRoZSByZWN0YW5nbGUgYXJlYSB3aGljaCBpcyBjb3ZlcmVkIGJ5XHJcbiAgaXNQb2ludEluTGluZVJlY3RhbmdsZSAoeCwgeSkge1xyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIgXSA9IHRoaXMuY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cygpXHJcbiAgICBsZXQgeEJpZyA9ICh4MSA+PSB4MikgPyB4MSA6IHgyXHJcbiAgICBsZXQgeFNtYWxsID0gKHhCaWcgPT09IHgyKSA/IHgxIDogeDJcclxuICAgIGxldCB5QmlnID0gKHkxID49IHkyKSA/IHkxIDogeTJcclxuICAgIGxldCB5U21hbGwgPSAoeUJpZyA9PT0geTIpID8geTEgOiB5MlxyXG5cclxuICAgIC8vIFRoZSBjYWxjdWxhdGVkIHJlc3VsdCBvZiBwb2ludCBtaWdodCBub3QgYmUgYWNjdXJhdGUsXHJcbiAgICAvLyBpdCB3aWxsIGVmZmVjdCB0aGUganVkZ2VtZW50IHdoZW4geDEgPT09IHgyIG9yIHkxID09PSB5Mi5cclxuICAgIC8vIFNvLCBpdCByZXF1aXJlcyBhIHNtYWxsIGVub3VnaCBudW1iZXIgdG8gaGVscC5cclxuICAgIHJldHVybiAoeCA8PSB4QmlnICsgZGVsdGEgJiYgeCA+PSB4U21hbGwgLSBkZWx0YVxyXG4gICAgICAmJiB5IDw9IHlCaWcgKyBkZWx0YSAmJiB5ID49IHlTbWFsbCAtIGRlbHRhKVxyXG4gIH1cclxuICBpc0luTGluZSAoeCwgeSwgZW5kRXhjbHVkZWQpIHtcclxuICAgIGlmICghZW5kRXhjbHVkZWQpIHtcclxuICAgICAgaWYgKHRoaXMuaXNJbkxpbmVFbmQoeCwgeSkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIgXSA9IHRoaXMuY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cygpXHJcbiAgICBzd2l0Y2ggICh0aGlzLmxpbmtlclR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyYWlnaHQnOlxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgZnJvbSBwb2ludCB0byBsaW5lLlxyXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IGNhbGNQb2ludFRvTGluZURpc3RhbmNlKFt4LCB5XSwgW3gxLCB5MSwgeDIsIHkyXSlcclxuICAgICAgICBsZXQgZm9vdCA9IGNhbGNQb2ludFRvTGluZUZvb3QoW3gsIHldLCBbeDEsIHkxLCB4MiwgeTJdKVxyXG5cclxuICAgICAgICByZXR1cm4gKGRpc3RhbmNlIDw9IGxpbmVBcmVhV2lkdGggJiYgZGlzdGFuY2UgPj0gLWxpbmVBcmVhV2lkdGhcclxuICAgICAgICAgICYmIHRoaXMuaXNQb2ludEluTGluZVJlY3RhbmdsZShmb290LngsIGZvb3QueSkpXHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdiZXppZXInOlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBpc0luTGluZUVuZCAoeCwgeSkge1xyXG4gICAgbGV0IFsgeDEsIHkxLCB4MiwgeTIgXSA9IHRoaXMuY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cygpXHJcbiAgICBsZXQgZGlzdGFuY2VTcmMgPSBjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UoW3gsIHldLCBbeDEsIHkxXSlcclxuICAgIGxldCBkaXN0YW5jZURlc3QgPSBjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UoW3gsIHldLCBbeDIsIHkyXSlcclxuXHJcbiAgICBpZiAoZGlzdGFuY2VEZXN0IDw9IGxpbmVBcmVhV2lkdGgpIHtcclxuICAgICByZXR1cm4gJ2xpbmVEZXN0J1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGlzdGFuY2VTcmMgPD0gbGluZUFyZWFXaWR0aCkge1xyXG4gICAgICByZXR1cm4gJ2xpbmVTcmMnXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuICBqdWRnZUluU2hhcGUgKHgsIHkpIHtcclxuICAgIGxldCB0eXBlID0gdGhpcy5pc0luTGluZUVuZCh4LCB5KVxyXG4gICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgIHR5cGUgPSB0aGlzLmlzSW5MaW5lKHgsIHksIHRydWUpID8gJ2xpbmVCb2R5JyA6ICdlbXB0eSdcclxuICAgIH1cclxuICAgIHJldHVybiB7IHNoYXBlOiB0aGlzLCB0eXBlOiB0eXBlIH1cclxuICB9XHJcbiAgY2FsbFNoYXBlc1RvRGV0YWNoICgpIHtcclxuICAgIGlmICh0aGlzLnNyYy5zaGFwZSkge1xyXG4gICAgICB0aGlzLnNyYy5zaGFwZS5kZWxldGVMaW5lKHRoaXMpXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kZXN0LnNoYXBlKSB7XHJcbiAgICAgIHRoaXMuZGVzdC5zaGFwZS5kZWxldGVMaW5lKHRoaXMpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaW5lXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYXBlcy9saW5lLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calcPointToPointDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcPointToLineDistance; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common__ = __webpack_require__(8);\n\r\n\r\nfunction calcPointToPointDistance (pointA, pointB) {\r\n  let [x1, y1, x2, y2] = [pointA[0], pointA[1], pointB[0], pointB[1]]\r\n  return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2))\r\n}\r\n\r\nfunction calcPointToLineDistance (point, line) {\r\n  let [x, y] = Object(__WEBPACK_IMPORTED_MODULE_0__common__[\"d\" /* generalizePoint */])(point)\r\n  let [A, B, C] = Object(__WEBPACK_IMPORTED_MODULE_0__common__[\"c\" /* generalizeLine */])(line)\r\n  return (A * x + B * y + C) / Math.sqrt(A * A + B * B)\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9jYWxjdWxhdGlvbi9jYWxjRGlzdGFuY2UuanM/ZjczNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dlbmVyYWxpemVMaW5lLCBnZW5lcmFsaXplUG9pbnR9IGZyb20gXCIuL2NvbW1vblwiO1xyXG5cclxuZnVuY3Rpb24gY2FsY1BvaW50VG9Qb2ludERpc3RhbmNlIChwb2ludEEsIHBvaW50Qikge1xyXG4gIGxldCBbeDEsIHkxLCB4MiwgeTJdID0gW3BvaW50QVswXSwgcG9pbnRBWzFdLCBwb2ludEJbMF0sIHBvaW50QlsxXV1cclxuICByZXR1cm4gTWF0aC5zcXJ0KCh4MSAtIHgyKSAqICh4MSAtIHgyKSArICh5MSAtIHkyKSAqICh5MSAtIHkyKSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1BvaW50VG9MaW5lRGlzdGFuY2UgKHBvaW50LCBsaW5lKSB7XHJcbiAgbGV0IFt4LCB5XSA9IGdlbmVyYWxpemVQb2ludChwb2ludClcclxuICBsZXQgW0EsIEIsIENdID0gZ2VuZXJhbGl6ZUxpbmUobGluZSlcclxuICByZXR1cm4gKEEgKiB4ICsgQiAqIHkgKyBDKSAvIE1hdGguc3FydChBICogQSArIEIgKiBCKVxyXG59XHJcblxyXG5leHBvcnQge2NhbGNQb2ludFRvUG9pbnREaXN0YW5jZSwgY2FsY1BvaW50VG9MaW5lRGlzdGFuY2V9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvY2FsY3VsYXRpb24vY2FsY0Rpc3RhbmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function backgroundDraw(el, backgroundWidth, backgroundHeight, backgroundSpacing) {\r\n  if (!el) { return }\r\n\r\n  let context = el.getContext('2d')\r\n  let width = backgroundWidth ? backgroundWidth : 1250\r\n  let height = backgroundHeight ? backgroundHeight : 1500\r\n  let spacing = backgroundSpacing ? backgroundSpacing : 15\r\n\r\n  el.width = width\r\n  el.height = height\r\n\r\n  let countX = Math.ceil(width / spacing)\r\n  let countY = Math.ceil(height / spacing)\r\n\r\n  context.strokeStyle = '#dcdcdc'\r\n  for (let i = 0; i < countX; i++) {\r\n    context.beginPath()\r\n    context.moveTo(i * spacing, 0)\r\n    if (i % 5 === 0)\r\n      context.lineWidth = 2\r\n    else context.lineWidth = 1\r\n    context.lineTo(i * spacing, height)\r\n    context.stroke()\r\n  }\r\n  for (let i = 0; i < countY; i++) {\r\n    context.beginPath()\r\n    context.moveTo(0, i * spacing)\r\n    if (i % 5 === 0)\r\n      context.lineWidth = 2\r\n    else context.lineWidth = 1\r\n    context.lineTo(width, i * spacing)\r\n    context.stroke()\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (backgroundDraw);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9iYWNrZ3JvdW5kLmpzPzNhMzkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYmFja2dyb3VuZERyYXcoZWwsIGJhY2tncm91bmRXaWR0aCwgYmFja2dyb3VuZEhlaWdodCwgYmFja2dyb3VuZFNwYWNpbmcpIHtcclxuICBpZiAoIWVsKSB7IHJldHVybiB9XHJcblxyXG4gIGxldCBjb250ZXh0ID0gZWwuZ2V0Q29udGV4dCgnMmQnKVxyXG4gIGxldCB3aWR0aCA9IGJhY2tncm91bmRXaWR0aCA/IGJhY2tncm91bmRXaWR0aCA6IDEyNTBcclxuICBsZXQgaGVpZ2h0ID0gYmFja2dyb3VuZEhlaWdodCA/IGJhY2tncm91bmRIZWlnaHQgOiAxNTAwXHJcbiAgbGV0IHNwYWNpbmcgPSBiYWNrZ3JvdW5kU3BhY2luZyA/IGJhY2tncm91bmRTcGFjaW5nIDogMTVcclxuXHJcbiAgZWwud2lkdGggPSB3aWR0aFxyXG4gIGVsLmhlaWdodCA9IGhlaWdodFxyXG5cclxuICBsZXQgY291bnRYID0gTWF0aC5jZWlsKHdpZHRoIC8gc3BhY2luZylcclxuICBsZXQgY291bnRZID0gTWF0aC5jZWlsKGhlaWdodCAvIHNwYWNpbmcpXHJcblxyXG4gIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2RjZGNkYydcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50WDsgaSsrKSB7XHJcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICBjb250ZXh0Lm1vdmVUbyhpICogc3BhY2luZywgMClcclxuICAgIGlmIChpICUgNSA9PT0gMClcclxuICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyXHJcbiAgICBlbHNlIGNvbnRleHQubGluZVdpZHRoID0gMVxyXG4gICAgY29udGV4dC5saW5lVG8oaSAqIHNwYWNpbmcsIGhlaWdodClcclxuICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudFk7IGkrKykge1xyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgY29udGV4dC5tb3ZlVG8oMCwgaSAqIHNwYWNpbmcpXHJcbiAgICBpZiAoaSAlIDUgPT09IDApXHJcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMlxyXG4gICAgZWxzZSBjb250ZXh0LmxpbmVXaWR0aCA9IDFcclxuICAgIGNvbnRleHQubGluZVRvKHdpZHRoLCBpICogc3BhY2luZylcclxuICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGJhY2tncm91bmREcmF3XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9iYWNrZ3JvdW5kLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return eventList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getEventHandlers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__dragNewComponent__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shapeEvent__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__toolbar_toolbarEvent__ = __webpack_require__(26);\n\r\n\r\n\r\n\r\nlet eventList = ['mousedown', 'mousemove', 'mouseup', 'dblclick', 'keydown']\r\n\r\nfunction getEventHandlers (eventType, isToolbarEnabled) {\r\n  switch (eventType) {\r\n    case 'mousedown':\r\n      if (isToolbarEnabled) {\r\n        return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"a\" /* dragNewComponentMouseDown */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"c\" /* shapeEventOnMouseDown */], __WEBPACK_IMPORTED_MODULE_2__toolbar_toolbarEvent__[\"a\" /* toolbarEventOnMouseDown */]]\r\n      }\r\n      else {\r\n        return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"a\" /* dragNewComponentMouseDown */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"c\" /* shapeEventOnMouseDown */]]\r\n      }\r\n    case 'mousemove': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"b\" /* dragNewComponetMouseMove */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"d\" /* shapeEventOnMouseMove */]]\r\n    case 'mouseup': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"c\" /* dragNewComponetMouseUp */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"e\" /* shapeEventOnMouseUp */]]\r\n    case 'dblclick': return [__WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"a\" /* shapeEventOnDblClick */]]\r\n    case 'keydown': return [__WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"b\" /* shapeEventOnKeyDown */]]\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvaW5kZXguanM/ZDY0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2RyYWdOZXdDb21wb25lbnRNb3VzZURvd24sIGRyYWdOZXdDb21wb25ldE1vdXNlTW92ZSwgZHJhZ05ld0NvbXBvbmV0TW91c2VVcH0gZnJvbSAnLi9kcmFnTmV3Q29tcG9uZW50J1xyXG5pbXBvcnQge3NoYXBlRXZlbnRPbk1vdXNlTW92ZSwgc2hhcGVFdmVudE9uTW91c2VEb3duLCBzaGFwZUV2ZW50T25Nb3VzZVVwLCBzaGFwZUV2ZW50T25EYmxDbGljaywgc2hhcGVFdmVudE9uS2V5RG93bn0gZnJvbSAnLi9zaGFwZUV2ZW50J1xyXG5pbXBvcnQge3Rvb2xiYXJFdmVudE9uTW91c2VEb3dufSBmcm9tICcuLi8uLi90b29sYmFyL3Rvb2xiYXJFdmVudCdcclxuXHJcbmxldCBldmVudExpc3QgPSBbJ21vdXNlZG93bicsICdtb3VzZW1vdmUnLCAnbW91c2V1cCcsICdkYmxjbGljaycsICdrZXlkb3duJ11cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlcnMgKGV2ZW50VHlwZSwgaXNUb29sYmFyRW5hYmxlZCkge1xyXG4gIHN3aXRjaCAoZXZlbnRUeXBlKSB7XHJcbiAgICBjYXNlICdtb3VzZWRvd24nOlxyXG4gICAgICBpZiAoaXNUb29sYmFyRW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybiBbZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biwgc2hhcGVFdmVudE9uTW91c2VEb3duLCB0b29sYmFyRXZlbnRPbk1vdXNlRG93bl1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gW2RyYWdOZXdDb21wb25lbnRNb3VzZURvd24sIHNoYXBlRXZlbnRPbk1vdXNlRG93bl1cclxuICAgICAgfVxyXG4gICAgY2FzZSAnbW91c2Vtb3ZlJzogcmV0dXJuIFtkcmFnTmV3Q29tcG9uZXRNb3VzZU1vdmUsIHNoYXBlRXZlbnRPbk1vdXNlTW92ZV1cclxuICAgIGNhc2UgJ21vdXNldXAnOiByZXR1cm4gW2RyYWdOZXdDb21wb25ldE1vdXNlVXAsIHNoYXBlRXZlbnRPbk1vdXNlVXBdXHJcbiAgICBjYXNlICdkYmxjbGljayc6IHJldHVybiBbc2hhcGVFdmVudE9uRGJsQ2xpY2tdXHJcbiAgICBjYXNlICdrZXlkb3duJzogcmV0dXJuIFtzaGFwZUV2ZW50T25LZXlEb3duXVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtldmVudExpc3QsIGdldEV2ZW50SGFuZGxlcnN9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvZXZlbnRzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return dragNewComponentMouseDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return dragNewComponetMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return dragNewComponetMouseUp; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__createNewShape__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__calculation_calcPosition__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_getUIParameters__ = __webpack_require__(7);\n\r\n\r\n\r\n\r\nlet currentShape = null\r\nlet mouseDown = false\r\n\r\nfunction dragNewComponentMouseDown (event, shapeList) {\r\n  if (!event.target.classList.contains('component-item')\r\n    || currentShape)\r\n    return\r\n  let shapeName = event.target.parentNode.getAttribute('shapename')\r\n\r\n  currentShape = Object(__WEBPACK_IMPORTED_MODULE_0__createNewShape__[\"b\" /* createNewShape */])(shapeName)\r\n  currentShape.el.style.position = 'fixed'\r\n  currentShape.setPosition(event.clientX - currentShape.width / 2, event.clientY - currentShape.height / 2)\r\n  currentShape.draw()\r\n  currentShape.append()\r\n\r\n  mouseDown = true\r\n}\r\n\r\nfunction dragNewComponetMouseMove (event, shapeList) {\r\n  if (currentShape && mouseDown) {\r\n    currentShape.setPosition(event.clientX - currentShape.width / 2, event.clientY - currentShape.height / 2)\r\n  }\r\n}\r\n\r\nfunction dragNewComponetMouseUp (event, shapeList) {\r\n  mouseDown = false\r\n\r\n  if (currentShape && event.pageX <= Object(__WEBPACK_IMPORTED_MODULE_2__common_getUIParameters__[\"a\" /* default */])().canvasLeft) {\r\n    currentShape.remove()\r\n  }\r\n  else if (currentShape) {\r\n    //let left = (event.pageX - currentShape.width / 2 - toolbarWidth) - (padding - drawLayout.scrollLeft)\r\n    //let top = (event.pageY - currentShape.height / 2 - headerHeight) - (padding - drawLayout.scrollTop)\r\n    let position = Object(__WEBPACK_IMPORTED_MODULE_1__calculation_calcPosition__[\"c\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n    let left = position.x - currentShape.width / 2\r\n    let top = position.y - currentShape.height / 2\r\n\r\n    currentShape.setPosition(left, top)\r\n    currentShape.el.style.position = 'absolute'\r\n    shapeList.push(currentShape)\r\n  }\r\n\r\n  currentShape = null\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvZHJhZ05ld0NvbXBvbmVudC5qcz85ZTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlTmV3U2hhcGV9IGZyb20gJy4uL2NyZWF0ZU5ld1NoYXBlJ1xyXG5pbXBvcnQge2NhbGNQb3NpdGlvbkluQ2FudmFzfSBmcm9tICcuLi9jYWxjdWxhdGlvbi9jYWxjUG9zaXRpb24nXHJcbmltcG9ydCBnZXRVSVBhcmFtZXRlcnMgZnJvbSAnLi4vLi4vY29tbW9uL2dldFVJUGFyYW1ldGVycydcclxuXHJcbmxldCBjdXJyZW50U2hhcGUgPSBudWxsXHJcbmxldCBtb3VzZURvd24gPSBmYWxzZVxyXG5cclxuZnVuY3Rpb24gZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY29tcG9uZW50LWl0ZW0nKVxyXG4gICAgfHwgY3VycmVudFNoYXBlKVxyXG4gICAgcmV0dXJuXHJcbiAgbGV0IHNoYXBlTmFtZSA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnc2hhcGVuYW1lJylcclxuXHJcbiAgY3VycmVudFNoYXBlID0gY3JlYXRlTmV3U2hhcGUoc2hhcGVOYW1lKVxyXG4gIGN1cnJlbnRTaGFwZS5lbC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcclxuICBjdXJyZW50U2hhcGUuc2V0UG9zaXRpb24oZXZlbnQuY2xpZW50WCAtIGN1cnJlbnRTaGFwZS53aWR0aCAvIDIsIGV2ZW50LmNsaWVudFkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMilcclxuICBjdXJyZW50U2hhcGUuZHJhdygpXHJcbiAgY3VycmVudFNoYXBlLmFwcGVuZCgpXHJcblxyXG4gIG1vdXNlRG93biA9IHRydWVcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhZ05ld0NvbXBvbmV0TW91c2VNb3ZlIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgaWYgKGN1cnJlbnRTaGFwZSAmJiBtb3VzZURvd24pIHtcclxuICAgIGN1cnJlbnRTaGFwZS5zZXRQb3NpdGlvbihldmVudC5jbGllbnRYIC0gY3VycmVudFNoYXBlLndpZHRoIC8gMiwgZXZlbnQuY2xpZW50WSAtIGN1cnJlbnRTaGFwZS5oZWlnaHQgLyAyKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhZ05ld0NvbXBvbmV0TW91c2VVcCAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIG1vdXNlRG93biA9IGZhbHNlXHJcblxyXG4gIGlmIChjdXJyZW50U2hhcGUgJiYgZXZlbnQucGFnZVggPD0gZ2V0VUlQYXJhbWV0ZXJzKCkuY2FudmFzTGVmdCkge1xyXG4gICAgY3VycmVudFNoYXBlLnJlbW92ZSgpXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGN1cnJlbnRTaGFwZSkge1xyXG4gICAgLy9sZXQgbGVmdCA9IChldmVudC5wYWdlWCAtIGN1cnJlbnRTaGFwZS53aWR0aCAvIDIgLSB0b29sYmFyV2lkdGgpIC0gKHBhZGRpbmcgLSBkcmF3TGF5b3V0LnNjcm9sbExlZnQpXHJcbiAgICAvL2xldCB0b3AgPSAoZXZlbnQucGFnZVkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMiAtIGhlYWRlckhlaWdodCkgLSAocGFkZGluZyAtIGRyYXdMYXlvdXQuc2Nyb2xsVG9wKVxyXG4gICAgbGV0IHBvc2l0aW9uID0gY2FsY1Bvc2l0aW9uSW5DYW52YXMoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKVxyXG4gICAgbGV0IGxlZnQgPSBwb3NpdGlvbi54IC0gY3VycmVudFNoYXBlLndpZHRoIC8gMlxyXG4gICAgbGV0IHRvcCA9IHBvc2l0aW9uLnkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMlxyXG5cclxuICAgIGN1cnJlbnRTaGFwZS5zZXRQb3NpdGlvbihsZWZ0LCB0b3ApXHJcbiAgICBjdXJyZW50U2hhcGUuZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICBzaGFwZUxpc3QucHVzaChjdXJyZW50U2hhcGUpXHJcbiAgfVxyXG5cclxuICBjdXJyZW50U2hhcGUgPSBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCB7ZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biwgZHJhZ05ld0NvbXBvbmV0TW91c2VNb3ZlLCBkcmFnTmV3Q29tcG9uZXRNb3VzZVVwfVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb3JlL2V2ZW50cy9kcmFnTmV3Q29tcG9uZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return shapeEventOnMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return shapeEventOnMouseDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return shapeEventOnMouseUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return shapeEventOnDblClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return shapeEventOnKeyDown; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__createNewShape__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common__ = __webpack_require__(11);\n\r\n\r\n\r\n\r\nlet clickOffset = {\r\n  x: 0,\r\n  y: 0\r\n}\r\nlet activeDirection = null\r\nlet resizeData = {\r\n  beginX: 0,\r\n  beginY: 0,\r\n  originWidth: 0,\r\n  originHeight: 0,\r\n  originLeft: 0,\r\n  originTop: 0\r\n}\r\n\r\nfunction clearLineData () {\r\n  __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine = null\r\n  __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive = false\r\n  __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src = {\r\n    position: null,\r\n    referPercent: null,\r\n    referPosition: null,\r\n    shape: null\r\n  }\r\n  __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest = {\r\n    position: null,\r\n    referPercent: null,\r\n    referPosition: null,\r\n    shape: null\r\n  }\r\n  __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.needDeleted = false\r\n}\r\n\r\nfunction redrawActiveLine (shape, reference, mark) {\r\n  if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type === 'toSrc') {\r\n    let src = {\r\n      shape: shape,\r\n      position: reference.position\r\n    }\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src = {\r\n      shape: shape,\r\n      position: reference.position,\r\n      referPosition: (reference.referPosition) ? reference.referPosition : null,\r\n      referPercent: (reference.referPercent) ? reference.referPercent : null\r\n    }\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine.resetSrc(src)\r\n  }\r\n  else {\r\n    let dest = {\r\n      shape: shape,\r\n      position: reference.position\r\n    }\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest = {\r\n      shape: shape,\r\n      position: reference.position,\r\n      referPosition: (typeof reference.referPosition !== 'undefined') ? reference.referPosition : null,\r\n      referPercent: (typeof reference.referPercent !== 'undefined') ? reference.referPercent : null\r\n    }\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine.resetDest(dest)\r\n  }\r\n  __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine.draw(mark, !!__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine)\r\n}\r\n\r\nfunction shapeEventOnMouseDown (event, shapeList) {\r\n  let judgeResult = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].judgeEventAt(event, shapeList)\r\n  if (!judgeResult) {\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(false)\r\n    return\r\n  }\r\n\r\n  let shape = judgeResult.shape, type = judgeResult.type\r\n  let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"c\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n  switch (type) {\r\n    case 'lineBody':\r\n      if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine) {\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine.draw()\r\n      }\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine = shape\r\n      shape.draw(null, true)\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape = null\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(false)\r\n      break;\r\n    case 'lineDest':\r\n    case 'lineSrc':\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape = null\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(false)\r\n      if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine) {\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine.draw()\r\n      }\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine = shape\r\n      shape.draw(null, true)\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine = shape\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive = true\r\n      let reference\r\n      if (shape.dest.shape) {\r\n        reference = shape.dest.shape.getLineData(shape)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest = {\r\n          shape: shape.dest.shape,\r\n          referPosition: reference.referPosition,\r\n          referPercent: reference.referPercent,\r\n          position: shape.dest.position\r\n        }\r\n      }\r\n      if (shape.src.shape) {\r\n        reference = shape.src.shape.getLineData(shape)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src = {\r\n          shape: shape.src.shape,\r\n          referPosition: reference.referPosition,\r\n          referPercent: reference.referPercent,\r\n          position: shape.src.position\r\n        }\r\n      }\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.position = shape.src.position\r\n\r\n      if (type === 'lineDest') {\r\n        if (shape.dest.shape) {\r\n          shape.dest.shape.deleteLine(shape)\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type = 'toDest'\r\n      }\r\n      else {\r\n        if (shape.src.shape) {\r\n          shape.src.shape.deleteLine(shape)\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type = 'toSrc'\r\n      }\r\n      break;\r\n    case 'shapeBody':\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.reset(shape.left, shape.top, shape.width, shape.height)\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(true)\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.draw(shape.width, shape.height)\r\n\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape = shape\r\n      clickOffset.x = event.pageX - shape.left\r\n      clickOffset.y = event.pageY - shape.top\r\n\r\n      if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine) {\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine.draw()\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine = null\r\n      }\r\n      event.preventDefault()\r\n      break;\r\n    case 'shapeLineArea':\r\n      let lineReference = shape.getLineReference(position.x, position.y)\r\n\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src = {\r\n        position: lineReference.position,\r\n        referPosition: lineReference.referPosition,\r\n        referPercent: lineReference.referPercent,\r\n        shape: shape\r\n      }\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive = true\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type = 'new'\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.needDeleted = true\r\n\r\n       if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine) {\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine.draw()\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine = null\r\n      }\r\n      break;\r\n    case 'controller':\r\n      activeDirection = event.target.getAttribute('resizedir')\r\n      resizeData.beginX = event.pageX\r\n      resizeData.beginY = event.pageY\r\n      resizeData.originWidth = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.width\r\n      resizeData.originHeight = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.height\r\n      resizeData.originLeft = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.left\r\n      resizeData.originTop = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.top\r\n      break;\r\n    case 'tool': break;\r\n    case 'empty':\r\n    default:\r\n      if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine) {\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine.draw()\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine = null\r\n      }\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape = null\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(false)\r\n  }\r\n}\r\n\r\nfunction shapeEventOnMouseMove (event, shapeList) {\r\n  if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive) {\r\n    let src, dest\r\n    if (!__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine) {\r\n      src = {\r\n        shape: __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.shape,\r\n        position: __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.position\r\n      }\r\n      dest = {\r\n        shape: null,\r\n        position: Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"c\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n      }\r\n\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine = Object(__WEBPACK_IMPORTED_MODULE_1__createNewShape__[\"a\" /* createNewLine */])(src, dest)\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine.draw()\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine.append()\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine.el.style.cursor = 'move'\r\n    }\r\n    else {\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.needDeleted = false\r\n      let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"c\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n      let judgeResult = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].judgeEventAt(event, shapeList)\r\n      if (!judgeResult) {\r\n        redrawActiveLine(null, {position: position})\r\n        return\r\n      }\r\n\r\n      let shape = judgeResult.shape\r\n      switch (judgeResult.type) {\r\n        case 'shapeBody':\r\n        case 'shapeLineArea':\r\n          let fromShapeId\r\n          if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type === 'toSrc') {\r\n            fromShapeId = (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest.shape) ? __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest.shape.id : null\r\n          }\r\n          else {\r\n            fromShapeId = (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.shape) ? __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.shape.id : null\r\n          }\r\n          if (fromShapeId === shape.id) {\r\n            __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.needDeleted = true\r\n            redrawActiveLine(null, {position: position})\r\n          }\r\n          else {\r\n            let reference = shape.getLineReference(position.x, position.y)\r\n            if (!reference) {\r\n              return\r\n            }\r\n            let mark = (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type === 'toSrc') ? 'src' : 'dest'\r\n            redrawActiveLine(shape, reference, mark)\r\n          }\r\n          break;\r\n        default:\r\n          redrawActiveLine(null, {position: position})\r\n      }\r\n    }\r\n  }\r\n  else if (activeDirection) {\r\n    let width, height, offsetX, offsetY\r\n    switch (activeDirection) {\r\n      case 'nw':\r\n        width = resizeData.beginX - event.pageX + resizeData.originWidth\r\n        height = resizeData.beginY - event.pageY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setSize(width, height)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setPosition(resizeData.originLeft - offsetX, resizeData.originTop - offsetY)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.reset(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.left, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.top, width, height)\r\n        break;\r\n      case 'ne':\r\n        width = event.pageX - resizeData.beginX + resizeData.originWidth\r\n        height = resizeData.beginY - event.pageY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setSize(width, height)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setPosition(resizeData.originLeft, resizeData.originTop - offsetY)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.reset(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.left, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.top, width, height)\r\n        break;\r\n      case 'se':\r\n        width = event.pageX - resizeData.beginX + resizeData.originWidth\r\n        height = event.pageY - resizeData.beginY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setSize(width, height)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.reset(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.left, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.top, width, height)\r\n        break;\r\n      case 'sw':\r\n        width = resizeData.beginX - event.pageX + resizeData.originWidth\r\n        height = event.pageY - resizeData.beginY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setSize(width, height)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.setPosition(resizeData.originLeft - offsetX, resizeData.originTop)\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.reset(__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.left, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.top, width, height)\r\n        break;\r\n    }\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.draw()\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape.resetLinesPosition()\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.draw(width, height)\r\n  }\r\n  else if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape) {\r\n    let x = event.pageX - clickOffset.x\r\n    let y = event.pageY - clickOffset.y\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape.setPosition(x, y)\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.reset(x, y, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape.width, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape.height)\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape.resetLinesPosition()\r\n  }\r\n  else {\r\n    let judgeResult = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].judgeEventAt(event, shapeList)\r\n    if (!judgeResult) { return }\r\n    let shape = judgeResult.shape\r\n    let el = (judgeResult.topElement || (shape && shape.el))\r\n    if (!el) { return }\r\n    switch (judgeResult.type) {\r\n      case 'lineBody':\r\n        el.style.cursor = 'pointer'\r\n        break;\r\n      case 'lineDest':\r\n      case 'lineSrc':\r\n        el.style.cursor = 'move'\r\n        break;\r\n      case 'shapeBody':\r\n        el.style.cursor = 'move'\r\n        break;\r\n      case 'shapeLineArea':\r\n        el.style.cursor = 'crosshair'\r\n        break;\r\n      default:\r\n        el.style.cursor = 'default'\r\n    }\r\n  }\r\n}\r\n\r\nfunction shapeEventOnMouseUp (event, shapeList) {\r\n  if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive) {\r\n    let line = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine\r\n    if (!line) { return }\r\n    switch (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.type) {\r\n      case 'new':\r\n        if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.needDeleted) {\r\n          line.destruct()\r\n        }\r\n        else {\r\n          if (line.src.shape) {\r\n            line.src.shape.addLine(line, 'src', __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.referPosition, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.referPercent)\r\n          }\r\n          if (line.dest.shape) {\r\n            line.dest.shape.addLine(line, 'dest', __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest.referPosition, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest.referPercent)\r\n          }\r\n          shapeList.push(line)\r\n        }\r\n        break;\r\n      case 'toDest':\r\n        if (line.dest.shape) {\r\n          line.dest.shape.addLine(line, 'dest', __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest.referPosition, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.dest.referPercent)\r\n        }\r\n        break;\r\n      case 'toSrc':\r\n        if (line.src.shape) {\r\n          line.src.shape.addLine(line, 'src', __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.referPosition, __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.src.referPercent)\r\n        }\r\n        break;\r\n    }\r\n    // Remove the line mark.\r\n    line.draw(null, !!__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine)\r\n    clearLineData()\r\n  }\r\n  else if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape) {\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape\r\n    __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape = null\r\n  }\r\n  else if (activeDirection) {\r\n    activeDirection = null\r\n  }\r\n}\r\n\r\nfunction shapeEventOnDblClick (event, shapeList) {\r\n  let judgeResult = __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].judgeEventAt(event, shapeList)\r\n  if (!judgeResult) { return }\r\n\r\n  switch (judgeResult.type) {\r\n    case 'shapeBody':\r\n      judgeResult.shape.shapeText.focus()\r\n      document.execCommand('selectAll')\r\n      break;\r\n    default:\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(false)\r\n  }\r\n}\r\n\r\nfunction shapeEventOnKeyDown (event, shapeList) {\r\n  if (event.key === 'Delete') {\r\n    if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape || __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape) {\r\n      let shape = (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape) ? __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape : __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape\r\n      let isActive = !!__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].shapeController.setVisibility(false)\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].deleteShapeInListById(shape.id, shapeList)\r\n\r\n      if (isActive) {\r\n        __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].activeShape = null\r\n      }\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].selectedShape = null\r\n    }\r\n    else if (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive || __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine) {\r\n      let line = (__WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.isActive) ? __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.activeLine : __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].lineData.selectedLine\r\n      __WEBPACK_IMPORTED_MODULE_2__common__[\"a\" /* default */].deleteShapeInListById(line.id, shapeList)\r\n      clearLineData()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvc2hhcGVFdmVudC5qcz84ZmMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y2FsY1Bvc2l0aW9uSW5DYW52YXN9IGZyb20gJy4uL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvbidcclxuaW1wb3J0IHtjcmVhdGVOZXdMaW5lfSBmcm9tICcuLi9jcmVhdGVOZXdTaGFwZSdcclxuaW1wb3J0IGV2ZW50Q29tbW9uIGZyb20gJy4vY29tbW9uJ1xyXG5cclxubGV0IGNsaWNrT2Zmc2V0ID0ge1xyXG4gIHg6IDAsXHJcbiAgeTogMFxyXG59XHJcbmxldCBhY3RpdmVEaXJlY3Rpb24gPSBudWxsXHJcbmxldCByZXNpemVEYXRhID0ge1xyXG4gIGJlZ2luWDogMCxcclxuICBiZWdpblk6IDAsXHJcbiAgb3JpZ2luV2lkdGg6IDAsXHJcbiAgb3JpZ2luSGVpZ2h0OiAwLFxyXG4gIG9yaWdpbkxlZnQ6IDAsXHJcbiAgb3JpZ2luVG9wOiAwXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyTGluZURhdGEgKCkge1xyXG4gIGV2ZW50Q29tbW9uLmxpbmVEYXRhLmFjdGl2ZUxpbmUgPSBudWxsXHJcbiAgZXZlbnRDb21tb24ubGluZURhdGEuaXNBY3RpdmUgPSBmYWxzZVxyXG4gIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNyYyA9IHtcclxuICAgIHBvc2l0aW9uOiBudWxsLFxyXG4gICAgcmVmZXJQZXJjZW50OiBudWxsLFxyXG4gICAgcmVmZXJQb3NpdGlvbjogbnVsbCxcclxuICAgIHNoYXBlOiBudWxsXHJcbiAgfVxyXG4gIGV2ZW50Q29tbW9uLmxpbmVEYXRhLmRlc3QgPSB7XHJcbiAgICBwb3NpdGlvbjogbnVsbCxcclxuICAgIHJlZmVyUGVyY2VudDogbnVsbCxcclxuICAgIHJlZmVyUG9zaXRpb246IG51bGwsXHJcbiAgICBzaGFwZTogbnVsbFxyXG4gIH1cclxuICBldmVudENvbW1vbi5saW5lRGF0YS5uZWVkRGVsZXRlZCA9IGZhbHNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZHJhd0FjdGl2ZUxpbmUgKHNoYXBlLCByZWZlcmVuY2UsIG1hcmspIHtcclxuICBpZiAoZXZlbnRDb21tb24ubGluZURhdGEudHlwZSA9PT0gJ3RvU3JjJykge1xyXG4gICAgbGV0IHNyYyA9IHtcclxuICAgICAgc2hhcGU6IHNoYXBlLFxyXG4gICAgICBwb3NpdGlvbjogcmVmZXJlbmNlLnBvc2l0aW9uXHJcbiAgICB9XHJcbiAgICBldmVudENvbW1vbi5saW5lRGF0YS5zcmMgPSB7XHJcbiAgICAgIHNoYXBlOiBzaGFwZSxcclxuICAgICAgcG9zaXRpb246IHJlZmVyZW5jZS5wb3NpdGlvbixcclxuICAgICAgcmVmZXJQb3NpdGlvbjogKHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uKSA/IHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uIDogbnVsbCxcclxuICAgICAgcmVmZXJQZXJjZW50OiAocmVmZXJlbmNlLnJlZmVyUGVyY2VudCkgPyByZWZlcmVuY2UucmVmZXJQZXJjZW50IDogbnVsbFxyXG4gICAgfVxyXG4gICAgZXZlbnRDb21tb24ubGluZURhdGEuYWN0aXZlTGluZS5yZXNldFNyYyhzcmMpXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgbGV0IGRlc3QgPSB7XHJcbiAgICAgIHNoYXBlOiBzaGFwZSxcclxuICAgICAgcG9zaXRpb246IHJlZmVyZW5jZS5wb3NpdGlvblxyXG4gICAgfVxyXG4gICAgZXZlbnRDb21tb24ubGluZURhdGEuZGVzdCA9IHtcclxuICAgICAgc2hhcGU6IHNoYXBlLFxyXG4gICAgICBwb3NpdGlvbjogcmVmZXJlbmNlLnBvc2l0aW9uLFxyXG4gICAgICByZWZlclBvc2l0aW9uOiAodHlwZW9mIHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uICE9PSAndW5kZWZpbmVkJykgPyByZWZlcmVuY2UucmVmZXJQb3NpdGlvbiA6IG51bGwsXHJcbiAgICAgIHJlZmVyUGVyY2VudDogKHR5cGVvZiByZWZlcmVuY2UucmVmZXJQZXJjZW50ICE9PSAndW5kZWZpbmVkJykgPyByZWZlcmVuY2UucmVmZXJQZXJjZW50IDogbnVsbFxyXG4gICAgfVxyXG4gICAgZXZlbnRDb21tb24ubGluZURhdGEuYWN0aXZlTGluZS5yZXNldERlc3QoZGVzdClcclxuICB9XHJcbiAgZXZlbnRDb21tb24ubGluZURhdGEuYWN0aXZlTGluZS5kcmF3KG1hcmssICEhZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaGFwZUV2ZW50T25Nb3VzZURvd24gKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBsZXQganVkZ2VSZXN1bHQgPSBldmVudENvbW1vbi5qdWRnZUV2ZW50QXQoZXZlbnQsIHNoYXBlTGlzdClcclxuICBpZiAoIWp1ZGdlUmVzdWx0KSB7XHJcbiAgICBldmVudENvbW1vbi5zaGFwZUNvbnRyb2xsZXIuc2V0VmlzaWJpbGl0eShmYWxzZSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgbGV0IHNoYXBlID0ganVkZ2VSZXN1bHQuc2hhcGUsIHR5cGUgPSBqdWRnZVJlc3VsdC50eXBlXHJcbiAgbGV0IHBvc2l0aW9uID0gY2FsY1Bvc2l0aW9uSW5DYW52YXMoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKVxyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSAnbGluZUJvZHknOlxyXG4gICAgICBpZiAoZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lKSB7XHJcbiAgICAgICAgZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lLmRyYXcoKVxyXG4gICAgICB9XHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZSA9IHNoYXBlXHJcbiAgICAgIHNoYXBlLmRyYXcobnVsbCwgdHJ1ZSlcclxuICAgICAgZXZlbnRDb21tb24uc2VsZWN0ZWRTaGFwZSA9IG51bGxcclxuICAgICAgZXZlbnRDb21tb24uc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnbGluZURlc3QnOlxyXG4gICAgY2FzZSAnbGluZVNyYyc6XHJcbiAgICAgIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUgPSBudWxsXHJcbiAgICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5zZXRWaXNpYmlsaXR5KGZhbHNlKVxyXG4gICAgICBpZiAoZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lKSB7XHJcbiAgICAgICAgZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lLmRyYXcoKVxyXG4gICAgICB9XHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZSA9IHNoYXBlXHJcbiAgICAgIHNoYXBlLmRyYXcobnVsbCwgdHJ1ZSlcclxuICAgICAgZXZlbnRDb21tb24ubGluZURhdGEuYWN0aXZlTGluZSA9IHNoYXBlXHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLmlzQWN0aXZlID0gdHJ1ZVxyXG4gICAgICBsZXQgcmVmZXJlbmNlXHJcbiAgICAgIGlmIChzaGFwZS5kZXN0LnNoYXBlKSB7XHJcbiAgICAgICAgcmVmZXJlbmNlID0gc2hhcGUuZGVzdC5zaGFwZS5nZXRMaW5lRGF0YShzaGFwZSlcclxuICAgICAgICBldmVudENvbW1vbi5saW5lRGF0YS5kZXN0ID0ge1xyXG4gICAgICAgICAgc2hhcGU6IHNoYXBlLmRlc3Quc2hhcGUsXHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uOiByZWZlcmVuY2UucmVmZXJQb3NpdGlvbixcclxuICAgICAgICAgIHJlZmVyUGVyY2VudDogcmVmZXJlbmNlLnJlZmVyUGVyY2VudCxcclxuICAgICAgICAgIHBvc2l0aW9uOiBzaGFwZS5kZXN0LnBvc2l0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzaGFwZS5zcmMuc2hhcGUpIHtcclxuICAgICAgICByZWZlcmVuY2UgPSBzaGFwZS5zcmMuc2hhcGUuZ2V0TGluZURhdGEoc2hhcGUpXHJcbiAgICAgICAgZXZlbnRDb21tb24ubGluZURhdGEuc3JjID0ge1xyXG4gICAgICAgICAgc2hhcGU6IHNoYXBlLnNyYy5zaGFwZSxcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb246IHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uLFxyXG4gICAgICAgICAgcmVmZXJQZXJjZW50OiByZWZlcmVuY2UucmVmZXJQZXJjZW50LFxyXG4gICAgICAgICAgcG9zaXRpb246IHNoYXBlLnNyYy5wb3NpdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBldmVudENvbW1vbi5saW5lRGF0YS5zcmMucG9zaXRpb24gPSBzaGFwZS5zcmMucG9zaXRpb25cclxuXHJcbiAgICAgIGlmICh0eXBlID09PSAnbGluZURlc3QnKSB7XHJcbiAgICAgICAgaWYgKHNoYXBlLmRlc3Quc2hhcGUpIHtcclxuICAgICAgICAgIHNoYXBlLmRlc3Quc2hhcGUuZGVsZXRlTGluZShzaGFwZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnRDb21tb24ubGluZURhdGEudHlwZSA9ICd0b0Rlc3QnXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHNoYXBlLnNyYy5zaGFwZSkge1xyXG4gICAgICAgICAgc2hhcGUuc3JjLnNoYXBlLmRlbGV0ZUxpbmUoc2hhcGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnR5cGUgPSAndG9TcmMnXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdzaGFwZUJvZHknOlxyXG4gICAgICBldmVudENvbW1vbi5zaGFwZUNvbnRyb2xsZXIucmVzZXQoc2hhcGUubGVmdCwgc2hhcGUudG9wLCBzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KVxyXG4gICAgICBldmVudENvbW1vbi5zaGFwZUNvbnRyb2xsZXIuc2V0VmlzaWJpbGl0eSh0cnVlKVxyXG4gICAgICBldmVudENvbW1vbi5zaGFwZUNvbnRyb2xsZXIuZHJhdyhzaGFwZS53aWR0aCwgc2hhcGUuaGVpZ2h0KVxyXG5cclxuICAgICAgZXZlbnRDb21tb24uYWN0aXZlU2hhcGUgPSBzaGFwZVxyXG4gICAgICBjbGlja09mZnNldC54ID0gZXZlbnQucGFnZVggLSBzaGFwZS5sZWZ0XHJcbiAgICAgIGNsaWNrT2Zmc2V0LnkgPSBldmVudC5wYWdlWSAtIHNoYXBlLnRvcFxyXG5cclxuICAgICAgaWYgKGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgICBldmVudENvbW1vbi5saW5lRGF0YS5zZWxlY3RlZExpbmUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3NoYXBlTGluZUFyZWEnOlxyXG4gICAgICBsZXQgbGluZVJlZmVyZW5jZSA9IHNoYXBlLmdldExpbmVSZWZlcmVuY2UocG9zaXRpb24ueCwgcG9zaXRpb24ueSlcclxuXHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNyYyA9IHtcclxuICAgICAgICBwb3NpdGlvbjogbGluZVJlZmVyZW5jZS5wb3NpdGlvbixcclxuICAgICAgICByZWZlclBvc2l0aW9uOiBsaW5lUmVmZXJlbmNlLnJlZmVyUG9zaXRpb24sXHJcbiAgICAgICAgcmVmZXJQZXJjZW50OiBsaW5lUmVmZXJlbmNlLnJlZmVyUGVyY2VudCxcclxuICAgICAgICBzaGFwZTogc2hhcGVcclxuICAgICAgfVxyXG4gICAgICBldmVudENvbW1vbi5saW5lRGF0YS5pc0FjdGl2ZSA9IHRydWVcclxuICAgICAgZXZlbnRDb21tb24ubGluZURhdGEudHlwZSA9ICduZXcnXHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLm5lZWREZWxldGVkID0gdHJ1ZVxyXG5cclxuICAgICAgIGlmIChldmVudENvbW1vbi5saW5lRGF0YS5zZWxlY3RlZExpbmUpIHtcclxuICAgICAgICBldmVudENvbW1vbi5saW5lRGF0YS5zZWxlY3RlZExpbmUuZHJhdygpXHJcbiAgICAgICAgZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnY29udHJvbGxlcic6XHJcbiAgICAgIGFjdGl2ZURpcmVjdGlvbiA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3Jlc2l6ZWRpcicpXHJcbiAgICAgIHJlc2l6ZURhdGEuYmVnaW5YID0gZXZlbnQucGFnZVhcclxuICAgICAgcmVzaXplRGF0YS5iZWdpblkgPSBldmVudC5wYWdlWVxyXG4gICAgICByZXNpemVEYXRhLm9yaWdpbldpZHRoID0gZXZlbnRDb21tb24uc2VsZWN0ZWRTaGFwZS53aWR0aFxyXG4gICAgICByZXNpemVEYXRhLm9yaWdpbkhlaWdodCA9IGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUuaGVpZ2h0XHJcbiAgICAgIHJlc2l6ZURhdGEub3JpZ2luTGVmdCA9IGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUubGVmdFxyXG4gICAgICByZXNpemVEYXRhLm9yaWdpblRvcCA9IGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUudG9wXHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAndG9vbCc6IGJyZWFrO1xyXG4gICAgY2FzZSAnZW1wdHknOlxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgaWYgKGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgICBldmVudENvbW1vbi5saW5lRGF0YS5zZWxlY3RlZExpbmUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgZXZlbnRDb21tb24uc2VsZWN0ZWRTaGFwZSA9IG51bGxcclxuICAgICAgZXZlbnRDb21tb24uc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaGFwZUV2ZW50T25Nb3VzZU1vdmUgKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBpZiAoZXZlbnRDb21tb24ubGluZURhdGEuaXNBY3RpdmUpIHtcclxuICAgIGxldCBzcmMsIGRlc3RcclxuICAgIGlmICghZXZlbnRDb21tb24ubGluZURhdGEuYWN0aXZlTGluZSkge1xyXG4gICAgICBzcmMgPSB7XHJcbiAgICAgICAgc2hhcGU6IGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNyYy5zaGFwZSxcclxuICAgICAgICBwb3NpdGlvbjogZXZlbnRDb21tb24ubGluZURhdGEuc3JjLnBvc2l0aW9uXHJcbiAgICAgIH1cclxuICAgICAgZGVzdCA9IHtcclxuICAgICAgICBzaGFwZTogbnVsbCxcclxuICAgICAgICBwb3NpdGlvbjogY2FsY1Bvc2l0aW9uSW5DYW52YXMoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudENvbW1vbi5saW5lRGF0YS5hY3RpdmVMaW5lID0gY3JlYXRlTmV3TGluZShzcmMsIGRlc3QpXHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLmFjdGl2ZUxpbmUuZHJhdygpXHJcbiAgICAgIGV2ZW50Q29tbW9uLmxpbmVEYXRhLmFjdGl2ZUxpbmUuYXBwZW5kKClcclxuICAgICAgZXZlbnRDb21tb24ubGluZURhdGEuYWN0aXZlTGluZS5lbC5zdHlsZS5jdXJzb3IgPSAnbW92ZSdcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBldmVudENvbW1vbi5saW5lRGF0YS5uZWVkRGVsZXRlZCA9IGZhbHNlXHJcbiAgICAgIGxldCBwb3NpdGlvbiA9IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSlcclxuICAgICAgbGV0IGp1ZGdlUmVzdWx0ID0gZXZlbnRDb21tb24uanVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgICAgIGlmICghanVkZ2VSZXN1bHQpIHtcclxuICAgICAgICByZWRyYXdBY3RpdmVMaW5lKG51bGwsIHtwb3NpdGlvbjogcG9zaXRpb259KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgc2hhcGUgPSBqdWRnZVJlc3VsdC5zaGFwZVxyXG4gICAgICBzd2l0Y2ggKGp1ZGdlUmVzdWx0LnR5cGUpIHtcclxuICAgICAgICBjYXNlICdzaGFwZUJvZHknOlxyXG4gICAgICAgIGNhc2UgJ3NoYXBlTGluZUFyZWEnOlxyXG4gICAgICAgICAgbGV0IGZyb21TaGFwZUlkXHJcbiAgICAgICAgICBpZiAoZXZlbnRDb21tb24ubGluZURhdGEudHlwZSA9PT0gJ3RvU3JjJykge1xyXG4gICAgICAgICAgICBmcm9tU2hhcGVJZCA9IChldmVudENvbW1vbi5saW5lRGF0YS5kZXN0LnNoYXBlKSA/IGV2ZW50Q29tbW9uLmxpbmVEYXRhLmRlc3Quc2hhcGUuaWQgOiBudWxsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZnJvbVNoYXBlSWQgPSAoZXZlbnRDb21tb24ubGluZURhdGEuc3JjLnNoYXBlKSA/IGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNyYy5zaGFwZS5pZCA6IG51bGxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChmcm9tU2hhcGVJZCA9PT0gc2hhcGUuaWQpIHtcclxuICAgICAgICAgICAgZXZlbnRDb21tb24ubGluZURhdGEubmVlZERlbGV0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIHJlZHJhd0FjdGl2ZUxpbmUobnVsbCwge3Bvc2l0aW9uOiBwb3NpdGlvbn0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJlZmVyZW5jZSA9IHNoYXBlLmdldExpbmVSZWZlcmVuY2UocG9zaXRpb24ueCwgcG9zaXRpb24ueSlcclxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2UpIHtcclxuICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbWFyayA9IChldmVudENvbW1vbi5saW5lRGF0YS50eXBlID09PSAndG9TcmMnKSA/ICdzcmMnIDogJ2Rlc3QnXHJcbiAgICAgICAgICAgIHJlZHJhd0FjdGl2ZUxpbmUoc2hhcGUsIHJlZmVyZW5jZSwgbWFyaylcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZWRyYXdBY3RpdmVMaW5lKG51bGwsIHtwb3NpdGlvbjogcG9zaXRpb259KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKGFjdGl2ZURpcmVjdGlvbikge1xyXG4gICAgbGV0IHdpZHRoLCBoZWlnaHQsIG9mZnNldFgsIG9mZnNldFlcclxuICAgIHN3aXRjaCAoYWN0aXZlRGlyZWN0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ253JzpcclxuICAgICAgICB3aWR0aCA9IHJlc2l6ZURhdGEuYmVnaW5YIC0gZXZlbnQucGFnZVggKyByZXNpemVEYXRhLm9yaWdpbldpZHRoXHJcbiAgICAgICAgaGVpZ2h0ID0gcmVzaXplRGF0YS5iZWdpblkgLSBldmVudC5wYWdlWSArIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0XHJcbiAgICAgICAgd2lkdGggPSAod2lkdGggPj0gNjApID8gd2lkdGggOiA2MFxyXG4gICAgICAgIGhlaWdodCA9IChoZWlnaHQgPj0gNDUpID8gaGVpZ2h0IDogNDVcclxuICAgICAgICBvZmZzZXRYID0gd2lkdGggLSByZXNpemVEYXRhLm9yaWdpbldpZHRoXHJcbiAgICAgICAgb2Zmc2V0WSA9IGhlaWdodCAtIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0XHJcblxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUuc2V0UG9zaXRpb24ocmVzaXplRGF0YS5vcmlnaW5MZWZ0IC0gb2Zmc2V0WCwgcmVzaXplRGF0YS5vcmlnaW5Ub3AgLSBvZmZzZXRZKVxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5yZXNldChldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLmxlZnQsIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICduZSc6XHJcbiAgICAgICAgd2lkdGggPSBldmVudC5wYWdlWCAtIHJlc2l6ZURhdGEuYmVnaW5YICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IHJlc2l6ZURhdGEuYmVnaW5ZIC0gZXZlbnQucGFnZVkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcbiAgICAgICAgb2Zmc2V0WCA9IHdpZHRoIC0gcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIG9mZnNldFkgPSBoZWlnaHQgLSByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG5cclxuICAgICAgICBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLnNldFBvc2l0aW9uKHJlc2l6ZURhdGEub3JpZ2luTGVmdCwgcmVzaXplRGF0YS5vcmlnaW5Ub3AgLSBvZmZzZXRZKVxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5yZXNldChldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLmxlZnQsIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzZSc6XHJcbiAgICAgICAgd2lkdGggPSBldmVudC5wYWdlWCAtIHJlc2l6ZURhdGEuYmVnaW5YICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IGV2ZW50LnBhZ2VZIC0gcmVzaXplRGF0YS5iZWdpblkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcblxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5yZXNldChldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLmxlZnQsIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzdyc6XHJcbiAgICAgICAgd2lkdGggPSByZXNpemVEYXRhLmJlZ2luWCAtIGV2ZW50LnBhZ2VYICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IGV2ZW50LnBhZ2VZIC0gcmVzaXplRGF0YS5iZWdpblkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcbiAgICAgICAgb2Zmc2V0WCA9IHdpZHRoIC0gcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIG9mZnNldFkgPSBoZWlnaHQgLSByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG5cclxuICAgICAgICBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLnNldFBvc2l0aW9uKHJlc2l6ZURhdGEub3JpZ2luTGVmdCAtIG9mZnNldFgsIHJlc2l6ZURhdGEub3JpZ2luVG9wKVxyXG4gICAgICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5yZXNldChldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlLmxlZnQsIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgZXZlbnRDb21tb24uc2VsZWN0ZWRTaGFwZS5kcmF3KClcclxuICAgIGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGUucmVzZXRMaW5lc1Bvc2l0aW9uKClcclxuICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5kcmF3KHdpZHRoLCBoZWlnaHQpXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlKSB7XHJcbiAgICBsZXQgeCA9IGV2ZW50LnBhZ2VYIC0gY2xpY2tPZmZzZXQueFxyXG4gICAgbGV0IHkgPSBldmVudC5wYWdlWSAtIGNsaWNrT2Zmc2V0LnlcclxuICAgIGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlLnNldFBvc2l0aW9uKHgsIHkpXHJcbiAgICBldmVudENvbW1vbi5zaGFwZUNvbnRyb2xsZXIucmVzZXQoeCwgeSwgZXZlbnRDb21tb24uYWN0aXZlU2hhcGUud2lkdGgsIGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlLmhlaWdodClcclxuICAgIGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlLnJlc2V0TGluZXNQb3NpdGlvbigpXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgbGV0IGp1ZGdlUmVzdWx0ID0gZXZlbnRDb21tb24uanVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgICBpZiAoIWp1ZGdlUmVzdWx0KSB7IHJldHVybiB9XHJcbiAgICBsZXQgc2hhcGUgPSBqdWRnZVJlc3VsdC5zaGFwZVxyXG4gICAgbGV0IGVsID0gKGp1ZGdlUmVzdWx0LnRvcEVsZW1lbnQgfHwgKHNoYXBlICYmIHNoYXBlLmVsKSlcclxuICAgIGlmICghZWwpIHsgcmV0dXJuIH1cclxuICAgIHN3aXRjaCAoanVkZ2VSZXN1bHQudHlwZSkge1xyXG4gICAgICBjYXNlICdsaW5lQm9keSc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2xpbmVEZXN0JzpcclxuICAgICAgY2FzZSAnbGluZVNyYyc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NoYXBlQm9keSc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NoYXBlTGluZUFyZWEnOlxyXG4gICAgICAgIGVsLnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaGFwZUV2ZW50T25Nb3VzZVVwIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgaWYgKGV2ZW50Q29tbW9uLmxpbmVEYXRhLmlzQWN0aXZlKSB7XHJcbiAgICBsZXQgbGluZSA9IGV2ZW50Q29tbW9uLmxpbmVEYXRhLmFjdGl2ZUxpbmVcclxuICAgIGlmICghbGluZSkgeyByZXR1cm4gfVxyXG4gICAgc3dpdGNoIChldmVudENvbW1vbi5saW5lRGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ25ldyc6XHJcbiAgICAgICAgaWYgKGV2ZW50Q29tbW9uLmxpbmVEYXRhLm5lZWREZWxldGVkKSB7XHJcbiAgICAgICAgICBsaW5lLmRlc3RydWN0KClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAobGluZS5zcmMuc2hhcGUpIHtcclxuICAgICAgICAgICAgbGluZS5zcmMuc2hhcGUuYWRkTGluZShsaW5lLCAnc3JjJywgZXZlbnRDb21tb24ubGluZURhdGEuc3JjLnJlZmVyUG9zaXRpb24sIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNyYy5yZWZlclBlcmNlbnQpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobGluZS5kZXN0LnNoYXBlKSB7XHJcbiAgICAgICAgICAgIGxpbmUuZGVzdC5zaGFwZS5hZGRMaW5lKGxpbmUsICdkZXN0JywgZXZlbnRDb21tb24ubGluZURhdGEuZGVzdC5yZWZlclBvc2l0aW9uLCBldmVudENvbW1vbi5saW5lRGF0YS5kZXN0LnJlZmVyUGVyY2VudClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNoYXBlTGlzdC5wdXNoKGxpbmUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICd0b0Rlc3QnOlxyXG4gICAgICAgIGlmIChsaW5lLmRlc3Quc2hhcGUpIHtcclxuICAgICAgICAgIGxpbmUuZGVzdC5zaGFwZS5hZGRMaW5lKGxpbmUsICdkZXN0JywgZXZlbnRDb21tb24ubGluZURhdGEuZGVzdC5yZWZlclBvc2l0aW9uLCBldmVudENvbW1vbi5saW5lRGF0YS5kZXN0LnJlZmVyUGVyY2VudClcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3RvU3JjJzpcclxuICAgICAgICBpZiAobGluZS5zcmMuc2hhcGUpIHtcclxuICAgICAgICAgIGxpbmUuc3JjLnNoYXBlLmFkZExpbmUobGluZSwgJ3NyYycsIGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNyYy5yZWZlclBvc2l0aW9uLCBldmVudENvbW1vbi5saW5lRGF0YS5zcmMucmVmZXJQZXJjZW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSB0aGUgbGluZSBtYXJrLlxyXG4gICAgbGluZS5kcmF3KG51bGwsICEhZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lKVxyXG4gICAgY2xlYXJMaW5lRGF0YSgpXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlKSB7XHJcbiAgICBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlID0gZXZlbnRDb21tb24uYWN0aXZlU2hhcGVcclxuICAgIGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlID0gbnVsbFxyXG4gIH1cclxuICBlbHNlIGlmIChhY3RpdmVEaXJlY3Rpb24pIHtcclxuICAgIGFjdGl2ZURpcmVjdGlvbiA9IG51bGxcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNoYXBlRXZlbnRPbkRibENsaWNrIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgbGV0IGp1ZGdlUmVzdWx0ID0gZXZlbnRDb21tb24uanVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgaWYgKCFqdWRnZVJlc3VsdCkgeyByZXR1cm4gfVxyXG5cclxuICBzd2l0Y2ggKGp1ZGdlUmVzdWx0LnR5cGUpIHtcclxuICAgIGNhc2UgJ3NoYXBlQm9keSc6XHJcbiAgICAgIGp1ZGdlUmVzdWx0LnNoYXBlLnNoYXBlVGV4dC5mb2N1cygpXHJcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdzZWxlY3RBbGwnKVxyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGV2ZW50Q29tbW9uLnNoYXBlQ29udHJvbGxlci5zZXRWaXNpYmlsaXR5KGZhbHNlKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hhcGVFdmVudE9uS2V5RG93biAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIGlmIChldmVudC5rZXkgPT09ICdEZWxldGUnKSB7XHJcbiAgICBpZiAoZXZlbnRDb21tb24uc2VsZWN0ZWRTaGFwZSB8fCBldmVudENvbW1vbi5hY3RpdmVTaGFwZSkge1xyXG4gICAgICBsZXQgc2hhcGUgPSAoZXZlbnRDb21tb24uYWN0aXZlU2hhcGUpID8gZXZlbnRDb21tb24uYWN0aXZlU2hhcGUgOiBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlXHJcbiAgICAgIGxldCBpc0FjdGl2ZSA9ICEhZXZlbnRDb21tb24uYWN0aXZlU2hhcGVcclxuICAgICAgZXZlbnRDb21tb24uc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgICAgIGV2ZW50Q29tbW9uLmRlbGV0ZVNoYXBlSW5MaXN0QnlJZChzaGFwZS5pZCwgc2hhcGVMaXN0KVxyXG5cclxuICAgICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgICAgZXZlbnRDb21tb24uYWN0aXZlU2hhcGUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgZXZlbnRDb21tb24uc2VsZWN0ZWRTaGFwZSA9IG51bGxcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV2ZW50Q29tbW9uLmxpbmVEYXRhLmlzQWN0aXZlIHx8IGV2ZW50Q29tbW9uLmxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICBsZXQgbGluZSA9IChldmVudENvbW1vbi5saW5lRGF0YS5pc0FjdGl2ZSkgPyBldmVudENvbW1vbi5saW5lRGF0YS5hY3RpdmVMaW5lIDogZXZlbnRDb21tb24ubGluZURhdGEuc2VsZWN0ZWRMaW5lXHJcbiAgICAgIGV2ZW50Q29tbW9uLmRlbGV0ZVNoYXBlSW5MaXN0QnlJZChsaW5lLmlkLCBzaGFwZUxpc3QpXHJcbiAgICAgIGNsZWFyTGluZURhdGEoKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtzaGFwZUV2ZW50T25Nb3VzZU1vdmUsIHNoYXBlRXZlbnRPbk1vdXNlRG93biwgc2hhcGVFdmVudE9uTW91c2VVcCxcclxuICBzaGFwZUV2ZW50T25EYmxDbGljaywgc2hhcGVFdmVudE9uS2V5RG93bn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29yZS9ldmVudHMvc2hhcGVFdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function controllerDraw(el, width, height, margin) {\r\n  if (!el) { return }\r\n\r\n  el.width = width\r\n  el.height = height\r\n  let context = el.getContext('2d')\r\n\r\n  context.strokeStyle = '#883333'\r\n  context.lineWidth = 1\r\n  context.beginPath()\r\n  context.rect(margin, margin, width - 2 * margin, height - 2 * margin);\r\n  context.stroke();\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (controllerDraw);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9jb250cm9sbGVyLmpzP2UwYTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY29udHJvbGxlckRyYXcoZWwsIHdpZHRoLCBoZWlnaHQsIG1hcmdpbikge1xyXG4gIGlmICghZWwpIHsgcmV0dXJuIH1cclxuXHJcbiAgZWwud2lkdGggPSB3aWR0aFxyXG4gIGVsLmhlaWdodCA9IGhlaWdodFxyXG4gIGxldCBjb250ZXh0ID0gZWwuZ2V0Q29udGV4dCgnMmQnKVxyXG5cclxuICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyM4ODMzMzMnXHJcbiAgY29udGV4dC5saW5lV2lkdGggPSAxXHJcbiAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gIGNvbnRleHQucmVjdChtYXJnaW4sIG1hcmdpbiwgd2lkdGggLSAyICogbWFyZ2luLCBoZWlnaHQgLSAyICogbWFyZ2luKTtcclxuICBjb250ZXh0LnN0cm9rZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb250cm9sbGVyRHJhd1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kcmF3L2NvbnRyb2xsZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return toolbarEventOnMouseDown; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__toolbarDefaultSetting__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_events_common__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__toolbar__ = __webpack_require__(12);\n\r\n\r\n\r\n\r\n\r\nfunction getToolElement (type) {\r\n  return document.getElementById('tool-' + type)\r\n}\r\n\r\nfunction judgeToolType (event) {\r\n  let el = event.target\r\n  let type = el.getAttribute && el.getAttribute('id') ? el.getAttribute('id').slice(5) : null\r\n  if (!type) {\r\n    el = el.parentNode\r\n    type = el.getAttribute && el.getAttribute('id') ? el.getAttribute('id').slice(5) : null\r\n  }\r\n\r\n  if (__WEBPACK_IMPORTED_MODULE_2__common_util__[\"a\" /* default */].contains(__WEBPACK_IMPORTED_MODULE_2__common_util__[\"a\" /* default */].properties(__WEBPACK_IMPORTED_MODULE_0__toolbarDefaultSetting__[\"b\" /* tools */]), type)) { return type }\r\n  else { return null }\r\n}\r\n\r\nfunction simpleToolHandler (type, el, shape) {\r\n  let value\r\n  if (el.getAttribute('disabled') === 'disabled' || !shape) { return }\r\n  if (el.classList.contains('active')) {\r\n    value = __WEBPACK_IMPORTED_MODULE_0__toolbarDefaultSetting__[\"b\" /* tools */][type].styleValue[0]\r\n    el.classList.remove('active')\r\n  }\r\n  else {\r\n    value = __WEBPACK_IMPORTED_MODULE_0__toolbarDefaultSetting__[\"b\" /* tools */][type].styleValue[1]\r\n    el.classList.add('active')\r\n  }\r\n  shape.setTextareaSingleStyle(__WEBPACK_IMPORTED_MODULE_0__toolbarDefaultSetting__[\"b\" /* tools */][type].styleName, value)\r\n}\r\n\r\nfunction toolbarEventOnMouseDown (event, shapeList) {\r\n  let type = judgeToolType(event)\r\n  if (type) {\r\n    let toolElement = getToolElement(type)\r\n    switch (type) {\r\n      case 'undo':\r\n        document.execCommand('undo')\r\n        break;\r\n      case 'redo':\r\n        document.execCommand('redo')\r\n        break;\r\n      case 'bold':\r\n      case 'italic':\r\n      case 'underline':\r\n        simpleToolHandler(type, toolElement, __WEBPACK_IMPORTED_MODULE_1__core_events_common__[\"a\" /* default */].selectedShape)\r\n        break;\r\n    }\r\n  }\r\n  else {\r\n    let shape = __WEBPACK_IMPORTED_MODULE_1__core_events_common__[\"a\" /* default */].activeShape || __WEBPACK_IMPORTED_MODULE_1__core_events_common__[\"a\" /* default */].selectedShape\r\n    if (shape) {\r\n      Object(__WEBPACK_IMPORTED_MODULE_3__toolbar__[\"a\" /* default */])().setToolbarState(shape.getAllStyle())\r\n    }\r\n    else {\r\n      Object(__WEBPACK_IMPORTED_MODULE_3__toolbar__[\"a\" /* default */])().setEmptyToolbarState()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdG9vbGJhci90b29sYmFyRXZlbnQuanM/NjM4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3Rvb2xzfSBmcm9tICcuL3Rvb2xiYXJEZWZhdWx0U2V0dGluZydcclxuaW1wb3J0IGV2ZW50Q29tbW9uIGZyb20gJy4uL2NvcmUvZXZlbnRzL2NvbW1vbidcclxuaW1wb3J0IF8gZnJvbSAnLi4vY29tbW9uL3V0aWwnXHJcbmltcG9ydCBnZXRUb29sYmFyIGZyb20gJy4vdG9vbGJhcidcclxuXHJcbmZ1bmN0aW9uIGdldFRvb2xFbGVtZW50ICh0eXBlKSB7XHJcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b29sLScgKyB0eXBlKVxyXG59XHJcblxyXG5mdW5jdGlvbiBqdWRnZVRvb2xUeXBlIChldmVudCkge1xyXG4gIGxldCBlbCA9IGV2ZW50LnRhcmdldFxyXG4gIGxldCB0eXBlID0gZWwuZ2V0QXR0cmlidXRlICYmIGVsLmdldEF0dHJpYnV0ZSgnaWQnKSA/IGVsLmdldEF0dHJpYnV0ZSgnaWQnKS5zbGljZSg1KSA6IG51bGxcclxuICBpZiAoIXR5cGUpIHtcclxuICAgIGVsID0gZWwucGFyZW50Tm9kZVxyXG4gICAgdHlwZSA9IGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoJ2lkJykgPyBlbC5nZXRBdHRyaWJ1dGUoJ2lkJykuc2xpY2UoNSkgOiBudWxsXHJcbiAgfVxyXG5cclxuICBpZiAoXy5jb250YWlucyhfLnByb3BlcnRpZXModG9vbHMpLCB0eXBlKSkgeyByZXR1cm4gdHlwZSB9XHJcbiAgZWxzZSB7IHJldHVybiBudWxsIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2ltcGxlVG9vbEhhbmRsZXIgKHR5cGUsIGVsLCBzaGFwZSkge1xyXG4gIGxldCB2YWx1ZVxyXG4gIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgPT09ICdkaXNhYmxlZCcgfHwgIXNoYXBlKSB7IHJldHVybiB9XHJcbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgIHZhbHVlID0gdG9vbHNbdHlwZV0uc3R5bGVWYWx1ZVswXVxyXG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB2YWx1ZSA9IHRvb2xzW3R5cGVdLnN0eWxlVmFsdWVbMV1cclxuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgfVxyXG4gIHNoYXBlLnNldFRleHRhcmVhU2luZ2xlU3R5bGUodG9vbHNbdHlwZV0uc3R5bGVOYW1lLCB2YWx1ZSlcclxufVxyXG5cclxuZnVuY3Rpb24gdG9vbGJhckV2ZW50T25Nb3VzZURvd24gKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBsZXQgdHlwZSA9IGp1ZGdlVG9vbFR5cGUoZXZlbnQpXHJcbiAgaWYgKHR5cGUpIHtcclxuICAgIGxldCB0b29sRWxlbWVudCA9IGdldFRvb2xFbGVtZW50KHR5cGUpXHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAndW5kbyc6XHJcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ3VuZG8nKVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdyZWRvJzpcclxuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgncmVkbycpXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2JvbGQnOlxyXG4gICAgICBjYXNlICdpdGFsaWMnOlxyXG4gICAgICBjYXNlICd1bmRlcmxpbmUnOlxyXG4gICAgICAgIHNpbXBsZVRvb2xIYW5kbGVyKHR5cGUsIHRvb2xFbGVtZW50LCBldmVudENvbW1vbi5zZWxlY3RlZFNoYXBlKVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGxldCBzaGFwZSA9IGV2ZW50Q29tbW9uLmFjdGl2ZVNoYXBlIHx8IGV2ZW50Q29tbW9uLnNlbGVjdGVkU2hhcGVcclxuICAgIGlmIChzaGFwZSkge1xyXG4gICAgICBnZXRUb29sYmFyKCkuc2V0VG9vbGJhclN0YXRlKHNoYXBlLmdldEFsbFN0eWxlKCkpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZ2V0VG9vbGJhcigpLnNldEVtcHR5VG9vbGJhclN0YXRlKClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7dG9vbGJhckV2ZW50T25Nb3VzZURvd259XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3Rvb2xiYXIvdG9vbGJhckV2ZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_util__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__ = __webpack_require__(4);\n\r\n\r\n\r\nfunction getToolHtml (type) {\r\n  if (__WEBPACK_IMPORTED_MODULE_0__common_util__[\"a\" /* default */].contains(__WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"a\" /* simplyToolTypes */], type)) {\r\n    return`<div id=\"tool-${type}\" \r\n      class=\"toolbar-button\" \r\n      hint-data=\"${__WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"b\" /* tools */][type].hint}\"\r\n      disabled=\"${type !== 'undo' && type !== 'redo' ? 'disabled' : ''}\">\r\n      <i class=\"icon fa ${__WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"b\" /* tools */][type].faClass}\"></i>\r\n    </div>`\r\n  }\r\n  switch (type) {\r\n    case 'fontName':\r\n    case 'fontSize':\r\n    case 'fontColor':\r\n    case 'fillStyle':\r\n    case 'strokeStyle':\r\n    case 'lineWidth':\r\n    case 'lineDash':\r\n    case 'linkerType':\r\n    case 'arrowType':\r\n  }\r\n  return ''\r\n}\r\n\r\nfunction createTools (el, enabledTools) {\r\n  el.classList.add('fff-draw-tools')\r\n\r\n  let html = ''\r\n\r\n  for (let i = 0; i < __WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"c\" /* toolsGroup */].length; i++) {\r\n    let btnsHtml = ''\r\n    for (let j = 0; j < __WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"c\" /* toolsGroup */][i].length; j++) {\r\n      if (__WEBPACK_IMPORTED_MODULE_0__common_util__[\"a\" /* default */].contains(enabledTools, __WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"c\" /* toolsGroup */][i][j])) {\r\n        btnsHtml += getToolHtml(__WEBPACK_IMPORTED_MODULE_1__toolbarDefaultSetting__[\"c\" /* toolsGroup */][i][j])\r\n      }\r\n    }\r\n    if (btnsHtml !== '') {\r\n      html += '<div class=\"btn-group\">' + btnsHtml + '</div>'\r\n    }\r\n  }\r\n  el.innerHTML = html\r\n}\r\n\r\nfunction createHint (el) {\r\n\r\n}\r\n\r\nfunction toolUIInit (el, enabledTools, hint) {\r\n  createTools(el, enabledTools)\r\n  if (hint) {\r\n    createHint(el)\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (toolUIInit);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdG9vbGJhci90b29sc1VJSW5pdC5qcz83YThjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJy4uL2NvbW1vbi91dGlsJ1xyXG5pbXBvcnQge3Rvb2xzLCB0b29sc0dyb3VwLCBzaW1wbHlUb29sVHlwZXN9IGZyb20gJy4vdG9vbGJhckRlZmF1bHRTZXR0aW5nJ1xyXG5cclxuZnVuY3Rpb24gZ2V0VG9vbEh0bWwgKHR5cGUpIHtcclxuICBpZiAoXy5jb250YWlucyhzaW1wbHlUb29sVHlwZXMsIHR5cGUpKSB7XHJcbiAgICByZXR1cm5gPGRpdiBpZD1cInRvb2wtJHt0eXBlfVwiIFxyXG4gICAgICBjbGFzcz1cInRvb2xiYXItYnV0dG9uXCIgXHJcbiAgICAgIGhpbnQtZGF0YT1cIiR7dG9vbHNbdHlwZV0uaGludH1cIlxyXG4gICAgICBkaXNhYmxlZD1cIiR7dHlwZSAhPT0gJ3VuZG8nICYmIHR5cGUgIT09ICdyZWRvJyA/ICdkaXNhYmxlZCcgOiAnJ31cIj5cclxuICAgICAgPGkgY2xhc3M9XCJpY29uIGZhICR7dG9vbHNbdHlwZV0uZmFDbGFzc31cIj48L2k+XHJcbiAgICA8L2Rpdj5gXHJcbiAgfVxyXG4gIHN3aXRjaCAodHlwZSkge1xyXG4gICAgY2FzZSAnZm9udE5hbWUnOlxyXG4gICAgY2FzZSAnZm9udFNpemUnOlxyXG4gICAgY2FzZSAnZm9udENvbG9yJzpcclxuICAgIGNhc2UgJ2ZpbGxTdHlsZSc6XHJcbiAgICBjYXNlICdzdHJva2VTdHlsZSc6XHJcbiAgICBjYXNlICdsaW5lV2lkdGgnOlxyXG4gICAgY2FzZSAnbGluZURhc2gnOlxyXG4gICAgY2FzZSAnbGlua2VyVHlwZSc6XHJcbiAgICBjYXNlICdhcnJvd1R5cGUnOlxyXG4gIH1cclxuICByZXR1cm4gJydcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVG9vbHMgKGVsLCBlbmFibGVkVG9vbHMpIHtcclxuICBlbC5jbGFzc0xpc3QuYWRkKCdmZmYtZHJhdy10b29scycpXHJcblxyXG4gIGxldCBodG1sID0gJydcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b29sc0dyb3VwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgYnRuc0h0bWwgPSAnJ1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0b29sc0dyb3VwW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGlmIChfLmNvbnRhaW5zKGVuYWJsZWRUb29scywgdG9vbHNHcm91cFtpXVtqXSkpIHtcclxuICAgICAgICBidG5zSHRtbCArPSBnZXRUb29sSHRtbCh0b29sc0dyb3VwW2ldW2pdKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYnRuc0h0bWwgIT09ICcnKSB7XHJcbiAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj4nICsgYnRuc0h0bWwgKyAnPC9kaXY+J1xyXG4gICAgfVxyXG4gIH1cclxuICBlbC5pbm5lckhUTUwgPSBodG1sXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUhpbnQgKGVsKSB7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB0b29sVUlJbml0IChlbCwgZW5hYmxlZFRvb2xzLCBoaW50KSB7XHJcbiAgY3JlYXRlVG9vbHMoZWwsIGVuYWJsZWRUb29scylcclxuICBpZiAoaGludCkge1xyXG4gICAgY3JlYXRlSGludChlbClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRvb2xVSUluaXRcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdG9vbGJhci90b29sc1VJSW5pdC5qc1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n");

/***/ })
/******/ ]);