/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 6);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calcPositionInCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcPointToLineFoot; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_getUIParameters__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common__ = __webpack_require__(3);\n\r\n\r\n\r\nfunction calcPositionInCanvas (x, y) {\r\n  let drawLayout = document.getElementById('draw-layout')\r\n  let parameters = Object(__WEBPACK_IMPORTED_MODULE_0__common_getUIParameters__[\"a\" /* default */])()\r\n  return {\r\n    x: x - parameters.canvasLeft - (parameters.canvasPadding - drawLayout.scrollLeft),\r\n    y: y - parameters.canvasTop - (parameters.canvasPadding - drawLayout.scrollTop)\r\n  }\r\n}\r\n\r\nfunction calcPointToLineFoot (point, line) {\r\n  let [x, y] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"b\" /* generalizePoint */])(point)\r\n  let [A, B, C] = Object(__WEBPACK_IMPORTED_MODULE_1__common__[\"a\" /* generalizeLine */])(line)\r\n  return {\r\n    x: (B * B * x - A * B * y - A * C) / (A * A + B * B),\r\n    y: (-A * B * x + A * A * y - B * C) / (A * A + B * B)\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb3JlL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvbi5qcz81NDFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRVSVBhcmFtZXRlcnMgZnJvbSAnLi4vLi4vY29tbW9uL2dldFVJUGFyYW1ldGVycydcclxuaW1wb3J0IHtnZW5lcmFsaXplTGluZSwgZ2VuZXJhbGl6ZVBvaW50fSBmcm9tIFwiLi9jb21tb25cIjtcclxuXHJcbmZ1bmN0aW9uIGNhbGNQb3NpdGlvbkluQ2FudmFzICh4LCB5KSB7XHJcbiAgbGV0IGRyYXdMYXlvdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhdy1sYXlvdXQnKVxyXG4gIGxldCBwYXJhbWV0ZXJzID0gZ2V0VUlQYXJhbWV0ZXJzKClcclxuICByZXR1cm4ge1xyXG4gICAgeDogeCAtIHBhcmFtZXRlcnMuY2FudmFzTGVmdCAtIChwYXJhbWV0ZXJzLmNhbnZhc1BhZGRpbmcgLSBkcmF3TGF5b3V0LnNjcm9sbExlZnQpLFxyXG4gICAgeTogeSAtIHBhcmFtZXRlcnMuY2FudmFzVG9wIC0gKHBhcmFtZXRlcnMuY2FudmFzUGFkZGluZyAtIGRyYXdMYXlvdXQuc2Nyb2xsVG9wKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1BvaW50VG9MaW5lRm9vdCAocG9pbnQsIGxpbmUpIHtcclxuICBsZXQgW3gsIHldID0gZ2VuZXJhbGl6ZVBvaW50KHBvaW50KVxyXG4gIGxldCBbQSwgQiwgQ10gPSBnZW5lcmFsaXplTGluZShsaW5lKVxyXG4gIHJldHVybiB7XHJcbiAgICB4OiAoQiAqIEIgKiB4IC0gQSAqIEIgKiB5IC0gQSAqIEMpIC8gKEEgKiBBICsgQiAqIEIpLFxyXG4gICAgeTogKC1BICogQiAqIHggKyBBICogQSAqIHkgLSBCICogQykgLyAoQSAqIEEgKyBCICogQilcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Y2FsY1Bvc2l0aW9uSW5DYW52YXMsIGNhbGNQb2ludFRvTGluZUZvb3R9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvY2FsY3VsYXRpb24vY2FsY1Bvc2l0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__process__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__line__ = __webpack_require__(10);\n\r\n\r\n\r\nfunction getShapeByType (shapeName) {\r\n  switch (shapeName) {\r\n    case 'process': return __WEBPACK_IMPORTED_MODULE_0__process__[\"a\" /* default */]\r\n    case 'line': return __WEBPACK_IMPORTED_MODULE_1__line__[\"a\" /* default */]\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getShapeByType);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvaW5kZXguanM/M2ZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvY2VzcyBmcm9tICcuL3Byb2Nlc3MnXHJcbmltcG9ydCBMaW5lIGZyb20gJy4vbGluZSdcclxuXHJcbmZ1bmN0aW9uIGdldFNoYXBlQnlUeXBlIChzaGFwZU5hbWUpIHtcclxuICBzd2l0Y2ggKHNoYXBlTmFtZSkge1xyXG4gICAgY2FzZSAncHJvY2Vzcyc6IHJldHVybiBQcm9jZXNzXHJcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIExpbmVcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldFNoYXBlQnlUeXBlXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhcGVzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getDefaultSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return drawingDefaultSetting; });\nlet basic = {\r\n  width: 120,\r\n  height: 90\r\n}\r\nlet process = {\r\n  width: 120,\r\n  height: 90,\r\n  shapeName: '流程'\r\n}\r\nlet decision = {\r\n  width: 110,\r\n  height: 90,\r\n  shapeName: '判定'\r\n}\r\nlet terminator = {\r\n  width: 120,\r\n  height: 70,\r\n  shapeName: '开始/结束'\r\n}\r\nlet storedData = {\r\n  width: 120,\r\n  height: 90,\r\n  shapeName: '数据库'\r\n}\r\nlet line = {\r\n  linkerType: 'straight',\r\n  arrowType: 'basic'\r\n}\r\n\r\nfunction getDefaultSetting (type) {\r\n  switch (type) {\r\n    case 'process': return process\r\n    case 'decision': return decision\r\n    case 'terminator': return terminator\r\n    case 'storedData': return storedData\r\n    case 'line': return line\r\n    default: return basic\r\n  }\r\n}\r\n\r\nlet drawingDefaultSetting = {\r\n  fillStyle: '#FFFFFF',\r\n  strokeStyle: '#000000',\r\n  lineWidth: 2,\r\n  lineDash: []\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvc2hhcGVEZWZhdWx0U2V0dGluZy5qcz9hZGRiIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBiYXNpYyA9IHtcclxuICB3aWR0aDogMTIwLFxyXG4gIGhlaWdodDogOTBcclxufVxyXG5sZXQgcHJvY2VzcyA9IHtcclxuICB3aWR0aDogMTIwLFxyXG4gIGhlaWdodDogOTAsXHJcbiAgc2hhcGVOYW1lOiAn5rWB56iLJ1xyXG59XHJcbmxldCBkZWNpc2lvbiA9IHtcclxuICB3aWR0aDogMTEwLFxyXG4gIGhlaWdodDogOTAsXHJcbiAgc2hhcGVOYW1lOiAn5Yik5a6aJ1xyXG59XHJcbmxldCB0ZXJtaW5hdG9yID0ge1xyXG4gIHdpZHRoOiAxMjAsXHJcbiAgaGVpZ2h0OiA3MCxcclxuICBzaGFwZU5hbWU6ICflvIDlp4sv57uT5p2fJ1xyXG59XHJcbmxldCBzdG9yZWREYXRhID0ge1xyXG4gIHdpZHRoOiAxMjAsXHJcbiAgaGVpZ2h0OiA5MCxcclxuICBzaGFwZU5hbWU6ICfmlbDmja7lupMnXHJcbn1cclxubGV0IGxpbmUgPSB7XHJcbiAgbGlua2VyVHlwZTogJ3N0cmFpZ2h0JyxcclxuICBhcnJvd1R5cGU6ICdiYXNpYydcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGVmYXVsdFNldHRpbmcgKHR5cGUpIHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgJ3Byb2Nlc3MnOiByZXR1cm4gcHJvY2Vzc1xyXG4gICAgY2FzZSAnZGVjaXNpb24nOiByZXR1cm4gZGVjaXNpb25cclxuICAgIGNhc2UgJ3Rlcm1pbmF0b3InOiByZXR1cm4gdGVybWluYXRvclxyXG4gICAgY2FzZSAnc3RvcmVkRGF0YSc6IHJldHVybiBzdG9yZWREYXRhXHJcbiAgICBjYXNlICdsaW5lJzogcmV0dXJuIGxpbmVcclxuICAgIGRlZmF1bHQ6IHJldHVybiBiYXNpY1xyXG4gIH1cclxufVxyXG5cclxubGV0IGRyYXdpbmdEZWZhdWx0U2V0dGluZyA9IHtcclxuICBmaWxsU3R5bGU6ICcjRkZGRkZGJyxcclxuICBzdHJva2VTdHlsZTogJyMwMDAwMDAnLFxyXG4gIGxpbmVXaWR0aDogMixcclxuICBsaW5lRGFzaDogW11cclxufVxyXG5cclxuZXhwb3J0IHtnZXREZWZhdWx0U2V0dGluZywgZHJhd2luZ0RlZmF1bHRTZXR0aW5nfVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFwZXMvc2hhcGVEZWZhdWx0U2V0dGluZy5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return generalizeLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return generalizePoint; });\n// Line can be presented by (x - x2) / (x1 - x2) = (y - y2) / (x1 - y2)\r\n// or Ax + By + C = 0\r\n// or Kx + B = y\r\n// The order of parameters must be [x1, y1, x2, y2], [A, B, C] or [K, B].\r\n\r\n// Points must contain x and y.\r\n// The order of parameters must be [x, y] or {x, y}\r\n\r\nfunction generalizeLine (line) {\r\n  switch (line.length) {\r\n    case 2: return [line[0], -1, line[1]]\r\n    case 3: return line\r\n    case 4:\r\n      let [x1, y1, x2, y2] = line\r\n      let A = (y1 - y2) / (x1 - x2)\r\n      let B = -1\r\n      let C = y2 - A * x2\r\n      return [A, B, C]\r\n  }\r\n}\r\n\r\nfunction generalizePoint (point) {\r\n  if (Array.isArray(point)) {\r\n    return point\r\n  }\r\n  else {\r\n    return [point.x, point.y]\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb3JlL2NhbGN1bGF0aW9uL2NvbW1vbi5qcz8wMWI5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpbmUgY2FuIGJlIHByZXNlbnRlZCBieSAoeCAtIHgyKSAvICh4MSAtIHgyKSA9ICh5IC0geTIpIC8gKHgxIC0geTIpXHJcbi8vIG9yIEF4ICsgQnkgKyBDID0gMFxyXG4vLyBvciBLeCArIEIgPSB5XHJcbi8vIFRoZSBvcmRlciBvZiBwYXJhbWV0ZXJzIG11c3QgYmUgW3gxLCB5MSwgeDIsIHkyXSwgW0EsIEIsIENdIG9yIFtLLCBCXS5cclxuXHJcbi8vIFBvaW50cyBtdXN0IGNvbnRhaW4geCBhbmQgeS5cclxuLy8gVGhlIG9yZGVyIG9mIHBhcmFtZXRlcnMgbXVzdCBiZSBbeCwgeV0gb3Ige3gsIHl9XHJcblxyXG5mdW5jdGlvbiBnZW5lcmFsaXplTGluZSAobGluZSkge1xyXG4gIHN3aXRjaCAobGluZS5sZW5ndGgpIHtcclxuICAgIGNhc2UgMjogcmV0dXJuIFtsaW5lWzBdLCAtMSwgbGluZVsxXV1cclxuICAgIGNhc2UgMzogcmV0dXJuIGxpbmVcclxuICAgIGNhc2UgNDpcclxuICAgICAgbGV0IFt4MSwgeTEsIHgyLCB5Ml0gPSBsaW5lXHJcbiAgICAgIGxldCBBID0gKHkxIC0geTIpIC8gKHgxIC0geDIpXHJcbiAgICAgIGxldCBCID0gLTFcclxuICAgICAgbGV0IEMgPSB5MiAtIEEgKiB4MlxyXG4gICAgICByZXR1cm4gW0EsIEIsIENdXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmFsaXplUG9pbnQgKHBvaW50KSB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkocG9pbnQpKSB7XHJcbiAgICByZXR1cm4gcG9pbnRcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICByZXR1cm4gW3BvaW50LngsIHBvaW50LnldXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge2dlbmVyYWxpemVMaW5lLCBnZW5lcmFsaXplUG9pbnR9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvY2FsY3VsYXRpb24vY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function getUIParameters () {\r\n  let canvasLayout = document.getElementById('draw-layout')\r\n  let drawContainer = document.getElementById('draw-container')\r\n  return {\r\n    canvasPadding: drawContainer.style.padding.slice(0, -2) - 0,\r\n    canvasLeft: canvasLayout.offsetLeft,\r\n    canvasTop: canvasLayout.offsetTop\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (getUIParameters);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21tb24vZ2V0VUlQYXJhbWV0ZXJzLmpzP2EyNTciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2V0VUlQYXJhbWV0ZXJzICgpIHtcclxuICBsZXQgY2FudmFzTGF5b3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXctbGF5b3V0JylcclxuICBsZXQgZHJhd0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3LWNvbnRhaW5lcicpXHJcbiAgcmV0dXJuIHtcclxuICAgIGNhbnZhc1BhZGRpbmc6IGRyYXdDb250YWluZXIuc3R5bGUucGFkZGluZy5zbGljZSgwLCAtMikgLSAwLFxyXG4gICAgY2FudmFzTGVmdDogY2FudmFzTGF5b3V0Lm9mZnNldExlZnQsXHJcbiAgICBjYW52YXNUb3A6IGNhbnZhc0xheW91dC5vZmZzZXRUb3BcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldFVJUGFyYW1ldGVyc1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbW1vbi9nZXRVSVBhcmFtZXRlcnMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createNewShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createNewLine; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_index__ = __webpack_require__(1);\n\r\n\r\nfunction createNewShape (type, left, top, width, height) {\r\n  let component = document.createElement('div')\r\n  component.classList.add('shape-box')\r\n\r\n  component.innerHTML = `\r\n    <canvas class=\"shape-canvas\"></canvas>\r\n    <textarea class=\"shape-text\" contenteditable=\"true\"></textarea>`\r\n\r\n  let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(type))(component, type, left, top, width, height)\r\n\r\n  component.setAttribute('shapeid', shape.id)\r\n  return shape\r\n}\r\n\r\nfunction createNewLine (src, dist, settings) {\r\n  let component = document.createElement('div')\r\n  component.classList.add('shape-box', 'linker_box')\r\n\r\n  component.innerHTML = `\r\n    <canvas class=\"shape-canvas\"></canvas>\r\n    <div class=\"shape-text\" contenteditable=\"true\"></div>`\r\n\r\n  let line = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])('line'))(component, src, dist, settings)\r\n\r\n  component.setAttribute('shapeid', line.id)\r\n  return line\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb3JlL2NyZWF0ZU5ld1NoYXBlLmpzPzE1MmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFNoYXBlQnlUeXBlIGZyb20gJy4uL3NoYXBlcy9pbmRleCdcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld1NoYXBlICh0eXBlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcclxuICBsZXQgY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBjb21wb25lbnQuY2xhc3NMaXN0LmFkZCgnc2hhcGUtYm94JylcclxuXHJcbiAgY29tcG9uZW50LmlubmVySFRNTCA9IGBcclxuICAgIDxjYW52YXMgY2xhc3M9XCJzaGFwZS1jYW52YXNcIj48L2NhbnZhcz5cclxuICAgIDx0ZXh0YXJlYSBjbGFzcz1cInNoYXBlLXRleHRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC90ZXh0YXJlYT5gXHJcblxyXG4gIGxldCBzaGFwZSA9IG5ldyAoZ2V0U2hhcGVCeVR5cGUodHlwZSkpKGNvbXBvbmVudCwgdHlwZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG5cclxuICBjb21wb25lbnQuc2V0QXR0cmlidXRlKCdzaGFwZWlkJywgc2hhcGUuaWQpXHJcbiAgcmV0dXJuIHNoYXBlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld0xpbmUgKHNyYywgZGlzdCwgc2V0dGluZ3MpIHtcclxuICBsZXQgY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBjb21wb25lbnQuY2xhc3NMaXN0LmFkZCgnc2hhcGUtYm94JywgJ2xpbmtlcl9ib3gnKVxyXG5cclxuICBjb21wb25lbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGNhbnZhcyBjbGFzcz1cInNoYXBlLWNhbnZhc1wiPjwvY2FudmFzPlxyXG4gICAgPGRpdiBjbGFzcz1cInNoYXBlLXRleHRcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+PC9kaXY+YFxyXG5cclxuICBsZXQgbGluZSA9IG5ldyAoZ2V0U2hhcGVCeVR5cGUoJ2xpbmUnKSkoY29tcG9uZW50LCBzcmMsIGRpc3QsIHNldHRpbmdzKVxyXG5cclxuICBjb21wb25lbnQuc2V0QXR0cmlidXRlKCdzaGFwZWlkJywgbGluZS5pZClcclxuICByZXR1cm4gbGluZVxyXG59XHJcblxyXG5leHBvcnQge2NyZWF0ZU5ld1NoYXBlLCBjcmVhdGVOZXdMaW5lfVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb3JlL2NyZWF0ZU5ld1NoYXBlLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__init__ = __webpack_require__(7);\n\r\n\r\n(function (window, document) {\r\n  // settings: {\r\n  //   el: the container of drawing\r\n  //   shapes: enabled shapes\r\n  //   toolbar: {\r\n  //     el: the container of toolbar\r\n  //     tools: enabled tools\r\n  //   }\r\n  // }\r\n  const defaultInstanceSettings = {\r\n    el: null,\r\n    shapes: ['process'],\r\n    toolbar: {\r\n      el: null,\r\n      tools: ['undo', 'redo',\r\n        'bold', 'italic', 'underline',\r\n        'fontName', 'fontSize', 'fontColor',\r\n        'fillStyle', 'strokeStyle', 'lineWidth', 'lineDash',\r\n        'linkerType', 'arrowType'\r\n      ]\r\n    }\r\n  }\r\n\r\n  function cloneObject (o) {\r\n    let clone = {}\r\n    for (let prop in o) {\r\n      clone[prop] = o[prop]\r\n    }\r\n    return clone\r\n  }\r\n\r\n  function hasProp (o, prop) {\r\n    return o.hasOwnProperty(prop)\r\n  }\r\n\r\n  function replaceObjectProps (target, source) {\r\n    let clone = cloneObject(target)\r\n    for (let prop in clone) {\r\n      if (typeof clone[prop] !== 'object') {\r\n        clone[prop] = hasProp(source, prop) ? source[prop] : clone[prop]\r\n      }\r\n      else {\r\n        if (source[prop]) {\r\n          clone[prop] = replaceObjectProps(clone[prop], source[prop])\r\n        }\r\n      }\r\n    }\r\n    return clone\r\n  }\r\n\r\n  function createInstanceSetting (params) {\r\n    let el\r\n    if (!params.el || !(el = document.querySelectorAll(params.el)[0])) {\r\n      return null\r\n    }\r\n\r\n    let instanceSetting = replaceObjectProps(defaultInstanceSettings, params)\r\n    instanceSetting.el = el\r\n\r\n    return instanceSetting\r\n  }\r\n\r\n  class FlowChart {\r\n    constructor (options) {\r\n      this.instanceSetting = createInstanceSetting(options)\r\n      if (!this.instanceSetting) {\r\n        return {}\r\n      }\r\n\r\n      this.shapeList = []\r\n      this.init()\r\n    }\r\n    init() {\r\n      Object(__WEBPACK_IMPORTED_MODULE_0__init__[\"a\" /* default */])(this.instanceSetting, this.shapeList)\r\n    }\r\n  }\r\n\r\n  let FreeFlowChart = (function () {\r\n    let instance = null\r\n\r\n    return function (options) {\r\n      if (instance) { return instance }\r\n      else {\r\n        let instance = new FlowChart(options)\r\n        if (!instance.init) {\r\n          console.log('Invalid options!')\r\n          instance = null\r\n        }\r\n        return instance\r\n      }\r\n    }\r\n  })()\r\n\r\n  window.FreeFlowChart = FreeFlowChart\r\n})(window, document)//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz85NTUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0IGZyb20gJy4vaW5pdCdcclxuXHJcbihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCkge1xyXG4gIC8vIHNldHRpbmdzOiB7XHJcbiAgLy8gICBlbDogdGhlIGNvbnRhaW5lciBvZiBkcmF3aW5nXHJcbiAgLy8gICBzaGFwZXM6IGVuYWJsZWQgc2hhcGVzXHJcbiAgLy8gICB0b29sYmFyOiB7XHJcbiAgLy8gICAgIGVsOiB0aGUgY29udGFpbmVyIG9mIHRvb2xiYXJcclxuICAvLyAgICAgdG9vbHM6IGVuYWJsZWQgdG9vbHNcclxuICAvLyAgIH1cclxuICAvLyB9XHJcbiAgY29uc3QgZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MgPSB7XHJcbiAgICBlbDogbnVsbCxcclxuICAgIHNoYXBlczogWydwcm9jZXNzJ10sXHJcbiAgICB0b29sYmFyOiB7XHJcbiAgICAgIGVsOiBudWxsLFxyXG4gICAgICB0b29sczogWyd1bmRvJywgJ3JlZG8nLFxyXG4gICAgICAgICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLFxyXG4gICAgICAgICdmb250TmFtZScsICdmb250U2l6ZScsICdmb250Q29sb3InLFxyXG4gICAgICAgICdmaWxsU3R5bGUnLCAnc3Ryb2tlU3R5bGUnLCAnbGluZVdpZHRoJywgJ2xpbmVEYXNoJyxcclxuICAgICAgICAnbGlua2VyVHlwZScsICdhcnJvd1R5cGUnXHJcbiAgICAgIF1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNsb25lT2JqZWN0IChvKSB7XHJcbiAgICBsZXQgY2xvbmUgPSB7fVxyXG4gICAgZm9yIChsZXQgcHJvcCBpbiBvKSB7XHJcbiAgICAgIGNsb25lW3Byb3BdID0gb1twcm9wXVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNsb25lXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYXNQcm9wIChvLCBwcm9wKSB7XHJcbiAgICByZXR1cm4gby5oYXNPd25Qcm9wZXJ0eShwcm9wKVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVwbGFjZU9iamVjdFByb3BzICh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgbGV0IGNsb25lID0gY2xvbmVPYmplY3QodGFyZ2V0KVxyXG4gICAgZm9yIChsZXQgcHJvcCBpbiBjbG9uZSkge1xyXG4gICAgICBpZiAodHlwZW9mIGNsb25lW3Byb3BdICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGNsb25lW3Byb3BdID0gaGFzUHJvcChzb3VyY2UsIHByb3ApID8gc291cmNlW3Byb3BdIDogY2xvbmVbcHJvcF1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoc291cmNlW3Byb3BdKSB7XHJcbiAgICAgICAgICBjbG9uZVtwcm9wXSA9IHJlcGxhY2VPYmplY3RQcm9wcyhjbG9uZVtwcm9wXSwgc291cmNlW3Byb3BdKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNsb25lXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVNldHRpbmcgKHBhcmFtcykge1xyXG4gICAgbGV0IGVsXHJcbiAgICBpZiAoIXBhcmFtcy5lbCB8fCAhKGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbXMuZWwpWzBdKSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbnN0YW5jZVNldHRpbmcgPSByZXBsYWNlT2JqZWN0UHJvcHMoZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MsIHBhcmFtcylcclxuICAgIGluc3RhbmNlU2V0dGluZy5lbCA9IGVsXHJcblxyXG4gICAgcmV0dXJuIGluc3RhbmNlU2V0dGluZ1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgRmxvd0NoYXJ0IHtcclxuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XHJcbiAgICAgIHRoaXMuaW5zdGFuY2VTZXR0aW5nID0gY3JlYXRlSW5zdGFuY2VTZXR0aW5nKG9wdGlvbnMpXHJcbiAgICAgIGlmICghdGhpcy5pbnN0YW5jZVNldHRpbmcpIHtcclxuICAgICAgICByZXR1cm4ge31cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zaGFwZUxpc3QgPSBbXVxyXG4gICAgICB0aGlzLmluaXQoKVxyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgaW5pdCh0aGlzLmluc3RhbmNlU2V0dGluZywgdGhpcy5zaGFwZUxpc3QpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgRnJlZUZsb3dDaGFydCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgaW5zdGFuY2UgPSBudWxsXHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgIGlmIChpbnN0YW5jZSkgeyByZXR1cm4gaW5zdGFuY2UgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgRmxvd0NoYXJ0KG9wdGlvbnMpXHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5pbml0KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBvcHRpb25zIScpXHJcbiAgICAgICAgICBpbnN0YW5jZSA9IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KSgpXHJcblxyXG4gIHdpbmRvdy5GcmVlRmxvd0NoYXJ0ID0gRnJlZUZsb3dDaGFydFxyXG59KSh3aW5kb3csIGRvY3VtZW50KVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapes_index__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_background__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_events_index__ = __webpack_require__(13);\n\r\n\r\n\r\n\r\nconst drawContainerHtml = `<div class=\"draw-main\">\r\n    <div id=\"draw-components\">\r\n    </div>\r\n    <div id=\"draw-layout\">\r\n        <div id=\"draw-container\" style=\"padding:1000px;\">\r\n            <div id=\"designer_canvas\">\r\n                <canvas id=\"canvas-background\"></canvas>\r\n                <div id=\"shape_controls\">\r\n                    <canvas id=\"controls_bounding\" width=\"120\" height=\"90\"></canvas>\r\n                    <div class=\"shape_controller n w\" resizedir=\"nw\" style=\"cursor:nw-resize; left:6px; top:6px;\"></div>\r\n                    <div class=\"shape_controller n e\" resizedir=\"ne\" style=\"cursor:ne-resize; left:calc(100% - 14px); top:6px;\"></div>\r\n                    <div class=\"shape_controller s e\" resizedir=\"se\" style=\"cursor:se-resize; left:calc(100% - 14px); top:calc(100% - 14px);\"></div>\r\n                    <div class=\"shape_controller s w\" resizedir=\"sw\" style=\"cursor:sw-resize; left:6px; top:calc(100% - 14px);\"></div>\r\n                </div>\r\n                <div id=\"bezier_controls\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`\r\n\r\nfunction createContainer (el) {\r\n  el.innerHTML = drawContainerHtml\r\n}\r\n\r\nfunction createComponets (el, shapes) {\r\n  let componentGroup = document.getElementById('draw-components')\r\n  let tempHtml = ''\r\n  for (let i = 0; i < instanceSetting.shapes.length; i++) {\r\n    let shapeName = instanceSetting.shapes[i]\r\n    tempHtml += `<div class=\"component-box\" shapename=\"${shapeName}\">\r\n        <canvas class=\"component-item\" width=\"30\" height=\"30\"></canvas>\r\n    </div>`\r\n  }\r\n  componentGroup.innerHTML = tempHtml\r\n  let componentItems = document.getElementsByClassName('component-box')\r\n  for (let i = 0; i < instanceSetting.shapes.length; i++) {\r\n    let shapeName = instanceSetting.shapes[i]\r\n    let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(shapeName))(componentItems[i], 'process', -1, -1, 30, 30)\r\n    shape.draw(2, 5)\r\n  }\r\n}\r\n\r\nfunction init (instanceSetting, shapeList) {\r\n  instanceSetting.el.classList.add('draw-main')\r\n  createContainer(instanceSetting.el)\r\n\r\n  let componentGroup = document.getElementById('draw-components')\r\n  let tempHtml = ''\r\n  for (let i = 0; i < instanceSetting.shapes.length; i++) {\r\n    let shapeName = instanceSetting.shapes[i]\r\n    tempHtml += `<div class=\"component-box\" shapename=\"${shapeName}\">\r\n        <canvas class=\"component-item\" width=\"30\" height=\"30\"></canvas>\r\n    </div>`\r\n  }\r\n  componentGroup.innerHTML = tempHtml\r\n  let componentItems = document.getElementsByClassName('component-box')\r\n  for (let i = 0; i < instanceSetting.shapes.length; i++) {\r\n    let shapeName = instanceSetting.shapes[i]\r\n    let shape = new (Object(__WEBPACK_IMPORTED_MODULE_0__shapes_index__[\"a\" /* default */])(shapeName))(componentItems[i], 'process', -1, -1, 30, 30)\r\n    shape.draw(2, 5)\r\n  }\r\n\r\n  let canvasBackground = document.getElementById('canvas-background')\r\n  Object(__WEBPACK_IMPORTED_MODULE_1__draw_background__[\"a\" /* default */])(canvasBackground)\r\n\r\n  //let canvasController = document.getElementById('controls_bounding')\r\n\r\n  let drawLayout = document.getElementById('draw-layout')\r\n  drawLayout.scrollTop = 1000 - 10\r\n  drawLayout.scrollLeft = 1000 - 10\r\n\r\n  function curryEventHandlers (eventType) {\r\n    let handlers = Object(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"b\" /* getEventHandlers */])(eventType)\r\n    return function () {\r\n      for (let j = 0; j < handlers.length; j++) {\r\n        handlers[j].call(this, event, shapeList)\r\n      }\r\n    }\r\n  }\r\n  for (let i = 0; i < __WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */].length; i++) {\r\n    let func = curryEventHandlers(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */][i])\r\n    window.addEventListener(__WEBPACK_IMPORTED_MODULE_2__core_events_index__[\"a\" /* eventList */][i], func)\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (init);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbml0LmpzP2RkZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldFNoYXBlQnlUeXBlIGZyb20gJy4vc2hhcGVzL2luZGV4J1xyXG5pbXBvcnQgYmFja2dyb3VuZERyYXcgZnJvbSAnLi9kcmF3L2JhY2tncm91bmQnXHJcbmltcG9ydCB7ZXZlbnRMaXN0LCBnZXRFdmVudEhhbmRsZXJzfSBmcm9tICcuL2NvcmUvZXZlbnRzL2luZGV4J1xyXG5cclxuY29uc3QgZHJhd0NvbnRhaW5lckh0bWwgPSBgPGRpdiBjbGFzcz1cImRyYXctbWFpblwiPlxyXG4gICAgPGRpdiBpZD1cImRyYXctY29tcG9uZW50c1wiPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGlkPVwiZHJhdy1sYXlvdXRcIj5cclxuICAgICAgICA8ZGl2IGlkPVwiZHJhdy1jb250YWluZXJcIiBzdHlsZT1cInBhZGRpbmc6MTAwMHB4O1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiZGVzaWduZXJfY2FudmFzXCI+XHJcbiAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPVwiY2FudmFzLWJhY2tncm91bmRcIj48L2NhbnZhcz5cclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzaGFwZV9jb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9XCJjb250cm9sc19ib3VuZGluZ1wiIHdpZHRoPVwiMTIwXCIgaGVpZ2h0PVwiOTBcIj48L2NhbnZhcz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGVfY29udHJvbGxlciBuIHdcIiByZXNpemVkaXI9XCJud1wiIHN0eWxlPVwiY3Vyc29yOm53LXJlc2l6ZTsgbGVmdDo2cHg7IHRvcDo2cHg7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNoYXBlX2NvbnRyb2xsZXIgbiBlXCIgcmVzaXplZGlyPVwibmVcIiBzdHlsZT1cImN1cnNvcjpuZS1yZXNpemU7IGxlZnQ6Y2FsYygxMDAlIC0gMTRweCk7IHRvcDo2cHg7XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNoYXBlX2NvbnRyb2xsZXIgcyBlXCIgcmVzaXplZGlyPVwic2VcIiBzdHlsZT1cImN1cnNvcjpzZS1yZXNpemU7IGxlZnQ6Y2FsYygxMDAlIC0gMTRweCk7IHRvcDpjYWxjKDEwMCUgLSAxNHB4KTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hhcGVfY29udHJvbGxlciBzIHdcIiByZXNpemVkaXI9XCJzd1wiIHN0eWxlPVwiY3Vyc29yOnN3LXJlc2l6ZTsgbGVmdDo2cHg7IHRvcDpjYWxjKDEwMCUgLSAxNHB4KTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImJlemllcl9jb250cm9sc1wiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmBcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lciAoZWwpIHtcclxuICBlbC5pbm5lckhUTUwgPSBkcmF3Q29udGFpbmVySHRtbFxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb21wb25ldHMgKGVsLCBzaGFwZXMpIHtcclxuICBsZXQgY29tcG9uZW50R3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhdy1jb21wb25lbnRzJylcclxuICBsZXQgdGVtcEh0bWwgPSAnJ1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zdGFuY2VTZXR0aW5nLnNoYXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IHNoYXBlTmFtZSA9IGluc3RhbmNlU2V0dGluZy5zaGFwZXNbaV1cclxuICAgIHRlbXBIdG1sICs9IGA8ZGl2IGNsYXNzPVwiY29tcG9uZW50LWJveFwiIHNoYXBlbmFtZT1cIiR7c2hhcGVOYW1lfVwiPlxyXG4gICAgICAgIDxjYW52YXMgY2xhc3M9XCJjb21wb25lbnQtaXRlbVwiIHdpZHRoPVwiMzBcIiBoZWlnaHQ9XCIzMFwiPjwvY2FudmFzPlxyXG4gICAgPC9kaXY+YFxyXG4gIH1cclxuICBjb21wb25lbnRHcm91cC5pbm5lckhUTUwgPSB0ZW1wSHRtbFxyXG4gIGxldCBjb21wb25lbnRJdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbXBvbmVudC1ib3gnKVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zdGFuY2VTZXR0aW5nLnNoYXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IHNoYXBlTmFtZSA9IGluc3RhbmNlU2V0dGluZy5zaGFwZXNbaV1cclxuICAgIGxldCBzaGFwZSA9IG5ldyAoZ2V0U2hhcGVCeVR5cGUoc2hhcGVOYW1lKSkoY29tcG9uZW50SXRlbXNbaV0sICdwcm9jZXNzJywgLTEsIC0xLCAzMCwgMzApXHJcbiAgICBzaGFwZS5kcmF3KDIsIDUpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0IChpbnN0YW5jZVNldHRpbmcsIHNoYXBlTGlzdCkge1xyXG4gIGluc3RhbmNlU2V0dGluZy5lbC5jbGFzc0xpc3QuYWRkKCdkcmF3LW1haW4nKVxyXG4gIGNyZWF0ZUNvbnRhaW5lcihpbnN0YW5jZVNldHRpbmcuZWwpXHJcblxyXG4gIGxldCBjb21wb25lbnRHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3LWNvbXBvbmVudHMnKVxyXG4gIGxldCB0ZW1wSHRtbCA9ICcnXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0YW5jZVNldHRpbmcuc2hhcGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgc2hhcGVOYW1lID0gaW5zdGFuY2VTZXR0aW5nLnNoYXBlc1tpXVxyXG4gICAgdGVtcEh0bWwgKz0gYDxkaXYgY2xhc3M9XCJjb21wb25lbnQtYm94XCIgc2hhcGVuYW1lPVwiJHtzaGFwZU5hbWV9XCI+XHJcbiAgICAgICAgPGNhbnZhcyBjbGFzcz1cImNvbXBvbmVudC1pdGVtXCIgd2lkdGg9XCIzMFwiIGhlaWdodD1cIjMwXCI+PC9jYW52YXM+XHJcbiAgICA8L2Rpdj5gXHJcbiAgfVxyXG4gIGNvbXBvbmVudEdyb3VwLmlubmVySFRNTCA9IHRlbXBIdG1sXHJcbiAgbGV0IGNvbXBvbmVudEl0ZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY29tcG9uZW50LWJveCcpXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0YW5jZVNldHRpbmcuc2hhcGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgc2hhcGVOYW1lID0gaW5zdGFuY2VTZXR0aW5nLnNoYXBlc1tpXVxyXG4gICAgbGV0IHNoYXBlID0gbmV3IChnZXRTaGFwZUJ5VHlwZShzaGFwZU5hbWUpKShjb21wb25lbnRJdGVtc1tpXSwgJ3Byb2Nlc3MnLCAtMSwgLTEsIDMwLCAzMClcclxuICAgIHNoYXBlLmRyYXcoMiwgNSlcclxuICB9XHJcblxyXG4gIGxldCBjYW52YXNCYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1iYWNrZ3JvdW5kJylcclxuICBiYWNrZ3JvdW5kRHJhdyhjYW52YXNCYWNrZ3JvdW5kKVxyXG5cclxuICAvL2xldCBjYW52YXNDb250cm9sbGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzX2JvdW5kaW5nJylcclxuXHJcbiAgbGV0IGRyYXdMYXlvdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhdy1sYXlvdXQnKVxyXG4gIGRyYXdMYXlvdXQuc2Nyb2xsVG9wID0gMTAwMCAtIDEwXHJcbiAgZHJhd0xheW91dC5zY3JvbGxMZWZ0ID0gMTAwMCAtIDEwXHJcblxyXG4gIGZ1bmN0aW9uIGN1cnJ5RXZlbnRIYW5kbGVycyAoZXZlbnRUeXBlKSB7XHJcbiAgICBsZXQgaGFuZGxlcnMgPSBnZXRFdmVudEhhbmRsZXJzKGV2ZW50VHlwZSlcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBoYW5kbGVyc1tqXS5jYWxsKHRoaXMsIGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBmdW5jID0gY3VycnlFdmVudEhhbmRsZXJzKGV2ZW50TGlzdFtpXSlcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TGlzdFtpXSwgZnVuYylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbml0LmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shape__ = __webpack_require__(9);\n\r\n\r\nclass Process extends __WEBPACK_IMPORTED_MODULE_0__shape__[\"a\" /* default */] {\r\n  constructor (el, type, left, top, width, height) {\r\n    super(el, type, left, top, width, height)\r\n  }\r\n  draw (paddingHorizontal, paddingVertical) {\r\n    let horizontal = typeof paddingHorizontal === 'undefined' ? 10 : paddingHorizontal\r\n    let vertical = typeof paddingVertical === 'undefined' ? 10 : paddingVertical\r\n\r\n    this.resetDrawStyle()\r\n    this.context.fillRect(horizontal, vertical, this.width - 2 * horizontal, this.height - 2 * vertical)\r\n    this.context.beginPath()\r\n    this.context.rect(horizontal, vertical, this.width - 2 * horizontal, this.height - 2 * vertical);\r\n    this.context.stroke()\r\n  }\r\n  isPositionInShape (x, y) {\r\n    return (x >= this.left + 10 && x <= this.left + this.width - 10\r\n      && y >= this.top + 10 && y <= this.top + this.height - 10)\r\n  }\r\n  isPositionInLineArea (x, y) {\r\n    if (this.isPositionInShape(x, y)) {\r\n      return false\r\n    }\r\n    else return (x >= this.left && x <= this.left + this.width\r\n      && y >= this.top && y <= this.top + this.height)\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type\r\n    type = (this.isPositionInShape(x, y)) ? 'shapeBody' : null\r\n    type = (!type) ? ((this.isPositionInLineArea(x, y)) ? 'shapeLineArea' : 'empty') : type\r\n    return { shape: this, type: type }\r\n  }\r\n\r\n  // Every shape rely on it's own way to calculate line end positions\r\n  // and all what the lines need to get is just the positions.\r\n\r\n  // ReferPosition includes up, down, left, right, nwCorner, neCorner, seCorner, swCorner.\r\n  // Note that the referPercent is based on inner width of the shape.\r\n  calcLinePosition (referPosition, referPercent) {\r\n    let x, y\r\n    switch (referPosition) {\r\n      case 'nwCorner':\r\n        x = this.left + 10\r\n        y = this.top + 10\r\n        break\r\n      case 'neCorner':\r\n        x = this.left + this.width - 10\r\n        y = this.top + 10\r\n        break\r\n      case 'seCorner':\r\n        x = this.left + this.width - 10\r\n        y = this.top + this.height - 10\r\n        break\r\n      case 'swCorner':\r\n        x = this.left + 10\r\n        y = this.top + this.height - 10\r\n        break\r\n      case 'up':\r\n        x = this.left + 10 + referPercent * (this.width - 20)\r\n        y = this.top + 10\r\n        break\r\n      case 'down':\r\n        x = this.left + 10 + referPercent * (this.width - 20)\r\n        y = this.top + this.height - 10\r\n        break\r\n      case 'left':\r\n        x = this.left + 10\r\n        y = this.top + 10 + referPercent * (this.height - 20)\r\n        break\r\n      case 'right':\r\n        x = this.left + this.width - 10\r\n        y = this.top + 10 + referPercent * (this.height - 20)\r\n        break\r\n    }\r\n    return { x: x, y: y }\r\n  }\r\n  calcShapePoints () {\r\n    let x1 = this.left + 10, y1 = this.top + 10\r\n    let x2 = this.left + this.width - 10, y2 = this.top + 10\r\n    let x3 = this.left + this.width - 10, y3 = this.top + this.height - 10\r\n    let x4 = this.left + 10, y4 = this.top + this.height - 10\r\n    return [ x1, y1, x2, y2, x3, y3, x4, y4 ]\r\n  }\r\n  getLineReference (x, y) {\r\n    let referPosition = null, referPercent = 0, position\r\n    let [ x1, y1, x2, y2, x3, y3, x4, y4 ] = this.calcShapePoints()\r\n    if (this.isPositionInLineArea(x, y)) {\r\n      if (y < y1) {\r\n        if (x < x1) {\r\n          referPosition = 'nwCorner'\r\n        }\r\n        else if (x > x2) {\r\n          referPosition = 'neCorner'\r\n        }\r\n        else {\r\n          referPosition = 'up'\r\n          referPercent = (x - x1) / (this.width - 20)\r\n        }\r\n      }\r\n      else if (y > y4) {\r\n        if (x < x4) {\r\n          referPosition = 'swCorner'\r\n        }\r\n        else if (x > x3) {\r\n          referPosition = 'seCorner'\r\n        }\r\n        else {\r\n          referPosition = 'down'\r\n          referPercent = (x - x4) / (this.width - 20)\r\n        }\r\n      }\r\n      else {\r\n        if (x < this.left + this.width / 2) {\r\n          referPosition = 'left'\r\n          referPercent = (y - this.top - 10) / (this.height - 20)\r\n        }\r\n        else {\r\n          referPosition = 'right'\r\n          referPercent = (y - this.top - 10) / (this.height - 20)\r\n        }\r\n      }\r\n    }\r\n    else if (this.isPositionInShape(x, y)) {\r\n      referPercent = 0.5\r\n      // check the position in which area of the shape\r\n      // the areas are shown below:\r\n      //  __\r\n      // |\\/|\r\n      // |/\\|\r\n      //  --\r\n      let lineRefer1 = (x - x3) / (x1 - x3) - (y - y3) / (y1 - y3)\r\n      let lineRefer2 = (x - x4) / (x2 - x4) - (y - y4) / (y2 - y4)\r\n      //let lineRefer1 = ((x - this.left - this.width + 10) / (20 - this.width)\r\n      //  - (y - this.top - this.height + 10) / (20 - this.height))\r\n      //let lineRefer2 = ((x - this.left - this.width + 10) / (20 - this.width)\r\n      //  - (y - this.top - 10) / (-20 + this.height))\r\n      if (lineRefer1 <= 0 && lineRefer2 <= 0) {\r\n        referPosition = 'up'\r\n      }\r\n      else if (lineRefer1 <= 0 && lineRefer2 >= 0) {\r\n        referPosition = 'right'\r\n      }\r\n      else if (lineRefer1 >= 0 && lineRefer2 >= 0) {\r\n        referPosition = 'down'\r\n      }\r\n      else {\r\n        referPosition = 'left'\r\n      }\r\n    }\r\n    else {\r\n      return null\r\n    }\r\n\r\n    position = this.calcLinePosition(referPosition, referPercent)\r\n    return {\r\n      referPosition: referPosition,\r\n      referPercent: referPercent,\r\n      position: position\r\n    }\r\n  }\r\n  resetLinesPosition () {\r\n    let lineData, position\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      lineData = this.relativeLines[i]\r\n      position = this.calcLinePosition(lineData.referPosition, lineData.referPercent)\r\n      if (lineData.type === 'src') {\r\n        lineData.line.resetSrcPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n      else {\r\n        lineData.line.resetDestPosition(position)\r\n        lineData.line.draw()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Basically, each shape behaves like this one\r\n// and these function must be contained for calling:\r\n// draw, judgeInShape, getLineReference, resetLinesPosition\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Process);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvcHJvY2Vzcy5qcz85MWJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFwZSBmcm9tICcuL3NoYXBlJ1xyXG5cclxuY2xhc3MgUHJvY2VzcyBleHRlbmRzIFNoYXBlIHtcclxuICBjb25zdHJ1Y3RvciAoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgc3VwZXIoZWwsIHR5cGUsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodClcclxuICB9XHJcbiAgZHJhdyAocGFkZGluZ0hvcml6b250YWwsIHBhZGRpbmdWZXJ0aWNhbCkge1xyXG4gICAgbGV0IGhvcml6b250YWwgPSB0eXBlb2YgcGFkZGluZ0hvcml6b250YWwgPT09ICd1bmRlZmluZWQnID8gMTAgOiBwYWRkaW5nSG9yaXpvbnRhbFxyXG4gICAgbGV0IHZlcnRpY2FsID0gdHlwZW9mIHBhZGRpbmdWZXJ0aWNhbCA9PT0gJ3VuZGVmaW5lZCcgPyAxMCA6IHBhZGRpbmdWZXJ0aWNhbFxyXG5cclxuICAgIHRoaXMucmVzZXREcmF3U3R5bGUoKVxyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KGhvcml6b250YWwsIHZlcnRpY2FsLCB0aGlzLndpZHRoIC0gMiAqIGhvcml6b250YWwsIHRoaXMuaGVpZ2h0IC0gMiAqIHZlcnRpY2FsKVxyXG4gICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICB0aGlzLmNvbnRleHQucmVjdChob3Jpem9udGFsLCB2ZXJ0aWNhbCwgdGhpcy53aWR0aCAtIDIgKiBob3Jpem9udGFsLCB0aGlzLmhlaWdodCAtIDIgKiB2ZXJ0aWNhbCk7XHJcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKClcclxuICB9XHJcbiAgaXNQb3NpdGlvbkluU2hhcGUgKHgsIHkpIHtcclxuICAgIHJldHVybiAoeCA+PSB0aGlzLmxlZnQgKyAxMCAmJiB4IDw9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMFxyXG4gICAgICAmJiB5ID49IHRoaXMudG9wICsgMTAgJiYgeSA8PSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTApXHJcbiAgfVxyXG4gIGlzUG9zaXRpb25JbkxpbmVBcmVhICh4LCB5KSB7XHJcbiAgICBpZiAodGhpcy5pc1Bvc2l0aW9uSW5TaGFwZSh4LCB5KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuICh4ID49IHRoaXMubGVmdCAmJiB4IDw9IHRoaXMubGVmdCArIHRoaXMud2lkdGhcclxuICAgICAgJiYgeSA+PSB0aGlzLnRvcCAmJiB5IDw9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQpXHJcbiAgfVxyXG4gIGp1ZGdlSW5TaGFwZSAoeCwgeSkge1xyXG4gICAgbGV0IHR5cGVcclxuICAgIHR5cGUgPSAodGhpcy5pc1Bvc2l0aW9uSW5TaGFwZSh4LCB5KSkgPyAnc2hhcGVCb2R5JyA6IG51bGxcclxuICAgIHR5cGUgPSAoIXR5cGUpID8gKCh0aGlzLmlzUG9zaXRpb25JbkxpbmVBcmVhKHgsIHkpKSA/ICdzaGFwZUxpbmVBcmVhJyA6ICdlbXB0eScpIDogdHlwZVxyXG4gICAgcmV0dXJuIHsgc2hhcGU6IHRoaXMsIHR5cGU6IHR5cGUgfVxyXG4gIH1cclxuXHJcbiAgLy8gRXZlcnkgc2hhcGUgcmVseSBvbiBpdCdzIG93biB3YXkgdG8gY2FsY3VsYXRlIGxpbmUgZW5kIHBvc2l0aW9uc1xyXG4gIC8vIGFuZCBhbGwgd2hhdCB0aGUgbGluZXMgbmVlZCB0byBnZXQgaXMganVzdCB0aGUgcG9zaXRpb25zLlxyXG5cclxuICAvLyBSZWZlclBvc2l0aW9uIGluY2x1ZGVzIHVwLCBkb3duLCBsZWZ0LCByaWdodCwgbndDb3JuZXIsIG5lQ29ybmVyLCBzZUNvcm5lciwgc3dDb3JuZXIuXHJcbiAgLy8gTm90ZSB0aGF0IHRoZSByZWZlclBlcmNlbnQgaXMgYmFzZWQgb24gaW5uZXIgd2lkdGggb2YgdGhlIHNoYXBlLlxyXG4gIGNhbGNMaW5lUG9zaXRpb24gKHJlZmVyUG9zaXRpb24sIHJlZmVyUGVyY2VudCkge1xyXG4gICAgbGV0IHgsIHlcclxuICAgIHN3aXRjaCAocmVmZXJQb3NpdGlvbikge1xyXG4gICAgICBjYXNlICdud0Nvcm5lcic6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIDEwXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgMTBcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICduZUNvcm5lcic6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMFxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIDEwXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnc2VDb3JuZXInOlxyXG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC0gMTBcclxuICAgICAgICB5ID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAtIDEwXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnc3dDb3JuZXInOlxyXG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyAxMFxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICd1cCc6XHJcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIDEwICsgcmVmZXJQZXJjZW50ICogKHRoaXMud2lkdGggLSAyMClcclxuICAgICAgICB5ID0gdGhpcy50b3AgKyAxMFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ2Rvd24nOlxyXG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyAxMCArIHJlZmVyUGVyY2VudCAqICh0aGlzLndpZHRoIC0gMjApXHJcbiAgICAgICAgeSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSAxMFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyAxMFxyXG4gICAgICAgIHkgPSB0aGlzLnRvcCArIDEwICsgcmVmZXJQZXJjZW50ICogKHRoaXMuaGVpZ2h0IC0gMjApXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC0gMTBcclxuICAgICAgICB5ID0gdGhpcy50b3AgKyAxMCArIHJlZmVyUGVyY2VudCAqICh0aGlzLmhlaWdodCAtIDIwKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH1cclxuICB9XHJcbiAgY2FsY1NoYXBlUG9pbnRzICgpIHtcclxuICAgIGxldCB4MSA9IHRoaXMubGVmdCArIDEwLCB5MSA9IHRoaXMudG9wICsgMTBcclxuICAgIGxldCB4MiA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMCwgeTIgPSB0aGlzLnRvcCArIDEwXHJcbiAgICBsZXQgeDMgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC0gMTAsIHkzID0gdGhpcy50b3AgKyB0aGlzLmhlaWdodCAtIDEwXHJcbiAgICBsZXQgeDQgPSB0aGlzLmxlZnQgKyAxMCwgeTQgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgIHJldHVybiBbIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCBdXHJcbiAgfVxyXG4gIGdldExpbmVSZWZlcmVuY2UgKHgsIHkpIHtcclxuICAgIGxldCByZWZlclBvc2l0aW9uID0gbnVsbCwgcmVmZXJQZXJjZW50ID0gMCwgcG9zaXRpb25cclxuICAgIGxldCBbIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCBdID0gdGhpcy5jYWxjU2hhcGVQb2ludHMoKVxyXG4gICAgaWYgKHRoaXMuaXNQb3NpdGlvbkluTGluZUFyZWEoeCwgeSkpIHtcclxuICAgICAgaWYgKHkgPCB5MSkge1xyXG4gICAgICAgIGlmICh4IDwgeDEpIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnbndDb3JuZXInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHggPiB4Mikge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICduZUNvcm5lcidcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ3VwJ1xyXG4gICAgICAgICAgcmVmZXJQZXJjZW50ID0gKHggLSB4MSkgLyAodGhpcy53aWR0aCAtIDIwKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh5ID4geTQpIHtcclxuICAgICAgICBpZiAoeCA8IHg0KSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ3N3Q29ybmVyJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh4ID4geDMpIHtcclxuICAgICAgICAgIHJlZmVyUG9zaXRpb24gPSAnc2VDb3JuZXInXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdkb3duJ1xyXG4gICAgICAgICAgcmVmZXJQZXJjZW50ID0gKHggLSB4NCkgLyAodGhpcy53aWR0aCAtIDIwKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoeCA8IHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyKSB7XHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uID0gJ2xlZnQnXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQgPSAoeSAtIHRoaXMudG9wIC0gMTApIC8gKHRoaXMuaGVpZ2h0IC0gMjApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdyaWdodCdcclxuICAgICAgICAgIHJlZmVyUGVyY2VudCA9ICh5IC0gdGhpcy50b3AgLSAxMCkgLyAodGhpcy5oZWlnaHQgLSAyMClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuaXNQb3NpdGlvbkluU2hhcGUoeCwgeSkpIHtcclxuICAgICAgcmVmZXJQZXJjZW50ID0gMC41XHJcbiAgICAgIC8vIGNoZWNrIHRoZSBwb3NpdGlvbiBpbiB3aGljaCBhcmVhIG9mIHRoZSBzaGFwZVxyXG4gICAgICAvLyB0aGUgYXJlYXMgYXJlIHNob3duIGJlbG93OlxyXG4gICAgICAvLyAgX19cclxuICAgICAgLy8gfFxcL3xcclxuICAgICAgLy8gfC9cXHxcclxuICAgICAgLy8gIC0tXHJcbiAgICAgIGxldCBsaW5lUmVmZXIxID0gKHggLSB4MykgLyAoeDEgLSB4MykgLSAoeSAtIHkzKSAvICh5MSAtIHkzKVxyXG4gICAgICBsZXQgbGluZVJlZmVyMiA9ICh4IC0geDQpIC8gKHgyIC0geDQpIC0gKHkgLSB5NCkgLyAoeTIgLSB5NClcclxuICAgICAgLy9sZXQgbGluZVJlZmVyMSA9ICgoeCAtIHRoaXMubGVmdCAtIHRoaXMud2lkdGggKyAxMCkgLyAoMjAgLSB0aGlzLndpZHRoKVxyXG4gICAgICAvLyAgLSAoeSAtIHRoaXMudG9wIC0gdGhpcy5oZWlnaHQgKyAxMCkgLyAoMjAgLSB0aGlzLmhlaWdodCkpXHJcbiAgICAgIC8vbGV0IGxpbmVSZWZlcjIgPSAoKHggLSB0aGlzLmxlZnQgLSB0aGlzLndpZHRoICsgMTApIC8gKDIwIC0gdGhpcy53aWR0aClcclxuICAgICAgLy8gIC0gKHkgLSB0aGlzLnRvcCAtIDEwKSAvICgtMjAgKyB0aGlzLmhlaWdodCkpXHJcbiAgICAgIGlmIChsaW5lUmVmZXIxIDw9IDAgJiYgbGluZVJlZmVyMiA8PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICd1cCdcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChsaW5lUmVmZXIxIDw9IDAgJiYgbGluZVJlZmVyMiA+PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdyaWdodCdcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChsaW5lUmVmZXIxID49IDAgJiYgbGluZVJlZmVyMiA+PSAwKSB7XHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbiA9ICdkb3duJ1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlZmVyUG9zaXRpb24gPSAnbGVmdCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgcG9zaXRpb24gPSB0aGlzLmNhbGNMaW5lUG9zaXRpb24ocmVmZXJQb3NpdGlvbiwgcmVmZXJQZXJjZW50KVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVmZXJQb3NpdGlvbjogcmVmZXJQb3NpdGlvbixcclxuICAgICAgcmVmZXJQZXJjZW50OiByZWZlclBlcmNlbnQsXHJcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxyXG4gICAgfVxyXG4gIH1cclxuICByZXNldExpbmVzUG9zaXRpb24gKCkge1xyXG4gICAgbGV0IGxpbmVEYXRhLCBwb3NpdGlvblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aXZlTGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGluZURhdGEgPSB0aGlzLnJlbGF0aXZlTGluZXNbaV1cclxuICAgICAgcG9zaXRpb24gPSB0aGlzLmNhbGNMaW5lUG9zaXRpb24obGluZURhdGEucmVmZXJQb3NpdGlvbiwgbGluZURhdGEucmVmZXJQZXJjZW50KVxyXG4gICAgICBpZiAobGluZURhdGEudHlwZSA9PT0gJ3NyYycpIHtcclxuICAgICAgICBsaW5lRGF0YS5saW5lLnJlc2V0U3JjUG9zaXRpb24ocG9zaXRpb24pXHJcbiAgICAgICAgbGluZURhdGEubGluZS5kcmF3KClcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsaW5lRGF0YS5saW5lLnJlc2V0RGVzdFBvc2l0aW9uKHBvc2l0aW9uKVxyXG4gICAgICAgIGxpbmVEYXRhLmxpbmUuZHJhdygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEJhc2ljYWxseSwgZWFjaCBzaGFwZSBiZWhhdmVzIGxpa2UgdGhpcyBvbmVcclxuLy8gYW5kIHRoZXNlIGZ1bmN0aW9uIG11c3QgYmUgY29udGFpbmVkIGZvciBjYWxsaW5nOlxyXG4vLyBkcmF3LCBqdWRnZUluU2hhcGUsIGdldExpbmVSZWZlcmVuY2UsIHJlc2V0TGluZXNQb3NpdGlvblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvY2Vzc1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFwZXMvcHJvY2Vzcy5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__ = __webpack_require__(2);\n\r\n\r\nlet shapeId = 0\r\n\r\nclass Shape {\r\n  constructor (el, type, left, top, width, height) {\r\n    this.id = 'shape' + shapeId++\r\n    this.el = el\r\n    this.canvas = el.getElementsByTagName('canvas')[0]\r\n    this.shapeText = el.getElementsByClassName('shape-text')[0]\r\n    this.context = this.canvas.getContext('2d')\r\n    this.type = type\r\n    this.left = left\r\n    this.top = top\r\n\r\n    let temp = Object(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* getDefaultSetting */])(this.type)\r\n    this.shapeName = temp.shapeName\r\n    if (typeof width !== 'undefined') {\r\n      this.width = width\r\n      this.height = height\r\n    }\r\n    else {\r\n      this.width = temp.width\r\n      this.height = temp.height\r\n    }\r\n\r\n    this.fillStyle = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].fillStyle\r\n    this.strokeStyle = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].strokeStyle\r\n    this.lineWidth = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineWidth\r\n    this.lineDash = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineDash\r\n\r\n    this.relativeLines = []\r\n\r\n    this.init()\r\n  }\r\n  destruct () {\r\n    this.remove()\r\n    this.callLinesToDetach()\r\n  }\r\n  init () {\r\n    this.el.style.width = this.width + 'px'\r\n    this.el.style.height = this.height + 'px'\r\n    this.canvas.width = this.width\r\n    this.canvas.height = this.height\r\n    //this.context.lineCap = 'round'\r\n    //this.context.lineJoin = 'round'\r\n  }\r\n  append () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    let sibling = document.getElementById('shape_controls')\r\n\r\n    parent.insertBefore(this.el, sibling)\r\n  }\r\n  remove () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    parent.removeChild(this.el)\r\n  }\r\n  setPosition (left, top) {\r\n    this.left = left\r\n    this.top = top\r\n    this.el.style.left = this.left + 'px'\r\n    this.el.style.top = this.top + 'px'\r\n  }\r\n  setSize (width, height) {\r\n    this.canvas.width = this.el.width = this.width = width\r\n    this.el.style.width = this.canvas.style.width = width + 'px'\r\n    this.canvas.height = this.el.height = this.height = height\r\n    this.el.style.height = this.canvas.style.height = height + 'px'\r\n  }\r\n  resetDrawStyle () {\r\n    this.context.fillStyle = this.fillStyle\r\n    this.context.strokeStyle = this.strokeStyle\r\n    this.context.lineWidth = this.lineWidth\r\n    this.context.setLineDash(this.lineDash)\r\n  }\r\n  setFillStyle (fillStyle) {\r\n    this.fillStyle = fillStyle\r\n    this.resetDrawStyle()\r\n  }\r\n  setStrokeStyle (strokeStyle) {\r\n    this.strokeStyle = strokeStyle\r\n    this.resetDrawStyle()\r\n  }\r\n  setLineWidth (lineWidth) {\r\n    this.lineWidth = lineWidth\r\n    this.resetDrawStyle()\r\n  }\r\n  setLineDash (lineDash) {\r\n    this.lineDash = lineDash\r\n    this.resetDrawStyle()\r\n  }\r\n  addLine (line, type, referPosition, referPercent) {\r\n    this.relativeLines.push({\r\n      line: line,\r\n      // type values: 'src', 'dest'\r\n      type: type,\r\n      referPosition: referPosition,\r\n      referPercent: referPercent\r\n    })\r\n  }\r\n  getLineData (line) {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (line === this.relativeLines[i].line) {\r\n        return this.relativeLines[i]\r\n      }\r\n    }\r\n  }\r\n  deleteLine (line) {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (line === this.relativeLines[i].line) {\r\n        return this.relativeLines.splice(i, 1)[0]\r\n      }\r\n    }\r\n  }\r\n  callLinesToDetach () {\r\n    for (let i = 0; i < this.relativeLines.length; i++) {\r\n      if (this.relativeLines[i].type === 'src') {\r\n        this.relativeLines[i].line.src.shape = null\r\n      }\r\n      else {\r\n        this.relativeLines[i].line.dest.shape = null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Shape);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zaGFwZXMvc2hhcGUuanM/ZTBlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldERlZmF1bHRTZXR0aW5nLCBkcmF3aW5nRGVmYXVsdFNldHRpbmd9IGZyb20gJy4vc2hhcGVEZWZhdWx0U2V0dGluZydcclxuXHJcbmxldCBzaGFwZUlkID0gMFxyXG5cclxuY2xhc3MgU2hhcGUge1xyXG4gIGNvbnN0cnVjdG9yIChlbCwgdHlwZSwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB0aGlzLmlkID0gJ3NoYXBlJyArIHNoYXBlSWQrK1xyXG4gICAgdGhpcy5lbCA9IGVsXHJcbiAgICB0aGlzLmNhbnZhcyA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXVxyXG4gICAgdGhpcy5zaGFwZVRleHQgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaGFwZS10ZXh0JylbMF1cclxuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICAgIHRoaXMudHlwZSA9IHR5cGVcclxuICAgIHRoaXMubGVmdCA9IGxlZnRcclxuICAgIHRoaXMudG9wID0gdG9wXHJcblxyXG4gICAgbGV0IHRlbXAgPSBnZXREZWZhdWx0U2V0dGluZyh0aGlzLnR5cGUpXHJcbiAgICB0aGlzLnNoYXBlTmFtZSA9IHRlbXAuc2hhcGVOYW1lXHJcbiAgICBpZiAodHlwZW9mIHdpZHRoICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0aGlzLndpZHRoID0gd2lkdGhcclxuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLndpZHRoID0gdGVtcC53aWR0aFxyXG4gICAgICB0aGlzLmhlaWdodCA9IHRlbXAuaGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5maWxsU3R5bGUgPSBkcmF3aW5nRGVmYXVsdFNldHRpbmcuZmlsbFN0eWxlXHJcbiAgICB0aGlzLnN0cm9rZVN0eWxlID0gZHJhd2luZ0RlZmF1bHRTZXR0aW5nLnN0cm9rZVN0eWxlXHJcbiAgICB0aGlzLmxpbmVXaWR0aCA9IGRyYXdpbmdEZWZhdWx0U2V0dGluZy5saW5lV2lkdGhcclxuICAgIHRoaXMubGluZURhc2ggPSBkcmF3aW5nRGVmYXVsdFNldHRpbmcubGluZURhc2hcclxuXHJcbiAgICB0aGlzLnJlbGF0aXZlTGluZXMgPSBbXVxyXG5cclxuICAgIHRoaXMuaW5pdCgpXHJcbiAgfVxyXG4gIGRlc3RydWN0ICgpIHtcclxuICAgIHRoaXMucmVtb3ZlKClcclxuICAgIHRoaXMuY2FsbExpbmVzVG9EZXRhY2goKVxyXG4gIH1cclxuICBpbml0ICgpIHtcclxuICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCdcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aFxyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHRcclxuICAgIC8vdGhpcy5jb250ZXh0LmxpbmVDYXAgPSAncm91bmQnXHJcbiAgICAvL3RoaXMuY29udGV4dC5saW5lSm9pbiA9ICdyb3VuZCdcclxuICB9XHJcbiAgYXBwZW5kICgpIHtcclxuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzaWduZXJfY2FudmFzJylcclxuICAgIGxldCBzaWJsaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoYXBlX2NvbnRyb2xzJylcclxuXHJcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHNpYmxpbmcpXHJcbiAgfVxyXG4gIHJlbW92ZSAoKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2lnbmVyX2NhbnZhcycpXHJcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5lbClcclxuICB9XHJcbiAgc2V0UG9zaXRpb24gKGxlZnQsIHRvcCkge1xyXG4gICAgdGhpcy5sZWZ0ID0gbGVmdFxyXG4gICAgdGhpcy50b3AgPSB0b3BcclxuICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9IHRoaXMubGVmdCArICdweCdcclxuICAgIHRoaXMuZWwuc3R5bGUudG9wID0gdGhpcy50b3AgKyAncHgnXHJcbiAgfVxyXG4gIHNldFNpemUgKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5lbC53aWR0aCA9IHRoaXMud2lkdGggPSB3aWR0aFxyXG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnXHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmVsLmhlaWdodCA9IHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XHJcbiAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcclxuICB9XHJcbiAgcmVzZXREcmF3U3R5bGUgKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlXHJcbiAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlXHJcbiAgICB0aGlzLmNvbnRleHQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGhcclxuICAgIHRoaXMuY29udGV4dC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKVxyXG4gIH1cclxuICBzZXRGaWxsU3R5bGUgKGZpbGxTdHlsZSkge1xyXG4gICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGVcclxuICAgIHRoaXMucmVzZXREcmF3U3R5bGUoKVxyXG4gIH1cclxuICBzZXRTdHJva2VTdHlsZSAoc3Ryb2tlU3R5bGUpIHtcclxuICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZVxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgfVxyXG4gIHNldExpbmVXaWR0aCAobGluZVdpZHRoKSB7XHJcbiAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aFxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgfVxyXG4gIHNldExpbmVEYXNoIChsaW5lRGFzaCkge1xyXG4gICAgdGhpcy5saW5lRGFzaCA9IGxpbmVEYXNoXHJcbiAgICB0aGlzLnJlc2V0RHJhd1N0eWxlKClcclxuICB9XHJcbiAgYWRkTGluZSAobGluZSwgdHlwZSwgcmVmZXJQb3NpdGlvbiwgcmVmZXJQZXJjZW50KSB7XHJcbiAgICB0aGlzLnJlbGF0aXZlTGluZXMucHVzaCh7XHJcbiAgICAgIGxpbmU6IGxpbmUsXHJcbiAgICAgIC8vIHR5cGUgdmFsdWVzOiAnc3JjJywgJ2Rlc3QnXHJcbiAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgIHJlZmVyUG9zaXRpb246IHJlZmVyUG9zaXRpb24sXHJcbiAgICAgIHJlZmVyUGVyY2VudDogcmVmZXJQZXJjZW50XHJcbiAgICB9KVxyXG4gIH1cclxuICBnZXRMaW5lRGF0YSAobGluZSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aXZlTGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGxpbmUgPT09IHRoaXMucmVsYXRpdmVMaW5lc1tpXS5saW5lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsYXRpdmVMaW5lc1tpXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRlbGV0ZUxpbmUgKGxpbmUpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWxhdGl2ZUxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChsaW5lID09PSB0aGlzLnJlbGF0aXZlTGluZXNbaV0ubGluZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbGF0aXZlTGluZXMuc3BsaWNlKGksIDEpWzBdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgY2FsbExpbmVzVG9EZXRhY2ggKCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlbGF0aXZlTGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMucmVsYXRpdmVMaW5lc1tpXS50eXBlID09PSAnc3JjJykge1xyXG4gICAgICAgIHRoaXMucmVsYXRpdmVMaW5lc1tpXS5saW5lLnNyYy5zaGFwZSA9IG51bGxcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB0aGlzLnJlbGF0aXZlTGluZXNbaV0ubGluZS5kZXN0LnNoYXBlID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaGFwZVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFwZXMvc2hhcGUuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_calculation_calcPosition__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\nlet lineId = 0\r\nconst lineAreaWidth = 7\r\n// Delta is a number which is small enough\r\n// that it can be used while judging whether\r\n// two floating numbers are equal.\r\nconst delta = 0.1\r\n\r\n// Cubic bezier curve:\r\n// begin point: (x0,y0), control points: (x1,y1), (x2,y2), end point: (x3,y3)\r\n// x(t) = ax * t ^ 3 + bx * t ^ 2 + cx * t + x0\r\n// y(t) = ay * t ^ 3 + by * t ^ 2 + cy * t + y0\r\n// x1 = x0 + cx / 3\r\n// x2 = x1 + ( cx + bx ) / 3\r\n// x3 = x0 + cx + bx + ax\r\n// y1 = y0 + cy / 3\r\n// y2 = y1 + ( cy + by ) / 3\r\n// y3 = y0 + cy + by + ay\r\n// cx = 3 * ( x1 - x0 )\r\n// bx = 3 * ( x2 - x1 ) - cx\r\n// ax = x3 - x0 - cx - bx\r\n// cy = 3 * ( y1 - y0 )\r\n// by = 3 * ( y2 - y1 ) - cy\r\n// ay = y3 - y0 - cy - by\r\n// x(t) = (1-t)^3x0 + 3t(1-t)^2x1 + 3t^2(1-t)x2 + t^3x3\r\n// y(t) = (1-t)^3y0 + 3t(1-t)^2y1 + 3t^2(1-t)y2 + t^3y3\r\n\r\nclass Line {\r\n  constructor (el, src, dest, settings) {\r\n    this.id = 'line' + lineId++\r\n    this.el = el\r\n    this.canvas = el.getElementsByTagName('canvas')[0]\r\n    this.shapeText = el.getElementsByClassName('shape-text')[0]\r\n    this.context = this.canvas.getContext('2d')\r\n    // src and dest contain shape, position\r\n    this.src = src\r\n    this.dest = dest\r\n\r\n    this.width = 0\r\n    this.height = 0\r\n    this.left = 0\r\n    this.top = 0\r\n\r\n    if (settings) {\r\n\r\n    }\r\n    let temp = Object(__WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"b\" /* getDefaultSetting */])('line')\r\n    this.linkerType = temp.linkerType\r\n    this.arrowType = temp.arrowType\r\n\r\n    this.strokeStyle = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].strokeStyle\r\n    this.lineWidth = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineWidth\r\n    this.lineDash = __WEBPACK_IMPORTED_MODULE_0__shapeDefaultSetting__[\"a\" /* drawingDefaultSetting */].lineDash\r\n\r\n    this.drawBeginPosition = {}\r\n    this.drawEndPosition = {}\r\n    this.bezierControlPoints = []\r\n\r\n    this.init()\r\n  }\r\n  destruct () {\r\n    this.remove()\r\n    this.callShapesToDetach()\r\n  }\r\n  init () {\r\n    this.resetCanvas()\r\n  }\r\n  resetSrcPosition (position) {\r\n    this.src.position = position\r\n    this.resetCanvas()\r\n  }\r\n  resetDestPosition (position) {\r\n    this.dest.position = position\r\n    this.resetCanvas()\r\n  }\r\n  resetCanvas () {\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        let width = Math.abs(this.src.position.x - this.dest.position.x) + 20\r\n        let height = Math.abs(this.src.position.y - this.dest.position.y) + 20\r\n\r\n        this.canvas.width = this.el.width = this.width = width\r\n        this.el.style.width = this.canvas.style.width = width + 'px'\r\n        this.canvas.height = this.el.height = this.height = height\r\n        this.el.style.height = this.canvas.style.height = height + 'px'\r\n\r\n        let x, y\r\n        if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n          x = this.src.position.x - 10\r\n        }\r\n        else {\r\n          x = this.dest.position.x - 10\r\n        }\r\n        if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n          y = this.src.position.y - 10\r\n        }\r\n        else {\r\n          y = this.dest.position.y - 10\r\n        }\r\n        this.setPosition(x, y)\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  resetSrc (src) {\r\n    this.src = src\r\n    this.resetCanvas()\r\n  }\r\n  resetDest (dest) {\r\n    this.dest = dest\r\n    this.resetCanvas()\r\n  }\r\n  setPosition (x, y) {\r\n    this.left = x\r\n    this.top = y\r\n    this.el.style.left = x + 'px'\r\n    this.el.style.top = y + 'px'\r\n  }\r\n  append () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    let sibling = document.getElementById('shape_controls')\r\n\r\n    parent.insertBefore(this.el, sibling)\r\n  }\r\n  remove () {\r\n    let parent = document.getElementById('designer_canvas')\r\n    parent.removeChild(this.el)\r\n  }\r\n  resetDrawStyle () {\r\n    this.context.strokeStyle = this.strokeStyle\r\n    this.context.lineWidth = this.lineWidth\r\n    this.context.setLineDash(this.lineDash)\r\n  }\r\n  drawArrow (angle) {\r\n    this.context.translate(this.drawEndPosition.x, this.drawEndPosition.y)\r\n    this.context.rotate(angle)\r\n    this.context.beginPath()\r\n    this.context.moveTo(0, 0)\r\n    this.context.lineTo(5, 14)\r\n    this.context.lineTo(-5, 14)\r\n    this.context.fillStyle = '#000000'\r\n    this.context.fill()\r\n    this.context.translate(-this.drawEndPosition.x, -this.drawEndPosition.y)\r\n  }\r\n  drawReferMark (end) {\r\n    let position\r\n    if (end === 'src') {\r\n      position = {\r\n        x: this.drawBeginPosition.x,\r\n        y: this.drawBeginPosition.y\r\n      }\r\n    }\r\n    else {\r\n      position = {\r\n        x: this.drawEndPosition.x,\r\n        y: this.drawEndPosition.y\r\n      }\r\n    }\r\n    this.context.beginPath()\r\n    this.context.arc(position.x, position.y, 10, 0, 2 * Math.PI)\r\n    this.context.fillStyle = 'rgba(237, 65, 65, 0.5)'\r\n    this.context.fill()\r\n  }\r\n  calcDrawingBeginEndPoints () {\r\n    if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n      this.drawBeginPosition.x = 10\r\n      this.drawEndPosition.x = this.width - 10\r\n    }\r\n    else {\r\n      this.drawBeginPosition.x = this.width - 10\r\n      this.drawEndPosition.x = 10\r\n    }\r\n    if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n      this.drawBeginPosition.y = 10\r\n      this.drawEndPosition.y = this.height - 10\r\n    }\r\n    else {\r\n      this.drawBeginPosition.y = this.height - 10\r\n      this.drawEndPosition.y = 10\r\n    }\r\n  }\r\n  calcJudgingBeginEndPoints () {\r\n    let x1, x2, y1, y2\r\n    if ((this.dest.position.x - this.src.position.x) >= 0) {\r\n      x1 = this.left + 10\r\n      x2 = this.left + this.width - 10\r\n    }\r\n    else {\r\n      x1 = this.left + this.width - 10\r\n      x2 = this.left + 10\r\n    }\r\n    if ((this.dest.position.y - this.src.position.y) >= 0) {\r\n      y1 = this.top + 10\r\n      y2 = this.top + this.height - 10\r\n    }\r\n    else {\r\n      y1 = this.top + this.height - 10\r\n      y2 = this.top + 10\r\n    }\r\n    return [ x1, y1, x2, y2 ]\r\n  }\r\n  clearCanvas () {\r\n    this.canvas.width = this.width\r\n  }\r\n  calcArrowAngle () {\r\n    let angle\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        let offsetX = this.dest.position.x - this.src.position.x\r\n        let offsetY = this.dest.position.y - this.src.position.y\r\n        if (offsetY === 0) {\r\n          angle = (offsetX >= 0) ? Math.PI / 2 : - Math.PI / 2\r\n        }\r\n        else if (offsetY < 0) {\r\n          angle = Math.atan(offsetX / -offsetY)\r\n        }\r\n        else {\r\n          angle = Math.PI - Math.atan(offsetX / offsetY)\r\n        }\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n    return angle\r\n  }\r\n  drawLineBody () {\r\n    switch (this.linkerType) {\r\n      case 'straight':\r\n        this.context.beginPath()\r\n        this.context.moveTo(this.drawBeginPosition.x, this.drawBeginPosition.y)\r\n        this.context.lineTo(this.drawEndPosition.x, this.drawEndPosition.y)\r\n        this.context.stroke()\r\n        break;\r\n      case 'bezier':\r\n        this.context.beginPath()\r\n        this.context.moveTo(this.drawBeginPosition.x, this.drawBeginPosition.y)\r\n        //this.context.bezierCurveTo()\r\n        break;\r\n    }\r\n  }\r\n  draw (referMark, isSelected) {\r\n    this.clearCanvas()\r\n    this.resetDrawStyle()\r\n    this.calcDrawingBeginEndPoints()\r\n\r\n    if (referMark) {\r\n      this.drawReferMark(referMark)\r\n    }\r\n\r\n    this.drawLineBody()\r\n    if (isSelected) {\r\n      this.context.strokeStyle = 'rgba(237, 65, 65, 0.15)'\r\n      this.context.lineWidth = 6\r\n      this.drawLineBody()\r\n    }\r\n\r\n    this.drawArrow(this.calcArrowAngle())\r\n  }\r\n  // Judge whether a point is in the rectangle area which is covered by\r\n  isPointInLineRectangle (x, y) {\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    let xBig = (x1 >= x2) ? x1 : x2\r\n    let xSmall = (xBig === x2) ? x1 : x2\r\n    let yBig = (y1 >= y2) ? y1 : y2\r\n    let ySmall = (yBig === y2) ? y1 : y2\r\n\r\n    // The calculated result of point might not be accurate,\r\n    // it will effect the judgement when x1 === x2 or y1 === y2.\r\n    // So, it requires a small enough number to help.\r\n    return (x <= xBig + delta && x >= xSmall - delta\r\n      && y <= yBig + delta && y >= ySmall - delta)\r\n  }\r\n  isInLine (x, y, endExcluded) {\r\n    if (!endExcluded) {\r\n      if (this.isInLineEnd(x, y)) {\r\n        return false\r\n      }\r\n    }\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    switch  (this.linkerType) {\r\n      case 'straight':\r\n        // Calculate the distance from point to line.\r\n        let distance = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"a\" /* calcPointToLineDistance */])([x, y], [x1, y1, x2, y2])\r\n        let foot = Object(__WEBPACK_IMPORTED_MODULE_2__core_calculation_calcPosition__[\"a\" /* calcPointToLineFoot */])([x, y], [x1, y1, x2, y2])\r\n\r\n        return (distance <= lineAreaWidth && distance >= -lineAreaWidth\r\n          && this.isPointInLineRectangle(foot.x, foot.y))\r\n\r\n        break;\r\n      case 'bezier':\r\n        break;\r\n    }\r\n  }\r\n  isInLineEnd (x, y) {\r\n    let [ x1, y1, x2, y2 ] = this.calcJudgingBeginEndPoints()\r\n    let distanceSrc = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"b\" /* calcPointToPointDistance */])([x, y], [x1, y1])\r\n    let distanceDest = Object(__WEBPACK_IMPORTED_MODULE_1__core_calculation_calcDistance__[\"b\" /* calcPointToPointDistance */])([x, y], [x2, y2])\r\n\r\n    if (distanceDest <= lineAreaWidth) {\r\n     return 'lineDest'\r\n    }\r\n    else if (distanceSrc <= lineAreaWidth) {\r\n      return 'lineSrc'\r\n    }\r\n    return null\r\n  }\r\n  judgeInShape (x, y) {\r\n    let type = this.isInLineEnd(x, y)\r\n    if (!type) {\r\n      type = this.isInLine(x, y, true) ? 'lineBody' : 'empty'\r\n    }\r\n    return { shape: this, type: type }\r\n  }\r\n  callShapesToDetach () {\r\n    if (this.src.shape) {\r\n      this.src.shape.deleteLine(this)\r\n    }\r\n    if (this.dest.shape) {\r\n      this.dest.shape.deleteLine(this)\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Line);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGVzL2xpbmUuanM/MDFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldERlZmF1bHRTZXR0aW5nLCBkcmF3aW5nRGVmYXVsdFNldHRpbmd9IGZyb20gJy4vc2hhcGVEZWZhdWx0U2V0dGluZydcclxuaW1wb3J0IHtjYWxjUG9pbnRUb1BvaW50RGlzdGFuY2UsIGNhbGNQb2ludFRvTGluZURpc3RhbmNlfSBmcm9tIFwiLi4vY29yZS9jYWxjdWxhdGlvbi9jYWxjRGlzdGFuY2VcIjtcclxuaW1wb3J0IHtjYWxjUG9pbnRUb0xpbmVGb290fSBmcm9tIFwiLi4vY29yZS9jYWxjdWxhdGlvbi9jYWxjUG9zaXRpb25cIjtcclxuXHJcbmxldCBsaW5lSWQgPSAwXHJcbmNvbnN0IGxpbmVBcmVhV2lkdGggPSA3XHJcbi8vIERlbHRhIGlzIGEgbnVtYmVyIHdoaWNoIGlzIHNtYWxsIGVub3VnaFxyXG4vLyB0aGF0IGl0IGNhbiBiZSB1c2VkIHdoaWxlIGp1ZGdpbmcgd2hldGhlclxyXG4vLyB0d28gZmxvYXRpbmcgbnVtYmVycyBhcmUgZXF1YWwuXHJcbmNvbnN0IGRlbHRhID0gMC4xXHJcblxyXG4vLyBDdWJpYyBiZXppZXIgY3VydmU6XHJcbi8vIGJlZ2luIHBvaW50OiAoeDAseTApLCBjb250cm9sIHBvaW50czogKHgxLHkxKSwgKHgyLHkyKSwgZW5kIHBvaW50OiAoeDMseTMpXHJcbi8vIHgodCkgPSBheCAqIHQgXiAzICsgYnggKiB0IF4gMiArIGN4ICogdCArIHgwXHJcbi8vIHkodCkgPSBheSAqIHQgXiAzICsgYnkgKiB0IF4gMiArIGN5ICogdCArIHkwXHJcbi8vIHgxID0geDAgKyBjeCAvIDNcclxuLy8geDIgPSB4MSArICggY3ggKyBieCApIC8gM1xyXG4vLyB4MyA9IHgwICsgY3ggKyBieCArIGF4XHJcbi8vIHkxID0geTAgKyBjeSAvIDNcclxuLy8geTIgPSB5MSArICggY3kgKyBieSApIC8gM1xyXG4vLyB5MyA9IHkwICsgY3kgKyBieSArIGF5XHJcbi8vIGN4ID0gMyAqICggeDEgLSB4MCApXHJcbi8vIGJ4ID0gMyAqICggeDIgLSB4MSApIC0gY3hcclxuLy8gYXggPSB4MyAtIHgwIC0gY3ggLSBieFxyXG4vLyBjeSA9IDMgKiAoIHkxIC0geTAgKVxyXG4vLyBieSA9IDMgKiAoIHkyIC0geTEgKSAtIGN5XHJcbi8vIGF5ID0geTMgLSB5MCAtIGN5IC0gYnlcclxuLy8geCh0KSA9ICgxLXQpXjN4MCArIDN0KDEtdCleMngxICsgM3ReMigxLXQpeDIgKyB0XjN4M1xyXG4vLyB5KHQpID0gKDEtdCleM3kwICsgM3QoMS10KV4yeTEgKyAzdF4yKDEtdCl5MiArIHReM3kzXHJcblxyXG5jbGFzcyBMaW5lIHtcclxuICBjb25zdHJ1Y3RvciAoZWwsIHNyYywgZGVzdCwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuaWQgPSAnbGluZScgKyBsaW5lSWQrK1xyXG4gICAgdGhpcy5lbCA9IGVsXHJcbiAgICB0aGlzLmNhbnZhcyA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXVxyXG4gICAgdGhpcy5zaGFwZVRleHQgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaGFwZS10ZXh0JylbMF1cclxuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICAgIC8vIHNyYyBhbmQgZGVzdCBjb250YWluIHNoYXBlLCBwb3NpdGlvblxyXG4gICAgdGhpcy5zcmMgPSBzcmNcclxuICAgIHRoaXMuZGVzdCA9IGRlc3RcclxuXHJcbiAgICB0aGlzLndpZHRoID0gMFxyXG4gICAgdGhpcy5oZWlnaHQgPSAwXHJcbiAgICB0aGlzLmxlZnQgPSAwXHJcbiAgICB0aGlzLnRvcCA9IDBcclxuXHJcbiAgICBpZiAoc2V0dGluZ3MpIHtcclxuXHJcbiAgICB9XHJcbiAgICBsZXQgdGVtcCA9IGdldERlZmF1bHRTZXR0aW5nKCdsaW5lJylcclxuICAgIHRoaXMubGlua2VyVHlwZSA9IHRlbXAubGlua2VyVHlwZVxyXG4gICAgdGhpcy5hcnJvd1R5cGUgPSB0ZW1wLmFycm93VHlwZVxyXG5cclxuICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSBkcmF3aW5nRGVmYXVsdFNldHRpbmcuc3Ryb2tlU3R5bGVcclxuICAgIHRoaXMubGluZVdpZHRoID0gZHJhd2luZ0RlZmF1bHRTZXR0aW5nLmxpbmVXaWR0aFxyXG4gICAgdGhpcy5saW5lRGFzaCA9IGRyYXdpbmdEZWZhdWx0U2V0dGluZy5saW5lRGFzaFxyXG5cclxuICAgIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24gPSB7fVxyXG4gICAgdGhpcy5kcmF3RW5kUG9zaXRpb24gPSB7fVxyXG4gICAgdGhpcy5iZXppZXJDb250cm9sUG9pbnRzID0gW11cclxuXHJcbiAgICB0aGlzLmluaXQoKVxyXG4gIH1cclxuICBkZXN0cnVjdCAoKSB7XHJcbiAgICB0aGlzLnJlbW92ZSgpXHJcbiAgICB0aGlzLmNhbGxTaGFwZXNUb0RldGFjaCgpXHJcbiAgfVxyXG4gIGluaXQgKCkge1xyXG4gICAgdGhpcy5yZXNldENhbnZhcygpXHJcbiAgfVxyXG4gIHJlc2V0U3JjUG9zaXRpb24gKHBvc2l0aW9uKSB7XHJcbiAgICB0aGlzLnNyYy5wb3NpdGlvbiA9IHBvc2l0aW9uXHJcbiAgICB0aGlzLnJlc2V0Q2FudmFzKClcclxuICB9XHJcbiAgcmVzZXREZXN0UG9zaXRpb24gKHBvc2l0aW9uKSB7XHJcbiAgICB0aGlzLmRlc3QucG9zaXRpb24gPSBwb3NpdGlvblxyXG4gICAgdGhpcy5yZXNldENhbnZhcygpXHJcbiAgfVxyXG4gIHJlc2V0Q2FudmFzICgpIHtcclxuICAgIHN3aXRjaCAodGhpcy5saW5rZXJUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N0cmFpZ2h0JzpcclxuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmFicyh0aGlzLnNyYy5wb3NpdGlvbi54IC0gdGhpcy5kZXN0LnBvc2l0aW9uLngpICsgMjBcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5hYnModGhpcy5zcmMucG9zaXRpb24ueSAtIHRoaXMuZGVzdC5wb3NpdGlvbi55KSArIDIwXHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5lbC53aWR0aCA9IHRoaXMud2lkdGggPSB3aWR0aFxyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4J1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuZWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPSBoZWlnaHRcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcclxuXHJcbiAgICAgICAgbGV0IHgsIHlcclxuICAgICAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi54IC0gdGhpcy5zcmMucG9zaXRpb24ueCkgPj0gMCkge1xyXG4gICAgICAgICAgeCA9IHRoaXMuc3JjLnBvc2l0aW9uLnggLSAxMFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHggPSB0aGlzLmRlc3QucG9zaXRpb24ueCAtIDEwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgodGhpcy5kZXN0LnBvc2l0aW9uLnkgLSB0aGlzLnNyYy5wb3NpdGlvbi55KSA+PSAwKSB7XHJcbiAgICAgICAgICB5ID0gdGhpcy5zcmMucG9zaXRpb24ueSAtIDEwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgeSA9IHRoaXMuZGVzdC5wb3NpdGlvbi55IC0gMTBcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih4LCB5KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdiZXppZXInOlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXNldFNyYyAoc3JjKSB7XHJcbiAgICB0aGlzLnNyYyA9IHNyY1xyXG4gICAgdGhpcy5yZXNldENhbnZhcygpXHJcbiAgfVxyXG4gIHJlc2V0RGVzdCAoZGVzdCkge1xyXG4gICAgdGhpcy5kZXN0ID0gZGVzdFxyXG4gICAgdGhpcy5yZXNldENhbnZhcygpXHJcbiAgfVxyXG4gIHNldFBvc2l0aW9uICh4LCB5KSB7XHJcbiAgICB0aGlzLmxlZnQgPSB4XHJcbiAgICB0aGlzLnRvcCA9IHlcclxuICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9IHggKyAncHgnXHJcbiAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IHkgKyAncHgnXHJcbiAgfVxyXG4gIGFwcGVuZCAoKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2lnbmVyX2NhbnZhcycpXHJcbiAgICBsZXQgc2libGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGFwZV9jb250cm9scycpXHJcblxyXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCBzaWJsaW5nKVxyXG4gIH1cclxuICByZW1vdmUgKCkge1xyXG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcl9jYW52YXMnKVxyXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMuZWwpXHJcbiAgfVxyXG4gIHJlc2V0RHJhd1N0eWxlICgpIHtcclxuICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGVcclxuICAgIHRoaXMuY29udGV4dC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aFxyXG4gICAgdGhpcy5jb250ZXh0LnNldExpbmVEYXNoKHRoaXMubGluZURhc2gpXHJcbiAgfVxyXG4gIGRyYXdBcnJvdyAoYW5nbGUpIHtcclxuICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGUodGhpcy5kcmF3RW5kUG9zaXRpb24ueCwgdGhpcy5kcmF3RW5kUG9zaXRpb24ueSlcclxuICAgIHRoaXMuY29udGV4dC5yb3RhdGUoYW5nbGUpXHJcbiAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgIHRoaXMuY29udGV4dC5tb3ZlVG8oMCwgMClcclxuICAgIHRoaXMuY29udGV4dC5saW5lVG8oNSwgMTQpXHJcbiAgICB0aGlzLmNvbnRleHQubGluZVRvKC01LCAxNClcclxuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMDAwMCdcclxuICAgIHRoaXMuY29udGV4dC5maWxsKClcclxuICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGUoLXRoaXMuZHJhd0VuZFBvc2l0aW9uLngsIC10aGlzLmRyYXdFbmRQb3NpdGlvbi55KVxyXG4gIH1cclxuICBkcmF3UmVmZXJNYXJrIChlbmQpIHtcclxuICAgIGxldCBwb3NpdGlvblxyXG4gICAgaWYgKGVuZCA9PT0gJ3NyYycpIHtcclxuICAgICAgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi54LFxyXG4gICAgICAgIHk6IHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogdGhpcy5kcmF3RW5kUG9zaXRpb24ueCxcclxuICAgICAgICB5OiB0aGlzLmRyYXdFbmRQb3NpdGlvbi55XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgdGhpcy5jb250ZXh0LmFyYyhwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAxMCwgMCwgMiAqIE1hdGguUEkpXHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMjM3LCA2NSwgNjUsIDAuNSknXHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbCgpXHJcbiAgfVxyXG4gIGNhbGNEcmF3aW5nQmVnaW5FbmRQb2ludHMgKCkge1xyXG4gICAgaWYgKCh0aGlzLmRlc3QucG9zaXRpb24ueCAtIHRoaXMuc3JjLnBvc2l0aW9uLngpID49IDApIHtcclxuICAgICAgdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi54ID0gMTBcclxuICAgICAgdGhpcy5kcmF3RW5kUG9zaXRpb24ueCA9IHRoaXMud2lkdGggLSAxMFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueCA9IHRoaXMud2lkdGggLSAxMFxyXG4gICAgICB0aGlzLmRyYXdFbmRQb3NpdGlvbi54ID0gMTBcclxuICAgIH1cclxuICAgIGlmICgodGhpcy5kZXN0LnBvc2l0aW9uLnkgLSB0aGlzLnNyYy5wb3NpdGlvbi55KSA+PSAwKSB7XHJcbiAgICAgIHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueSA9IDEwXHJcbiAgICAgIHRoaXMuZHJhd0VuZFBvc2l0aW9uLnkgPSB0aGlzLmhlaWdodCAtIDEwXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi55ID0gdGhpcy5oZWlnaHQgLSAxMFxyXG4gICAgICB0aGlzLmRyYXdFbmRQb3NpdGlvbi55ID0gMTBcclxuICAgIH1cclxuICB9XHJcbiAgY2FsY0p1ZGdpbmdCZWdpbkVuZFBvaW50cyAoKSB7XHJcbiAgICBsZXQgeDEsIHgyLCB5MSwgeTJcclxuICAgIGlmICgodGhpcy5kZXN0LnBvc2l0aW9uLnggLSB0aGlzLnNyYy5wb3NpdGlvbi54KSA+PSAwKSB7XHJcbiAgICAgIHgxID0gdGhpcy5sZWZ0ICsgMTBcclxuICAgICAgeDIgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoIC0gMTBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB4MSA9IHRoaXMubGVmdCArIHRoaXMud2lkdGggLSAxMFxyXG4gICAgICB4MiA9IHRoaXMubGVmdCArIDEwXHJcbiAgICB9XHJcbiAgICBpZiAoKHRoaXMuZGVzdC5wb3NpdGlvbi55IC0gdGhpcy5zcmMucG9zaXRpb24ueSkgPj0gMCkge1xyXG4gICAgICB5MSA9IHRoaXMudG9wICsgMTBcclxuICAgICAgeTIgPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC0gMTBcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB5MSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLSAxMFxyXG4gICAgICB5MiA9IHRoaXMudG9wICsgMTBcclxuICAgIH1cclxuICAgIHJldHVybiBbIHgxLCB5MSwgeDIsIHkyIF1cclxuICB9XHJcbiAgY2xlYXJDYW52YXMgKCkge1xyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoXHJcbiAgfVxyXG4gIGNhbGNBcnJvd0FuZ2xlICgpIHtcclxuICAgIGxldCBhbmdsZVxyXG4gICAgc3dpdGNoICh0aGlzLmxpbmtlclR5cGUpIHtcclxuICAgICAgY2FzZSAnc3RyYWlnaHQnOlxyXG4gICAgICAgIGxldCBvZmZzZXRYID0gdGhpcy5kZXN0LnBvc2l0aW9uLnggLSB0aGlzLnNyYy5wb3NpdGlvbi54XHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSB0aGlzLmRlc3QucG9zaXRpb24ueSAtIHRoaXMuc3JjLnBvc2l0aW9uLnlcclxuICAgICAgICBpZiAob2Zmc2V0WSA9PT0gMCkge1xyXG4gICAgICAgICAgYW5nbGUgPSAob2Zmc2V0WCA+PSAwKSA/IE1hdGguUEkgLyAyIDogLSBNYXRoLlBJIC8gMlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvZmZzZXRZIDwgMCkge1xyXG4gICAgICAgICAgYW5nbGUgPSBNYXRoLmF0YW4ob2Zmc2V0WCAvIC1vZmZzZXRZKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGFuZ2xlID0gTWF0aC5QSSAtIE1hdGguYXRhbihvZmZzZXRYIC8gb2Zmc2V0WSlcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Jlemllcic6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5nbGVcclxuICB9XHJcbiAgZHJhd0xpbmVCb2R5ICgpIHtcclxuICAgIHN3aXRjaCAodGhpcy5saW5rZXJUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N0cmFpZ2h0JzpcclxuICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueCwgdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi55KVxyXG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8odGhpcy5kcmF3RW5kUG9zaXRpb24ueCwgdGhpcy5kcmF3RW5kUG9zaXRpb24ueSlcclxuICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKClcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmV6aWVyJzpcclxuICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKClcclxuICAgICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHRoaXMuZHJhd0JlZ2luUG9zaXRpb24ueCwgdGhpcy5kcmF3QmVnaW5Qb3NpdGlvbi55KVxyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LmJlemllckN1cnZlVG8oKVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBkcmF3IChyZWZlck1hcmssIGlzU2VsZWN0ZWQpIHtcclxuICAgIHRoaXMuY2xlYXJDYW52YXMoKVxyXG4gICAgdGhpcy5yZXNldERyYXdTdHlsZSgpXHJcbiAgICB0aGlzLmNhbGNEcmF3aW5nQmVnaW5FbmRQb2ludHMoKVxyXG5cclxuICAgIGlmIChyZWZlck1hcmspIHtcclxuICAgICAgdGhpcy5kcmF3UmVmZXJNYXJrKHJlZmVyTWFyaylcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRyYXdMaW5lQm9keSgpXHJcbiAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSAncmdiYSgyMzcsIDY1LCA2NSwgMC4xNSknXHJcbiAgICAgIHRoaXMuY29udGV4dC5saW5lV2lkdGggPSA2XHJcbiAgICAgIHRoaXMuZHJhd0xpbmVCb2R5KClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRyYXdBcnJvdyh0aGlzLmNhbGNBcnJvd0FuZ2xlKCkpXHJcbiAgfVxyXG4gIC8vIEp1ZGdlIHdoZXRoZXIgYSBwb2ludCBpcyBpbiB0aGUgcmVjdGFuZ2xlIGFyZWEgd2hpY2ggaXMgY292ZXJlZCBieVxyXG4gIGlzUG9pbnRJbkxpbmVSZWN0YW5nbGUgKHgsIHkpIHtcclxuICAgIGxldCBbIHgxLCB5MSwgeDIsIHkyIF0gPSB0aGlzLmNhbGNKdWRnaW5nQmVnaW5FbmRQb2ludHMoKVxyXG4gICAgbGV0IHhCaWcgPSAoeDEgPj0geDIpID8geDEgOiB4MlxyXG4gICAgbGV0IHhTbWFsbCA9ICh4QmlnID09PSB4MikgPyB4MSA6IHgyXHJcbiAgICBsZXQgeUJpZyA9ICh5MSA+PSB5MikgPyB5MSA6IHkyXHJcbiAgICBsZXQgeVNtYWxsID0gKHlCaWcgPT09IHkyKSA/IHkxIDogeTJcclxuXHJcbiAgICAvLyBUaGUgY2FsY3VsYXRlZCByZXN1bHQgb2YgcG9pbnQgbWlnaHQgbm90IGJlIGFjY3VyYXRlLFxyXG4gICAgLy8gaXQgd2lsbCBlZmZlY3QgdGhlIGp1ZGdlbWVudCB3aGVuIHgxID09PSB4MiBvciB5MSA9PT0geTIuXHJcbiAgICAvLyBTbywgaXQgcmVxdWlyZXMgYSBzbWFsbCBlbm91Z2ggbnVtYmVyIHRvIGhlbHAuXHJcbiAgICByZXR1cm4gKHggPD0geEJpZyArIGRlbHRhICYmIHggPj0geFNtYWxsIC0gZGVsdGFcclxuICAgICAgJiYgeSA8PSB5QmlnICsgZGVsdGEgJiYgeSA+PSB5U21hbGwgLSBkZWx0YSlcclxuICB9XHJcbiAgaXNJbkxpbmUgKHgsIHksIGVuZEV4Y2x1ZGVkKSB7XHJcbiAgICBpZiAoIWVuZEV4Y2x1ZGVkKSB7XHJcbiAgICAgIGlmICh0aGlzLmlzSW5MaW5lRW5kKHgsIHkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBbIHgxLCB5MSwgeDIsIHkyIF0gPSB0aGlzLmNhbGNKdWRnaW5nQmVnaW5FbmRQb2ludHMoKVxyXG4gICAgc3dpdGNoICAodGhpcy5saW5rZXJUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N0cmFpZ2h0JzpcclxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gcG9pbnQgdG8gbGluZS5cclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBjYWxjUG9pbnRUb0xpbmVEaXN0YW5jZShbeCwgeV0sIFt4MSwgeTEsIHgyLCB5Ml0pXHJcbiAgICAgICAgbGV0IGZvb3QgPSBjYWxjUG9pbnRUb0xpbmVGb290KFt4LCB5XSwgW3gxLCB5MSwgeDIsIHkyXSlcclxuXHJcbiAgICAgICAgcmV0dXJuIChkaXN0YW5jZSA8PSBsaW5lQXJlYVdpZHRoICYmIGRpc3RhbmNlID49IC1saW5lQXJlYVdpZHRoXHJcbiAgICAgICAgICAmJiB0aGlzLmlzUG9pbnRJbkxpbmVSZWN0YW5nbGUoZm9vdC54LCBmb290LnkpKVxyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmV6aWVyJzpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgaXNJbkxpbmVFbmQgKHgsIHkpIHtcclxuICAgIGxldCBbIHgxLCB5MSwgeDIsIHkyIF0gPSB0aGlzLmNhbGNKdWRnaW5nQmVnaW5FbmRQb2ludHMoKVxyXG4gICAgbGV0IGRpc3RhbmNlU3JjID0gY2FsY1BvaW50VG9Qb2ludERpc3RhbmNlKFt4LCB5XSwgW3gxLCB5MV0pXHJcbiAgICBsZXQgZGlzdGFuY2VEZXN0ID0gY2FsY1BvaW50VG9Qb2ludERpc3RhbmNlKFt4LCB5XSwgW3gyLCB5Ml0pXHJcblxyXG4gICAgaWYgKGRpc3RhbmNlRGVzdCA8PSBsaW5lQXJlYVdpZHRoKSB7XHJcbiAgICAgcmV0dXJuICdsaW5lRGVzdCdcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRpc3RhbmNlU3JjIDw9IGxpbmVBcmVhV2lkdGgpIHtcclxuICAgICAgcmV0dXJuICdsaW5lU3JjJ1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbiAganVkZ2VJblNoYXBlICh4LCB5KSB7XHJcbiAgICBsZXQgdHlwZSA9IHRoaXMuaXNJbkxpbmVFbmQoeCwgeSlcclxuICAgIGlmICghdHlwZSkge1xyXG4gICAgICB0eXBlID0gdGhpcy5pc0luTGluZSh4LCB5LCB0cnVlKSA/ICdsaW5lQm9keScgOiAnZW1wdHknXHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBzaGFwZTogdGhpcywgdHlwZTogdHlwZSB9XHJcbiAgfVxyXG4gIGNhbGxTaGFwZXNUb0RldGFjaCAoKSB7XHJcbiAgICBpZiAodGhpcy5zcmMuc2hhcGUpIHtcclxuICAgICAgdGhpcy5zcmMuc2hhcGUuZGVsZXRlTGluZSh0aGlzKVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGVzdC5zaGFwZSkge1xyXG4gICAgICB0aGlzLmRlc3Quc2hhcGUuZGVsZXRlTGluZSh0aGlzKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGluZVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFwZXMvbGluZS5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return calcPointToPointDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calcPointToLineDistance; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common__ = __webpack_require__(3);\n\r\n\r\nfunction calcPointToPointDistance (pointA, pointB) {\r\n  let [x1, y1, x2, y2] = [pointA[0], pointA[1], pointB[0], pointB[1]]\r\n  return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2))\r\n}\r\n\r\nfunction calcPointToLineDistance (point, line) {\r\n  let [x, y] = Object(__WEBPACK_IMPORTED_MODULE_0__common__[\"b\" /* generalizePoint */])(point)\r\n  let [A, B, C] = Object(__WEBPACK_IMPORTED_MODULE_0__common__[\"a\" /* generalizeLine */])(line)\r\n  return (A * x + B * y + C) / Math.sqrt(A * A + B * B)\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9jYWxjdWxhdGlvbi9jYWxjRGlzdGFuY2UuanM/ZjczNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dlbmVyYWxpemVMaW5lLCBnZW5lcmFsaXplUG9pbnR9IGZyb20gXCIuL2NvbW1vblwiO1xyXG5cclxuZnVuY3Rpb24gY2FsY1BvaW50VG9Qb2ludERpc3RhbmNlIChwb2ludEEsIHBvaW50Qikge1xyXG4gIGxldCBbeDEsIHkxLCB4MiwgeTJdID0gW3BvaW50QVswXSwgcG9pbnRBWzFdLCBwb2ludEJbMF0sIHBvaW50QlsxXV1cclxuICByZXR1cm4gTWF0aC5zcXJ0KCh4MSAtIHgyKSAqICh4MSAtIHgyKSArICh5MSAtIHkyKSAqICh5MSAtIHkyKSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1BvaW50VG9MaW5lRGlzdGFuY2UgKHBvaW50LCBsaW5lKSB7XHJcbiAgbGV0IFt4LCB5XSA9IGdlbmVyYWxpemVQb2ludChwb2ludClcclxuICBsZXQgW0EsIEIsIENdID0gZ2VuZXJhbGl6ZUxpbmUobGluZSlcclxuICByZXR1cm4gKEEgKiB4ICsgQiAqIHkgKyBDKSAvIE1hdGguc3FydChBICogQSArIEIgKiBCKVxyXG59XHJcblxyXG5leHBvcnQge2NhbGNQb2ludFRvUG9pbnREaXN0YW5jZSwgY2FsY1BvaW50VG9MaW5lRGlzdGFuY2V9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvY2FsY3VsYXRpb24vY2FsY0Rpc3RhbmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function backgroundDraw(el, backgroundWidth, backgroundHeight, backgroundSpacing) {\r\n  if (!el) { return }\r\n\r\n  let context = el.getContext('2d')\r\n  let width = backgroundWidth ? backgroundWidth : 1250\r\n  let height = backgroundHeight ? backgroundHeight : 1500\r\n  let spacing = backgroundSpacing ? backgroundSpacing : 15\r\n\r\n  el.width = width\r\n  el.height = height\r\n\r\n  let countX = Math.ceil(width / spacing)\r\n  let countY = Math.ceil(height / spacing)\r\n\r\n  context.strokeStyle = '#dcdcdc'\r\n  for (let i = 0; i < countX; i++) {\r\n    context.beginPath()\r\n    context.moveTo(i * spacing, 0)\r\n    if (i % 5 === 0)\r\n      context.lineWidth = 2\r\n    else context.lineWidth = 1\r\n    context.lineTo(i * spacing, height)\r\n    context.stroke()\r\n  }\r\n  for (let i = 0; i < countY; i++) {\r\n    context.beginPath()\r\n    context.moveTo(0, i * spacing)\r\n    if (i % 5 === 0)\r\n      context.lineWidth = 2\r\n    else context.lineWidth = 1\r\n    context.lineTo(width, i * spacing)\r\n    context.stroke()\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (backgroundDraw);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9iYWNrZ3JvdW5kLmpzPzNhMzkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYmFja2dyb3VuZERyYXcoZWwsIGJhY2tncm91bmRXaWR0aCwgYmFja2dyb3VuZEhlaWdodCwgYmFja2dyb3VuZFNwYWNpbmcpIHtcclxuICBpZiAoIWVsKSB7IHJldHVybiB9XHJcblxyXG4gIGxldCBjb250ZXh0ID0gZWwuZ2V0Q29udGV4dCgnMmQnKVxyXG4gIGxldCB3aWR0aCA9IGJhY2tncm91bmRXaWR0aCA/IGJhY2tncm91bmRXaWR0aCA6IDEyNTBcclxuICBsZXQgaGVpZ2h0ID0gYmFja2dyb3VuZEhlaWdodCA/IGJhY2tncm91bmRIZWlnaHQgOiAxNTAwXHJcbiAgbGV0IHNwYWNpbmcgPSBiYWNrZ3JvdW5kU3BhY2luZyA/IGJhY2tncm91bmRTcGFjaW5nIDogMTVcclxuXHJcbiAgZWwud2lkdGggPSB3aWR0aFxyXG4gIGVsLmhlaWdodCA9IGhlaWdodFxyXG5cclxuICBsZXQgY291bnRYID0gTWF0aC5jZWlsKHdpZHRoIC8gc3BhY2luZylcclxuICBsZXQgY291bnRZID0gTWF0aC5jZWlsKGhlaWdodCAvIHNwYWNpbmcpXHJcblxyXG4gIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2RjZGNkYydcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50WDsgaSsrKSB7XHJcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpXHJcbiAgICBjb250ZXh0Lm1vdmVUbyhpICogc3BhY2luZywgMClcclxuICAgIGlmIChpICUgNSA9PT0gMClcclxuICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyXHJcbiAgICBlbHNlIGNvbnRleHQubGluZVdpZHRoID0gMVxyXG4gICAgY29udGV4dC5saW5lVG8oaSAqIHNwYWNpbmcsIGhlaWdodClcclxuICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudFk7IGkrKykge1xyXG4gICAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gICAgY29udGV4dC5tb3ZlVG8oMCwgaSAqIHNwYWNpbmcpXHJcbiAgICBpZiAoaSAlIDUgPT09IDApXHJcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMlxyXG4gICAgZWxzZSBjb250ZXh0LmxpbmVXaWR0aCA9IDFcclxuICAgIGNvbnRleHQubGluZVRvKHdpZHRoLCBpICogc3BhY2luZylcclxuICAgIGNvbnRleHQuc3Ryb2tlKClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGJhY2tncm91bmREcmF3XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZHJhdy9iYWNrZ3JvdW5kLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return eventList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getEventHandlers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__dragNewComponent__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shapeEvent__ = __webpack_require__(15);\n\r\n\r\n\r\nlet eventList = ['mousedown', 'mousemove', 'mouseup', 'dblclick', 'keydown']\r\n\r\nfunction getEventHandlers (eventType) {\r\n  switch (eventType) {\r\n    case 'mousedown': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"a\" /* dragNewComponentMouseDown */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"c\" /* shapeEventOnMouseDown */]]\r\n    case 'mousemove': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"b\" /* dragNewComponetMouseMove */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"d\" /* shapeEventOnMouseMove */]]\r\n    case 'mouseup': return [__WEBPACK_IMPORTED_MODULE_0__dragNewComponent__[\"c\" /* dragNewComponetMouseUp */], __WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"e\" /* shapeEventOnMouseUp */]]\r\n    case 'dblclick': return [__WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"a\" /* shapeEventOnDblClick */]]\r\n    case 'keydown': return [__WEBPACK_IMPORTED_MODULE_1__shapeEvent__[\"b\" /* shapeEventOnKeyDown */]]\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvaW5kZXguanM/ZDY0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2RyYWdOZXdDb21wb25lbnRNb3VzZURvd24sIGRyYWdOZXdDb21wb25ldE1vdXNlTW92ZSwgZHJhZ05ld0NvbXBvbmV0TW91c2VVcH0gZnJvbSAnLi9kcmFnTmV3Q29tcG9uZW50J1xyXG5pbXBvcnQge3NoYXBlRXZlbnRPbk1vdXNlTW92ZSwgc2hhcGVFdmVudE9uTW91c2VEb3duLCBzaGFwZUV2ZW50T25Nb3VzZVVwLCBzaGFwZUV2ZW50T25EYmxDbGljaywgc2hhcGVFdmVudE9uS2V5RG93bn0gZnJvbSAnLi9zaGFwZUV2ZW50J1xyXG5cclxubGV0IGV2ZW50TGlzdCA9IFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJywgJ2RibGNsaWNrJywgJ2tleWRvd24nXVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnRIYW5kbGVycyAoZXZlbnRUeXBlKSB7XHJcbiAgc3dpdGNoIChldmVudFR5cGUpIHtcclxuICAgIGNhc2UgJ21vdXNlZG93bic6IHJldHVybiBbZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biwgc2hhcGVFdmVudE9uTW91c2VEb3duXVxyXG4gICAgY2FzZSAnbW91c2Vtb3ZlJzogcmV0dXJuIFtkcmFnTmV3Q29tcG9uZXRNb3VzZU1vdmUsIHNoYXBlRXZlbnRPbk1vdXNlTW92ZV1cclxuICAgIGNhc2UgJ21vdXNldXAnOiByZXR1cm4gW2RyYWdOZXdDb21wb25ldE1vdXNlVXAsIHNoYXBlRXZlbnRPbk1vdXNlVXBdXHJcbiAgICBjYXNlICdkYmxjbGljayc6IHJldHVybiBbc2hhcGVFdmVudE9uRGJsQ2xpY2tdXHJcbiAgICBjYXNlICdrZXlkb3duJzogcmV0dXJuIFtzaGFwZUV2ZW50T25LZXlEb3duXVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtldmVudExpc3QsIGdldEV2ZW50SGFuZGxlcnN9XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvcmUvZXZlbnRzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return dragNewComponentMouseDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return dragNewComponetMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return dragNewComponetMouseUp; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__createNewShape__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__calculation_calcPosition__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_getUIParameters__ = __webpack_require__(4);\n\r\n\r\n\r\n\r\nlet currentShape = null\r\nlet mouseDown = false\r\n\r\nfunction dragNewComponentMouseDown (event, shapeList) {\r\n  if (!event.target.classList.contains('component-item')\r\n    || currentShape)\r\n    return\r\n  let shapeName = event.target.parentNode.getAttribute('shapename')\r\n\r\n  currentShape = Object(__WEBPACK_IMPORTED_MODULE_0__createNewShape__[\"b\" /* createNewShape */])(shapeName)\r\n  currentShape.el.style.position = 'fixed'\r\n  currentShape.setPosition(event.clientX - currentShape.width / 2, event.clientY - currentShape.height / 2)\r\n  currentShape.draw()\r\n  currentShape.append()\r\n\r\n  mouseDown = true\r\n}\r\n\r\nfunction dragNewComponetMouseMove (event, shapeList) {\r\n  if (currentShape && mouseDown) {\r\n    currentShape.setPosition(event.clientX - currentShape.width / 2, event.clientY - currentShape.height / 2)\r\n  }\r\n}\r\n\r\nfunction dragNewComponetMouseUp (event, shapeList) {\r\n  mouseDown = false\r\n\r\n  if (currentShape && event.pageX <= Object(__WEBPACK_IMPORTED_MODULE_2__common_getUIParameters__[\"a\" /* default */])().canvasLeft) {\r\n    currentShape.remove()\r\n  }\r\n  else if (currentShape) {\r\n    //let left = (event.pageX - currentShape.width / 2 - toolbarWidth) - (padding - drawLayout.scrollLeft)\r\n    //let top = (event.pageY - currentShape.height / 2 - headerHeight) - (padding - drawLayout.scrollTop)\r\n    let position = Object(__WEBPACK_IMPORTED_MODULE_1__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n    let left = position.x - currentShape.width / 2\r\n    let top = position.y - currentShape.height / 2\r\n\r\n    currentShape.setPosition(left, top)\r\n    currentShape.el.style.position = 'absolute'\r\n    shapeList.push(currentShape)\r\n  }\r\n\r\n  currentShape = null\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvZHJhZ05ld0NvbXBvbmVudC5qcz85ZTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlTmV3U2hhcGV9IGZyb20gJy4uL2NyZWF0ZU5ld1NoYXBlJ1xyXG5pbXBvcnQge2NhbGNQb3NpdGlvbkluQ2FudmFzfSBmcm9tICcuLi9jYWxjdWxhdGlvbi9jYWxjUG9zaXRpb24nXHJcbmltcG9ydCBnZXRVSVBhcmFtZXRlcnMgZnJvbSAnLi4vLi4vY29tbW9uL2dldFVJUGFyYW1ldGVycydcclxuXHJcbmxldCBjdXJyZW50U2hhcGUgPSBudWxsXHJcbmxldCBtb3VzZURvd24gPSBmYWxzZVxyXG5cclxuZnVuY3Rpb24gZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY29tcG9uZW50LWl0ZW0nKVxyXG4gICAgfHwgY3VycmVudFNoYXBlKVxyXG4gICAgcmV0dXJuXHJcbiAgbGV0IHNoYXBlTmFtZSA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnc2hhcGVuYW1lJylcclxuXHJcbiAgY3VycmVudFNoYXBlID0gY3JlYXRlTmV3U2hhcGUoc2hhcGVOYW1lKVxyXG4gIGN1cnJlbnRTaGFwZS5lbC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcclxuICBjdXJyZW50U2hhcGUuc2V0UG9zaXRpb24oZXZlbnQuY2xpZW50WCAtIGN1cnJlbnRTaGFwZS53aWR0aCAvIDIsIGV2ZW50LmNsaWVudFkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMilcclxuICBjdXJyZW50U2hhcGUuZHJhdygpXHJcbiAgY3VycmVudFNoYXBlLmFwcGVuZCgpXHJcblxyXG4gIG1vdXNlRG93biA9IHRydWVcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhZ05ld0NvbXBvbmV0TW91c2VNb3ZlIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgaWYgKGN1cnJlbnRTaGFwZSAmJiBtb3VzZURvd24pIHtcclxuICAgIGN1cnJlbnRTaGFwZS5zZXRQb3NpdGlvbihldmVudC5jbGllbnRYIC0gY3VycmVudFNoYXBlLndpZHRoIC8gMiwgZXZlbnQuY2xpZW50WSAtIGN1cnJlbnRTaGFwZS5oZWlnaHQgLyAyKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhZ05ld0NvbXBvbmV0TW91c2VVcCAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIG1vdXNlRG93biA9IGZhbHNlXHJcblxyXG4gIGlmIChjdXJyZW50U2hhcGUgJiYgZXZlbnQucGFnZVggPD0gZ2V0VUlQYXJhbWV0ZXJzKCkuY2FudmFzTGVmdCkge1xyXG4gICAgY3VycmVudFNoYXBlLnJlbW92ZSgpXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGN1cnJlbnRTaGFwZSkge1xyXG4gICAgLy9sZXQgbGVmdCA9IChldmVudC5wYWdlWCAtIGN1cnJlbnRTaGFwZS53aWR0aCAvIDIgLSB0b29sYmFyV2lkdGgpIC0gKHBhZGRpbmcgLSBkcmF3TGF5b3V0LnNjcm9sbExlZnQpXHJcbiAgICAvL2xldCB0b3AgPSAoZXZlbnQucGFnZVkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMiAtIGhlYWRlckhlaWdodCkgLSAocGFkZGluZyAtIGRyYXdMYXlvdXQuc2Nyb2xsVG9wKVxyXG4gICAgbGV0IHBvc2l0aW9uID0gY2FsY1Bvc2l0aW9uSW5DYW52YXMoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKVxyXG4gICAgbGV0IGxlZnQgPSBwb3NpdGlvbi54IC0gY3VycmVudFNoYXBlLndpZHRoIC8gMlxyXG4gICAgbGV0IHRvcCA9IHBvc2l0aW9uLnkgLSBjdXJyZW50U2hhcGUuaGVpZ2h0IC8gMlxyXG5cclxuICAgIGN1cnJlbnRTaGFwZS5zZXRQb3NpdGlvbihsZWZ0LCB0b3ApXHJcbiAgICBjdXJyZW50U2hhcGUuZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICBzaGFwZUxpc3QucHVzaChjdXJyZW50U2hhcGUpXHJcbiAgfVxyXG5cclxuICBjdXJyZW50U2hhcGUgPSBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCB7ZHJhZ05ld0NvbXBvbmVudE1vdXNlRG93biwgZHJhZ05ld0NvbXBvbmV0TW91c2VNb3ZlLCBkcmFnTmV3Q29tcG9uZXRNb3VzZVVwfVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb3JlL2V2ZW50cy9kcmFnTmV3Q29tcG9uZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return shapeEventOnMouseMove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return shapeEventOnMouseDown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return shapeEventOnMouseUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return shapeEventOnDblClick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return shapeEventOnKeyDown; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__draw_controller__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__createNewShape__ = __webpack_require__(5);\n\r\n\r\n\r\n\r\nlet shapeController = {\r\n  el: null,\r\n  canvas: null,\r\n  init: function () {\r\n    this.el = document.getElementById('shape_controls')\r\n    this.canvas = document.getElementById('controls_bounding')\r\n  },\r\n  reset: function (left, top, width, height) {\r\n    if (!this.el) { this.init() }\r\n\r\n    this.el.style.left = left + 'px'\r\n    this.el.style.top = top + 'px'\r\n    this.el.style.width = width + 'px'\r\n    this.el.style.height = height + 'px'\r\n  },\r\n  setVisibility: function (visibility) {\r\n    if (!this.el) { this.init() }\r\n\r\n    if (visibility) {\r\n      this.el.style.display = 'block'\r\n    }\r\n    else {\r\n      this.el.style.display = 'none'\r\n    }\r\n  },\r\n  draw (width, height) {\r\n    if (!this.el) { this.init() }\r\n\r\n    return Object(__WEBPACK_IMPORTED_MODULE_1__draw_controller__[\"a\" /* default */])(this.canvas, width, height, 10)\r\n  }\r\n}\r\nlet bezierController = {}\r\nlet styleController = {}\r\n\r\nlet activeShape = null\r\nlet selectedShape = null\r\nlet clickOffset = {\r\n  x: 0,\r\n  y: 0\r\n}\r\nlet activeDirection = null\r\nlet resizeData = {\r\n  beginX: 0,\r\n  beginY: 0,\r\n  originWidth: 0,\r\n  originHeight: 0,\r\n  originLeft: 0,\r\n  originTop: 0\r\n}\r\n\r\nlet lineData = {\r\n  selectedLine: null,\r\n  isActive: false,\r\n  src: {\r\n    position: null,\r\n    referPercent: null,\r\n    referPosition: null,\r\n    shape: null\r\n  },\r\n  dest: {\r\n    position: null,\r\n    referPercent: null,\r\n    referPosition: null,\r\n    shape: null\r\n  },\r\n  activeLine: null,\r\n  type: null,\r\n  // This value only works when creating a new line\r\n  needDeleted: false\r\n\r\n  // Type values: 'new', 'toDest', 'toSrc'\r\n}\r\n\r\nfunction getShapeInListById (shapeId, shapeList) {\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    // If the line is being moved, ignore it\r\n    if (lineData.activeLine === shapeList[i]) {\r\n      continue\r\n    }\r\n    if (shapeList[i].id === shapeId)\r\n      return shapeList[i]\r\n  }\r\n  return null\r\n}\r\n\r\nfunction deleteShapeInListById (shapeId, shapeList) {\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    if (shapeId === shapeList[i].id) {\r\n      let shape = shapeList.splice(i, 1)[0]\r\n      shape.destruct()\r\n      shape = null\r\n      return\r\n    }\r\n  }\r\n}\r\n\r\nfunction isShapeInListById (shapeId, shapeList) {\r\n  for (let i = 0; i < shapeList.length; i++) {\r\n    if (shapeId === shapeList[i].id) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nfunction judgeInShapeList (position, shapeList, dir) {\r\n  dir = (typeof dir !== 'undefined') ? dir : 1\r\n  let length = shapeList.length\r\n  let index = (dir > 0) ? 0 : length - 1\r\n  let result\r\n  for (; index >= 0 && index < length; index += dir) {\r\n    // If the line is being moved, ignore it.\r\n    if (lineData.isActive && shapeList[index] === lineData.activeLine) {\r\n      continue\r\n    }\r\n    if (shapeList[index].judgeInShape) {\r\n      result = shapeList[index].judgeInShape(position.x, position.y)\r\n      if (result.type !== 'empty')\r\n        return result\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nfunction judgeEventAt (event, shapeList) {\r\n  if (!event.target || !event.target.classList) {\r\n    return { shape: null, type: 'empty' }\r\n  }\r\n\r\n  let result, shape\r\n  let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n\r\n  if (event.target.classList.contains('shape_controller')) {\r\n    return {\r\n      shape: selectedShape,\r\n      type: 'controller'\r\n    }\r\n  }\r\n  else if (event.target.parentNode.getAttribute\r\n    && event.target.parentNode.getAttribute('id') === 'shape_controls') {\r\n    // For now, the selected shape has no priority\r\n    // which is the same as processon's work.\r\n    result = judgeInShapeList(position, shapeList, -1)\r\n    if (result) {\r\n      result.topElement = shapeController.el\r\n    }\r\n    return result\r\n  }\r\n  else if (event.target.parentNode.classList\r\n    && event.target.parentNode.classList.contains('shape-box')) {\r\n    let shapeId = event.target.parentNode.getAttribute('shapeid')\r\n    shape = getShapeInListById(shapeId, shapeList)\r\n\r\n    if (!shape) {\r\n      // Judge whether the shape is already put into the shape list.\r\n      // It happens when users try to drag a new line.\r\n      // TopShape is undefined here.\r\n      return judgeInShapeList(position, shapeList, -1)\r\n    }\r\n    else {\r\n      // Common shape or line will work the same way.\r\n      result = shape.judgeInShape(position.x, position.y)\r\n      result.topElement = shape.el\r\n      if (result && result.type !== 'empty') {\r\n        return result\r\n      }\r\n      else {\r\n        let resultInList = judgeInShapeList(position, shapeList, -1)\r\n        if (resultInList) {\r\n          resultInList.topElement = shape.el\r\n        }\r\n        return (resultInList ? resultInList : result)\r\n      }\r\n    }\r\n  }\r\n\r\n  return { shape: null, type: 'empty' }\r\n\r\n  // type values: lineBody, lineDest, lineSrc\r\n  //              shapeBody, shapeLineArea\r\n  //              controller\r\n  //              empty\r\n}\r\n\r\nfunction shapeEventOnMouseDown (event, shapeList) {\r\n  let judgeResult = judgeEventAt(event, shapeList)\r\n  if (!judgeResult) {\r\n    shapeController.setVisibility(false)\r\n    return\r\n  }\r\n\r\n  let shape = judgeResult.shape, type = judgeResult.type\r\n  let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n  switch (type) {\r\n    case 'lineBody':\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n      }\r\n      lineData.selectedLine = shape\r\n      shape.draw(null, true)\r\n      selectedShape = null\r\n      shapeController.setVisibility(false)\r\n      break;\r\n    case 'lineDest':\r\n    case 'lineSrc':\r\n      selectedShape = null\r\n      shapeController.setVisibility(false)\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n      }\r\n      lineData.selectedLine = shape\r\n      shape.draw(null, true)\r\n      lineData.activeLine = shape\r\n      lineData.isActive = true\r\n      let reference\r\n      if (shape.dest.shape) {\r\n        reference = shape.dest.shape.getLineData(shape)\r\n        lineData.dest = {\r\n          shape: shape.dest.shape,\r\n          referPosition: reference.referPosition,\r\n          referPercent: reference.referPercent,\r\n          position: shape.dest.position\r\n        }\r\n      }\r\n      if (shape.src.shape) {\r\n        reference = shape.src.shape.getLineData(shape)\r\n        lineData.src = {\r\n          shape: shape.src.shape,\r\n          referPosition: reference.referPosition,\r\n          referPercent: reference.referPercent,\r\n          position: shape.src.position\r\n        }\r\n      }\r\n      lineData.src.position = shape.src.position\r\n\r\n      if (type === 'lineDest') {\r\n        if (shape.dest.shape) {\r\n          shape.dest.shape.deleteLine(shape)\r\n        }\r\n        lineData.type = 'toDest'\r\n      }\r\n      else {\r\n        if (shape.src.shape) {\r\n          shape.src.shape.deleteLine(shape)\r\n        }\r\n        lineData.type = 'toSrc'\r\n      }\r\n      break;\r\n    case 'shapeBody':\r\n      shapeController.reset(shape.left, shape.top, shape.width, shape.height)\r\n      shapeController.setVisibility(true)\r\n      shapeController.draw(shape.width, shape.height)\r\n\r\n      activeShape = shape\r\n      clickOffset.x = event.pageX - shape.left\r\n      clickOffset.y = event.pageY - shape.top\r\n\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n        lineData.selectedLine = null\r\n      }\r\n      event.preventDefault()\r\n      break;\r\n    case 'shapeLineArea':\r\n      let lineReference = shape.getLineReference(position.x, position.y)\r\n\r\n      lineData.src = {\r\n        position: lineReference.position,\r\n        referPosition: lineReference.referPosition,\r\n        referPercent: lineReference.referPercent,\r\n        shape: shape\r\n      }\r\n      lineData.isActive = true\r\n      lineData.type = 'new'\r\n\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n        lineData.selectedLine = null\r\n      }\r\n      break;\r\n    case 'controller':\r\n      activeDirection = event.target.getAttribute('resizedir')\r\n      resizeData.beginX = event.pageX\r\n      resizeData.beginY = event.pageY\r\n      resizeData.originWidth = selectedShape.width\r\n      resizeData.originHeight = selectedShape.height\r\n      resizeData.originLeft = selectedShape.left\r\n      resizeData.originTop = selectedShape.top\r\n      break;\r\n    case 'empty':\r\n    default:\r\n      if (lineData.selectedLine) {\r\n        lineData.selectedLine.draw()\r\n        lineData.selectedLine = null\r\n      }\r\n      selectedShape = null\r\n      shapeController.setVisibility(false)\r\n  }\r\n}\r\n\r\nfunction redrawActiveLine (shape, reference, mark) {\r\n  if (lineData.type === 'toSrc') {\r\n    let src = {\r\n      shape: shape,\r\n      position: reference.position\r\n    }\r\n    lineData.src = {\r\n      shape: shape,\r\n      position: reference.position,\r\n      referPosition: (reference.referPosition) ? reference.referPosition : null,\r\n      referPercent: (reference.referPercent) ? reference.referPercent : null\r\n    }\r\n    lineData.activeLine.resetSrc(src)\r\n  }\r\n  else {\r\n    let dest = {\r\n      shape: shape,\r\n      position: reference.position\r\n    }\r\n    lineData.dest = {\r\n      shape: shape,\r\n      position: reference.position,\r\n      referPosition: (typeof reference.referPosition !== 'undefined') ? reference.referPosition : null,\r\n      referPercent: (typeof reference.referPercent !== 'undefined') ? reference.referPercent : null\r\n    }\r\n    lineData.activeLine.resetDest(dest)\r\n  }\r\n  lineData.activeLine.draw(mark, !!lineData.selectedLine)\r\n}\r\n\r\nfunction shapeEventOnMouseMove (event, shapeList) {\r\n  if (lineData.isActive) {\r\n    let src, dest\r\n    if (!lineData.activeLine) {\r\n      src = {\r\n        shape: lineData.src.shape,\r\n        position: lineData.src.position\r\n      }\r\n      dest = {\r\n        shape: null,\r\n        position: Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n      }\r\n\r\n      lineData.activeLine = Object(__WEBPACK_IMPORTED_MODULE_2__createNewShape__[\"a\" /* createNewLine */])(src, dest)\r\n      lineData.activeLine.draw()\r\n      lineData.activeLine.append()\r\n    }\r\n    else {\r\n      let position = Object(__WEBPACK_IMPORTED_MODULE_0__calculation_calcPosition__[\"b\" /* calcPositionInCanvas */])(event.pageX, event.pageY)\r\n      let judgeResult = judgeEventAt(event, shapeList)\r\n      if (!judgeResult) {\r\n        redrawActiveLine(null, {position: position})\r\n        return\r\n      }\r\n\r\n      let shape = judgeResult.shape\r\n      lineData.needDeleted = false\r\n      switch (judgeResult.type) {\r\n        case 'shapeBody':\r\n        case 'shapeLineArea':\r\n          let fromShapeId\r\n          if (lineData.type === 'toSrc') {\r\n            fromShapeId = (lineData.dest.shape) ? lineData.dest.shape.id : null\r\n          }\r\n          else {\r\n            fromShapeId = (lineData.src.shape) ? lineData.src.shape.id : null\r\n          }\r\n          if (fromShapeId === shape.id) {\r\n            lineData.needDeleted = true\r\n            redrawActiveLine(null, {position: position})\r\n          }\r\n          else {\r\n            let reference = shape.getLineReference(position.x, position.y)\r\n            if (!reference) {\r\n              return\r\n            }\r\n            let mark = (lineData.type === 'toSrc') ? 'src' : 'dest'\r\n            redrawActiveLine(shape, reference, mark)\r\n          }\r\n          break;\r\n        default:\r\n          redrawActiveLine(null, {position: position})\r\n      }\r\n    }\r\n  }\r\n  else if (activeDirection) {\r\n    let width, height, offsetX, offsetY\r\n    switch (activeDirection) {\r\n      case 'nw':\r\n        width = resizeData.beginX - event.pageX + resizeData.originWidth\r\n        height = resizeData.beginY - event.pageY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        selectedShape.setSize(width, height)\r\n        selectedShape.setPosition(resizeData.originLeft - offsetX, resizeData.originTop - offsetY)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n      case 'ne':\r\n        width = event.pageX - resizeData.beginX + resizeData.originWidth\r\n        height = resizeData.beginY - event.pageY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        selectedShape.setSize(width, height)\r\n        selectedShape.setPosition(resizeData.originLeft, resizeData.originTop - offsetY)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n      case 'se':\r\n        width = event.pageX - resizeData.beginX + resizeData.originWidth\r\n        height = event.pageY - resizeData.beginY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n\r\n        selectedShape.setSize(width, height)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n      case 'sw':\r\n        width = resizeData.beginX - event.pageX + resizeData.originWidth\r\n        height = event.pageY - resizeData.beginY + resizeData.originHeight\r\n        width = (width >= 60) ? width : 60\r\n        height = (height >= 45) ? height : 45\r\n        offsetX = width - resizeData.originWidth\r\n        offsetY = height - resizeData.originHeight\r\n\r\n        selectedShape.setSize(width, height)\r\n        selectedShape.setPosition(resizeData.originLeft - offsetX, resizeData.originTop)\r\n        shapeController.reset(selectedShape.left, selectedShape.top, width, height)\r\n        break;\r\n    }\r\n    selectedShape.draw()\r\n    selectedShape.resetLinesPosition()\r\n    shapeController.draw(width, height)\r\n  }\r\n  else if (activeShape) {\r\n    let x = event.pageX - clickOffset.x\r\n    let y = event.pageY - clickOffset.y\r\n    activeShape.setPosition(x, y)\r\n    shapeController.reset(x, y, activeShape.width, activeShape.height)\r\n    activeShape.resetLinesPosition()\r\n  }\r\n  else {\r\n    let judgeResult = judgeEventAt(event, shapeList)\r\n    if (!judgeResult) { return }\r\n    let shape = judgeResult.shape\r\n    let el = (judgeResult.topElement || (shape && shape.el))\r\n    if (!el) { return }\r\n    switch (judgeResult.type) {\r\n      case 'lineBody':\r\n        el.style.cursor = 'pointer'\r\n        break;\r\n      case 'lineDest':\r\n      case 'lineSrc':\r\n        el.style.cursor = 'move'\r\n        break;\r\n      case 'shapeBody':\r\n        el.style.cursor = 'move'\r\n        break;\r\n      case 'shapeLineArea':\r\n        el.style.cursor = 'crosshair'\r\n        break;\r\n      default:\r\n        el.style.cursor = 'default'\r\n    }\r\n  }\r\n}\r\n\r\nfunction clearLineData () {\r\n  lineData.activeLine = null\r\n  lineData.isActive = false\r\n  lineData.src = {\r\n    position: null,\r\n      referPercent: null,\r\n      referPosition: null,\r\n      shape: null\r\n  }\r\n  lineData.dest = {\r\n    position: null,\r\n      referPercent: null,\r\n      referPosition: null,\r\n      shape: null\r\n  }\r\n  lineData.needDeleted = false\r\n}\r\n\r\nfunction shapeEventOnMouseUp (event, shapeList) {\r\n  if (lineData.isActive) {\r\n    let line = lineData.activeLine\r\n    if (!line) { return }\r\n    switch (lineData.type) {\r\n      case 'new':\r\n        if (lineData.needDeleted) {\r\n          line.destruct()\r\n        }\r\n        else {\r\n          if (line.src.shape) {\r\n            line.src.shape.addLine(line, 'src', lineData.src.referPosition, lineData.src.referPercent)\r\n          }\r\n          if (line.dest.shape) {\r\n            line.dest.shape.addLine(line, 'dest', lineData.dest.referPosition, lineData.dest.referPercent)\r\n          }\r\n          shapeList.push(line)\r\n        }\r\n        break;\r\n      case 'toDest':\r\n        if (line.dest.shape) {\r\n          line.dest.shape.addLine(line, 'dest', lineData.dest.referPosition, lineData.dest.referPercent)\r\n        }\r\n        break;\r\n      case 'toSrc':\r\n        if (line.src.shape) {\r\n          line.src.shape.addLine(line, 'src', lineData.src.referPosition, lineData.src.referPercent)\r\n        }\r\n        break;\r\n    }\r\n    // Remove the line mark.\r\n    line.draw(null, !!lineData.selectedLine)\r\n    clearLineData()\r\n  }\r\n  else if (activeShape) {\r\n    selectedShape = activeShape\r\n    activeShape = null\r\n  }\r\n  else if (activeDirection) {\r\n    activeDirection = null\r\n  }\r\n}\r\n\r\nfunction shapeEventOnDblClick (event, shapeList) {\r\n  let judgeResult = judgeEventAt(event, shapeList)\r\n  if (!judgeResult) { return }\r\n\r\n  switch (judgeResult.type) {\r\n    case 'shapeBody':\r\n      judgeResult.shape.shapeText.focus()\r\n      document.execCommand('selectAll')\r\n      break;\r\n    default:\r\n      shapeController.setVisibility(false)\r\n  }\r\n}\r\n\r\nfunction shapeEventOnKeyDown (event, shapeList) {\r\n  if (event.key === 'Delete') {\r\n    if (selectedShape || activeShape) {\r\n      let shape = (activeShape) ? activeShape : selectedShape\r\n      let isActive = !!activeShape\r\n      shapeController.setVisibility(false)\r\n      deleteShapeInListById(shape.id, shapeList)\r\n\r\n      if (isActive) {\r\n        activeShape = null\r\n      }\r\n      selectedShape = null\r\n    }\r\n    else if (lineData.isActive || lineData.selectedLine) {\r\n      let line = (lineData.isActive) ? lineData.activeLine : lineData.selectedLine\r\n      deleteShapeInListById(line.id, shapeList)\r\n      clearLineData()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9ldmVudHMvc2hhcGVFdmVudC5qcz84ZmMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y2FsY1Bvc2l0aW9uSW5DYW52YXN9IGZyb20gJy4uL2NhbGN1bGF0aW9uL2NhbGNQb3NpdGlvbidcclxuaW1wb3J0IGNvbnRyb2xsZXJEcmF3IGZyb20gJy4uLy4uL2RyYXcvY29udHJvbGxlcidcclxuaW1wb3J0IHtjcmVhdGVOZXdMaW5lfSBmcm9tICcuLi9jcmVhdGVOZXdTaGFwZSdcclxuXHJcbmxldCBzaGFwZUNvbnRyb2xsZXIgPSB7XHJcbiAgZWw6IG51bGwsXHJcbiAgY2FudmFzOiBudWxsLFxyXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcGVfY29udHJvbHMnKVxyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbHNfYm91bmRpbmcnKVxyXG4gIH0sXHJcbiAgcmVzZXQ6IGZ1bmN0aW9uIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIGlmICghdGhpcy5lbCkgeyB0aGlzLmluaXQoKSB9XHJcblxyXG4gICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCdcclxuICAgIHRoaXMuZWwuc3R5bGUudG9wID0gdG9wICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4J1xyXG4gICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnXHJcbiAgfSxcclxuICBzZXRWaXNpYmlsaXR5OiBmdW5jdGlvbiAodmlzaWJpbGl0eSkge1xyXG4gICAgaWYgKCF0aGlzLmVsKSB7IHRoaXMuaW5pdCgpIH1cclxuXHJcbiAgICBpZiAodmlzaWJpbGl0eSkge1xyXG4gICAgICB0aGlzLmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICB9XHJcbiAgfSxcclxuICBkcmF3ICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICBpZiAoIXRoaXMuZWwpIHsgdGhpcy5pbml0KCkgfVxyXG5cclxuICAgIHJldHVybiBjb250cm9sbGVyRHJhdyh0aGlzLmNhbnZhcywgd2lkdGgsIGhlaWdodCwgMTApXHJcbiAgfVxyXG59XHJcbmxldCBiZXppZXJDb250cm9sbGVyID0ge31cclxubGV0IHN0eWxlQ29udHJvbGxlciA9IHt9XHJcblxyXG5sZXQgYWN0aXZlU2hhcGUgPSBudWxsXHJcbmxldCBzZWxlY3RlZFNoYXBlID0gbnVsbFxyXG5sZXQgY2xpY2tPZmZzZXQgPSB7XHJcbiAgeDogMCxcclxuICB5OiAwXHJcbn1cclxubGV0IGFjdGl2ZURpcmVjdGlvbiA9IG51bGxcclxubGV0IHJlc2l6ZURhdGEgPSB7XHJcbiAgYmVnaW5YOiAwLFxyXG4gIGJlZ2luWTogMCxcclxuICBvcmlnaW5XaWR0aDogMCxcclxuICBvcmlnaW5IZWlnaHQ6IDAsXHJcbiAgb3JpZ2luTGVmdDogMCxcclxuICBvcmlnaW5Ub3A6IDBcclxufVxyXG5cclxubGV0IGxpbmVEYXRhID0ge1xyXG4gIHNlbGVjdGVkTGluZTogbnVsbCxcclxuICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgc3JjOiB7XHJcbiAgICBwb3NpdGlvbjogbnVsbCxcclxuICAgIHJlZmVyUGVyY2VudDogbnVsbCxcclxuICAgIHJlZmVyUG9zaXRpb246IG51bGwsXHJcbiAgICBzaGFwZTogbnVsbFxyXG4gIH0sXHJcbiAgZGVzdDoge1xyXG4gICAgcG9zaXRpb246IG51bGwsXHJcbiAgICByZWZlclBlcmNlbnQ6IG51bGwsXHJcbiAgICByZWZlclBvc2l0aW9uOiBudWxsLFxyXG4gICAgc2hhcGU6IG51bGxcclxuICB9LFxyXG4gIGFjdGl2ZUxpbmU6IG51bGwsXHJcbiAgdHlwZTogbnVsbCxcclxuICAvLyBUaGlzIHZhbHVlIG9ubHkgd29ya3Mgd2hlbiBjcmVhdGluZyBhIG5ldyBsaW5lXHJcbiAgbmVlZERlbGV0ZWQ6IGZhbHNlXHJcblxyXG4gIC8vIFR5cGUgdmFsdWVzOiAnbmV3JywgJ3RvRGVzdCcsICd0b1NyYydcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U2hhcGVJbkxpc3RCeUlkIChzaGFwZUlkLCBzaGFwZUxpc3QpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYXBlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gSWYgdGhlIGxpbmUgaXMgYmVpbmcgbW92ZWQsIGlnbm9yZSBpdFxyXG4gICAgaWYgKGxpbmVEYXRhLmFjdGl2ZUxpbmUgPT09IHNoYXBlTGlzdFtpXSkge1xyXG4gICAgICBjb250aW51ZVxyXG4gICAgfVxyXG4gICAgaWYgKHNoYXBlTGlzdFtpXS5pZCA9PT0gc2hhcGVJZClcclxuICAgICAgcmV0dXJuIHNoYXBlTGlzdFtpXVxyXG4gIH1cclxuICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVTaGFwZUluTGlzdEJ5SWQgKHNoYXBlSWQsIHNoYXBlTGlzdCkge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoc2hhcGVJZCA9PT0gc2hhcGVMaXN0W2ldLmlkKSB7XHJcbiAgICAgIGxldCBzaGFwZSA9IHNoYXBlTGlzdC5zcGxpY2UoaSwgMSlbMF1cclxuICAgICAgc2hhcGUuZGVzdHJ1Y3QoKVxyXG4gICAgICBzaGFwZSA9IG51bGxcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1NoYXBlSW5MaXN0QnlJZCAoc2hhcGVJZCwgc2hhcGVMaXN0KSB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGFwZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChzaGFwZUlkID09PSBzaGFwZUxpc3RbaV0uaWQpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGp1ZGdlSW5TaGFwZUxpc3QgKHBvc2l0aW9uLCBzaGFwZUxpc3QsIGRpcikge1xyXG4gIGRpciA9ICh0eXBlb2YgZGlyICE9PSAndW5kZWZpbmVkJykgPyBkaXIgOiAxXHJcbiAgbGV0IGxlbmd0aCA9IHNoYXBlTGlzdC5sZW5ndGhcclxuICBsZXQgaW5kZXggPSAoZGlyID4gMCkgPyAwIDogbGVuZ3RoIC0gMVxyXG4gIGxldCByZXN1bHRcclxuICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XHJcbiAgICAvLyBJZiB0aGUgbGluZSBpcyBiZWluZyBtb3ZlZCwgaWdub3JlIGl0LlxyXG4gICAgaWYgKGxpbmVEYXRhLmlzQWN0aXZlICYmIHNoYXBlTGlzdFtpbmRleF0gPT09IGxpbmVEYXRhLmFjdGl2ZUxpbmUpIHtcclxuICAgICAgY29udGludWVcclxuICAgIH1cclxuICAgIGlmIChzaGFwZUxpc3RbaW5kZXhdLmp1ZGdlSW5TaGFwZSkge1xyXG4gICAgICByZXN1bHQgPSBzaGFwZUxpc3RbaW5kZXhdLmp1ZGdlSW5TaGFwZShwb3NpdGlvbi54LCBwb3NpdGlvbi55KVxyXG4gICAgICBpZiAocmVzdWx0LnR5cGUgIT09ICdlbXB0eScpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5mdW5jdGlvbiBqdWRnZUV2ZW50QXQgKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBpZiAoIWV2ZW50LnRhcmdldCB8fCAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdCkge1xyXG4gICAgcmV0dXJuIHsgc2hhcGU6IG51bGwsIHR5cGU6ICdlbXB0eScgfVxyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdCwgc2hhcGVcclxuICBsZXQgcG9zaXRpb24gPSBjYWxjUG9zaXRpb25JbkNhbnZhcyhldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpXHJcblxyXG4gIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGFwZV9jb250cm9sbGVyJykpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNoYXBlOiBzZWxlY3RlZFNoYXBlLFxyXG4gICAgICB0eXBlOiAnY29udHJvbGxlcidcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlXHJcbiAgICAmJiBldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09ICdzaGFwZV9jb250cm9scycpIHtcclxuICAgIC8vIEZvciBub3csIHRoZSBzZWxlY3RlZCBzaGFwZSBoYXMgbm8gcHJpb3JpdHlcclxuICAgIC8vIHdoaWNoIGlzIHRoZSBzYW1lIGFzIHByb2Nlc3NvbidzIHdvcmsuXHJcbiAgICByZXN1bHQgPSBqdWRnZUluU2hhcGVMaXN0KHBvc2l0aW9uLCBzaGFwZUxpc3QsIC0xKVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXN1bHQudG9wRWxlbWVudCA9IHNoYXBlQ29udHJvbGxlci5lbFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuICBlbHNlIGlmIChldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3RcclxuICAgICYmIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnc2hhcGUtYm94JykpIHtcclxuICAgIGxldCBzaGFwZUlkID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdzaGFwZWlkJylcclxuICAgIHNoYXBlID0gZ2V0U2hhcGVJbkxpc3RCeUlkKHNoYXBlSWQsIHNoYXBlTGlzdClcclxuXHJcbiAgICBpZiAoIXNoYXBlKSB7XHJcbiAgICAgIC8vIEp1ZGdlIHdoZXRoZXIgdGhlIHNoYXBlIGlzIGFscmVhZHkgcHV0IGludG8gdGhlIHNoYXBlIGxpc3QuXHJcbiAgICAgIC8vIEl0IGhhcHBlbnMgd2hlbiB1c2VycyB0cnkgdG8gZHJhZyBhIG5ldyBsaW5lLlxyXG4gICAgICAvLyBUb3BTaGFwZSBpcyB1bmRlZmluZWQgaGVyZS5cclxuICAgICAgcmV0dXJuIGp1ZGdlSW5TaGFwZUxpc3QocG9zaXRpb24sIHNoYXBlTGlzdCwgLTEpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8gQ29tbW9uIHNoYXBlIG9yIGxpbmUgd2lsbCB3b3JrIHRoZSBzYW1lIHdheS5cclxuICAgICAgcmVzdWx0ID0gc2hhcGUuanVkZ2VJblNoYXBlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpXHJcbiAgICAgIHJlc3VsdC50b3BFbGVtZW50ID0gc2hhcGUuZWxcclxuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHlwZSAhPT0gJ2VtcHR5Jykge1xyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBsZXQgcmVzdWx0SW5MaXN0ID0ganVkZ2VJblNoYXBlTGlzdChwb3NpdGlvbiwgc2hhcGVMaXN0LCAtMSlcclxuICAgICAgICBpZiAocmVzdWx0SW5MaXN0KSB7XHJcbiAgICAgICAgICByZXN1bHRJbkxpc3QudG9wRWxlbWVudCA9IHNoYXBlLmVsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAocmVzdWx0SW5MaXN0ID8gcmVzdWx0SW5MaXN0IDogcmVzdWx0KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBzaGFwZTogbnVsbCwgdHlwZTogJ2VtcHR5JyB9XHJcblxyXG4gIC8vIHR5cGUgdmFsdWVzOiBsaW5lQm9keSwgbGluZURlc3QsIGxpbmVTcmNcclxuICAvLyAgICAgICAgICAgICAgc2hhcGVCb2R5LCBzaGFwZUxpbmVBcmVhXHJcbiAgLy8gICAgICAgICAgICAgIGNvbnRyb2xsZXJcclxuICAvLyAgICAgICAgICAgICAgZW1wdHlcclxufVxyXG5cclxuZnVuY3Rpb24gc2hhcGVFdmVudE9uTW91c2VEb3duIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgbGV0IGp1ZGdlUmVzdWx0ID0ganVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgaWYgKCFqdWRnZVJlc3VsdCkge1xyXG4gICAgc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGxldCBzaGFwZSA9IGp1ZGdlUmVzdWx0LnNoYXBlLCB0eXBlID0ganVkZ2VSZXN1bHQudHlwZVxyXG4gIGxldCBwb3NpdGlvbiA9IGNhbGNQb3NpdGlvbkluQ2FudmFzKGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSlcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgJ2xpbmVCb2R5JzpcclxuICAgICAgaWYgKGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgfVxyXG4gICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUgPSBzaGFwZVxyXG4gICAgICBzaGFwZS5kcmF3KG51bGwsIHRydWUpXHJcbiAgICAgIHNlbGVjdGVkU2hhcGUgPSBudWxsXHJcbiAgICAgIHNoYXBlQ29udHJvbGxlci5zZXRWaXNpYmlsaXR5KGZhbHNlKVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2xpbmVEZXN0JzpcclxuICAgIGNhc2UgJ2xpbmVTcmMnOlxyXG4gICAgICBzZWxlY3RlZFNoYXBlID0gbnVsbFxyXG4gICAgICBzaGFwZUNvbnRyb2xsZXIuc2V0VmlzaWJpbGl0eShmYWxzZSlcclxuICAgICAgaWYgKGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgfVxyXG4gICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUgPSBzaGFwZVxyXG4gICAgICBzaGFwZS5kcmF3KG51bGwsIHRydWUpXHJcbiAgICAgIGxpbmVEYXRhLmFjdGl2ZUxpbmUgPSBzaGFwZVxyXG4gICAgICBsaW5lRGF0YS5pc0FjdGl2ZSA9IHRydWVcclxuICAgICAgbGV0IHJlZmVyZW5jZVxyXG4gICAgICBpZiAoc2hhcGUuZGVzdC5zaGFwZSkge1xyXG4gICAgICAgIHJlZmVyZW5jZSA9IHNoYXBlLmRlc3Quc2hhcGUuZ2V0TGluZURhdGEoc2hhcGUpXHJcbiAgICAgICAgbGluZURhdGEuZGVzdCA9IHtcclxuICAgICAgICAgIHNoYXBlOiBzaGFwZS5kZXN0LnNoYXBlLFxyXG4gICAgICAgICAgcmVmZXJQb3NpdGlvbjogcmVmZXJlbmNlLnJlZmVyUG9zaXRpb24sXHJcbiAgICAgICAgICByZWZlclBlcmNlbnQ6IHJlZmVyZW5jZS5yZWZlclBlcmNlbnQsXHJcbiAgICAgICAgICBwb3NpdGlvbjogc2hhcGUuZGVzdC5wb3NpdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoc2hhcGUuc3JjLnNoYXBlKSB7XHJcbiAgICAgICAgcmVmZXJlbmNlID0gc2hhcGUuc3JjLnNoYXBlLmdldExpbmVEYXRhKHNoYXBlKVxyXG4gICAgICAgIGxpbmVEYXRhLnNyYyA9IHtcclxuICAgICAgICAgIHNoYXBlOiBzaGFwZS5zcmMuc2hhcGUsXHJcbiAgICAgICAgICByZWZlclBvc2l0aW9uOiByZWZlcmVuY2UucmVmZXJQb3NpdGlvbixcclxuICAgICAgICAgIHJlZmVyUGVyY2VudDogcmVmZXJlbmNlLnJlZmVyUGVyY2VudCxcclxuICAgICAgICAgIHBvc2l0aW9uOiBzaGFwZS5zcmMucG9zaXRpb25cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbGluZURhdGEuc3JjLnBvc2l0aW9uID0gc2hhcGUuc3JjLnBvc2l0aW9uXHJcblxyXG4gICAgICBpZiAodHlwZSA9PT0gJ2xpbmVEZXN0Jykge1xyXG4gICAgICAgIGlmIChzaGFwZS5kZXN0LnNoYXBlKSB7XHJcbiAgICAgICAgICBzaGFwZS5kZXN0LnNoYXBlLmRlbGV0ZUxpbmUoc2hhcGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpbmVEYXRhLnR5cGUgPSAndG9EZXN0J1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChzaGFwZS5zcmMuc2hhcGUpIHtcclxuICAgICAgICAgIHNoYXBlLnNyYy5zaGFwZS5kZWxldGVMaW5lKHNoYXBlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsaW5lRGF0YS50eXBlID0gJ3RvU3JjJ1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnc2hhcGVCb2R5JzpcclxuICAgICAgc2hhcGVDb250cm9sbGVyLnJlc2V0KHNoYXBlLmxlZnQsIHNoYXBlLnRvcCwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodClcclxuICAgICAgc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkodHJ1ZSlcclxuICAgICAgc2hhcGVDb250cm9sbGVyLmRyYXcoc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodClcclxuXHJcbiAgICAgIGFjdGl2ZVNoYXBlID0gc2hhcGVcclxuICAgICAgY2xpY2tPZmZzZXQueCA9IGV2ZW50LnBhZ2VYIC0gc2hhcGUubGVmdFxyXG4gICAgICBjbGlja09mZnNldC55ID0gZXZlbnQucGFnZVkgLSBzaGFwZS50b3BcclxuXHJcbiAgICAgIGlmIChsaW5lRGF0YS5zZWxlY3RlZExpbmUpIHtcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUuZHJhdygpXHJcbiAgICAgICAgbGluZURhdGEuc2VsZWN0ZWRMaW5lID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdzaGFwZUxpbmVBcmVhJzpcclxuICAgICAgbGV0IGxpbmVSZWZlcmVuY2UgPSBzaGFwZS5nZXRMaW5lUmVmZXJlbmNlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpXHJcblxyXG4gICAgICBsaW5lRGF0YS5zcmMgPSB7XHJcbiAgICAgICAgcG9zaXRpb246IGxpbmVSZWZlcmVuY2UucG9zaXRpb24sXHJcbiAgICAgICAgcmVmZXJQb3NpdGlvbjogbGluZVJlZmVyZW5jZS5yZWZlclBvc2l0aW9uLFxyXG4gICAgICAgIHJlZmVyUGVyY2VudDogbGluZVJlZmVyZW5jZS5yZWZlclBlcmNlbnQsXHJcbiAgICAgICAgc2hhcGU6IHNoYXBlXHJcbiAgICAgIH1cclxuICAgICAgbGluZURhdGEuaXNBY3RpdmUgPSB0cnVlXHJcbiAgICAgIGxpbmVEYXRhLnR5cGUgPSAnbmV3J1xyXG5cclxuICAgICAgaWYgKGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZS5kcmF3KClcclxuICAgICAgICBsaW5lRGF0YS5zZWxlY3RlZExpbmUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdjb250cm9sbGVyJzpcclxuICAgICAgYWN0aXZlRGlyZWN0aW9uID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgncmVzaXplZGlyJylcclxuICAgICAgcmVzaXplRGF0YS5iZWdpblggPSBldmVudC5wYWdlWFxyXG4gICAgICByZXNpemVEYXRhLmJlZ2luWSA9IGV2ZW50LnBhZ2VZXHJcbiAgICAgIHJlc2l6ZURhdGEub3JpZ2luV2lkdGggPSBzZWxlY3RlZFNoYXBlLndpZHRoXHJcbiAgICAgIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0ID0gc2VsZWN0ZWRTaGFwZS5oZWlnaHRcclxuICAgICAgcmVzaXplRGF0YS5vcmlnaW5MZWZ0ID0gc2VsZWN0ZWRTaGFwZS5sZWZ0XHJcbiAgICAgIHJlc2l6ZURhdGEub3JpZ2luVG9wID0gc2VsZWN0ZWRTaGFwZS50b3BcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdlbXB0eSc6XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBpZiAobGluZURhdGEuc2VsZWN0ZWRMaW5lKSB7XHJcbiAgICAgICAgbGluZURhdGEuc2VsZWN0ZWRMaW5lLmRyYXcoKVxyXG4gICAgICAgIGxpbmVEYXRhLnNlbGVjdGVkTGluZSA9IG51bGxcclxuICAgICAgfVxyXG4gICAgICBzZWxlY3RlZFNoYXBlID0gbnVsbFxyXG4gICAgICBzaGFwZUNvbnRyb2xsZXIuc2V0VmlzaWJpbGl0eShmYWxzZSlcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZHJhd0FjdGl2ZUxpbmUgKHNoYXBlLCByZWZlcmVuY2UsIG1hcmspIHtcclxuICBpZiAobGluZURhdGEudHlwZSA9PT0gJ3RvU3JjJykge1xyXG4gICAgbGV0IHNyYyA9IHtcclxuICAgICAgc2hhcGU6IHNoYXBlLFxyXG4gICAgICBwb3NpdGlvbjogcmVmZXJlbmNlLnBvc2l0aW9uXHJcbiAgICB9XHJcbiAgICBsaW5lRGF0YS5zcmMgPSB7XHJcbiAgICAgIHNoYXBlOiBzaGFwZSxcclxuICAgICAgcG9zaXRpb246IHJlZmVyZW5jZS5wb3NpdGlvbixcclxuICAgICAgcmVmZXJQb3NpdGlvbjogKHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uKSA/IHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uIDogbnVsbCxcclxuICAgICAgcmVmZXJQZXJjZW50OiAocmVmZXJlbmNlLnJlZmVyUGVyY2VudCkgPyByZWZlcmVuY2UucmVmZXJQZXJjZW50IDogbnVsbFxyXG4gICAgfVxyXG4gICAgbGluZURhdGEuYWN0aXZlTGluZS5yZXNldFNyYyhzcmMpXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgbGV0IGRlc3QgPSB7XHJcbiAgICAgIHNoYXBlOiBzaGFwZSxcclxuICAgICAgcG9zaXRpb246IHJlZmVyZW5jZS5wb3NpdGlvblxyXG4gICAgfVxyXG4gICAgbGluZURhdGEuZGVzdCA9IHtcclxuICAgICAgc2hhcGU6IHNoYXBlLFxyXG4gICAgICBwb3NpdGlvbjogcmVmZXJlbmNlLnBvc2l0aW9uLFxyXG4gICAgICByZWZlclBvc2l0aW9uOiAodHlwZW9mIHJlZmVyZW5jZS5yZWZlclBvc2l0aW9uICE9PSAndW5kZWZpbmVkJykgPyByZWZlcmVuY2UucmVmZXJQb3NpdGlvbiA6IG51bGwsXHJcbiAgICAgIHJlZmVyUGVyY2VudDogKHR5cGVvZiByZWZlcmVuY2UucmVmZXJQZXJjZW50ICE9PSAndW5kZWZpbmVkJykgPyByZWZlcmVuY2UucmVmZXJQZXJjZW50IDogbnVsbFxyXG4gICAgfVxyXG4gICAgbGluZURhdGEuYWN0aXZlTGluZS5yZXNldERlc3QoZGVzdClcclxuICB9XHJcbiAgbGluZURhdGEuYWN0aXZlTGluZS5kcmF3KG1hcmssICEhbGluZURhdGEuc2VsZWN0ZWRMaW5lKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaGFwZUV2ZW50T25Nb3VzZU1vdmUgKGV2ZW50LCBzaGFwZUxpc3QpIHtcclxuICBpZiAobGluZURhdGEuaXNBY3RpdmUpIHtcclxuICAgIGxldCBzcmMsIGRlc3RcclxuICAgIGlmICghbGluZURhdGEuYWN0aXZlTGluZSkge1xyXG4gICAgICBzcmMgPSB7XHJcbiAgICAgICAgc2hhcGU6IGxpbmVEYXRhLnNyYy5zaGFwZSxcclxuICAgICAgICBwb3NpdGlvbjogbGluZURhdGEuc3JjLnBvc2l0aW9uXHJcbiAgICAgIH1cclxuICAgICAgZGVzdCA9IHtcclxuICAgICAgICBzaGFwZTogbnVsbCxcclxuICAgICAgICBwb3NpdGlvbjogY2FsY1Bvc2l0aW9uSW5DYW52YXMoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsaW5lRGF0YS5hY3RpdmVMaW5lID0gY3JlYXRlTmV3TGluZShzcmMsIGRlc3QpXHJcbiAgICAgIGxpbmVEYXRhLmFjdGl2ZUxpbmUuZHJhdygpXHJcbiAgICAgIGxpbmVEYXRhLmFjdGl2ZUxpbmUuYXBwZW5kKClcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgcG9zaXRpb24gPSBjYWxjUG9zaXRpb25JbkNhbnZhcyhldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpXHJcbiAgICAgIGxldCBqdWRnZVJlc3VsdCA9IGp1ZGdlRXZlbnRBdChldmVudCwgc2hhcGVMaXN0KVxyXG4gICAgICBpZiAoIWp1ZGdlUmVzdWx0KSB7XHJcbiAgICAgICAgcmVkcmF3QWN0aXZlTGluZShudWxsLCB7cG9zaXRpb246IHBvc2l0aW9ufSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHNoYXBlID0ganVkZ2VSZXN1bHQuc2hhcGVcclxuICAgICAgbGluZURhdGEubmVlZERlbGV0ZWQgPSBmYWxzZVxyXG4gICAgICBzd2l0Y2ggKGp1ZGdlUmVzdWx0LnR5cGUpIHtcclxuICAgICAgICBjYXNlICdzaGFwZUJvZHknOlxyXG4gICAgICAgIGNhc2UgJ3NoYXBlTGluZUFyZWEnOlxyXG4gICAgICAgICAgbGV0IGZyb21TaGFwZUlkXHJcbiAgICAgICAgICBpZiAobGluZURhdGEudHlwZSA9PT0gJ3RvU3JjJykge1xyXG4gICAgICAgICAgICBmcm9tU2hhcGVJZCA9IChsaW5lRGF0YS5kZXN0LnNoYXBlKSA/IGxpbmVEYXRhLmRlc3Quc2hhcGUuaWQgOiBudWxsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZnJvbVNoYXBlSWQgPSAobGluZURhdGEuc3JjLnNoYXBlKSA/IGxpbmVEYXRhLnNyYy5zaGFwZS5pZCA6IG51bGxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChmcm9tU2hhcGVJZCA9PT0gc2hhcGUuaWQpIHtcclxuICAgICAgICAgICAgbGluZURhdGEubmVlZERlbGV0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIHJlZHJhd0FjdGl2ZUxpbmUobnVsbCwge3Bvc2l0aW9uOiBwb3NpdGlvbn0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJlZmVyZW5jZSA9IHNoYXBlLmdldExpbmVSZWZlcmVuY2UocG9zaXRpb24ueCwgcG9zaXRpb24ueSlcclxuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2UpIHtcclxuICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbWFyayA9IChsaW5lRGF0YS50eXBlID09PSAndG9TcmMnKSA/ICdzcmMnIDogJ2Rlc3QnXHJcbiAgICAgICAgICAgIHJlZHJhd0FjdGl2ZUxpbmUoc2hhcGUsIHJlZmVyZW5jZSwgbWFyaylcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZWRyYXdBY3RpdmVMaW5lKG51bGwsIHtwb3NpdGlvbjogcG9zaXRpb259KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKGFjdGl2ZURpcmVjdGlvbikge1xyXG4gICAgbGV0IHdpZHRoLCBoZWlnaHQsIG9mZnNldFgsIG9mZnNldFlcclxuICAgIHN3aXRjaCAoYWN0aXZlRGlyZWN0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ253JzpcclxuICAgICAgICB3aWR0aCA9IHJlc2l6ZURhdGEuYmVnaW5YIC0gZXZlbnQucGFnZVggKyByZXNpemVEYXRhLm9yaWdpbldpZHRoXHJcbiAgICAgICAgaGVpZ2h0ID0gcmVzaXplRGF0YS5iZWdpblkgLSBldmVudC5wYWdlWSArIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0XHJcbiAgICAgICAgd2lkdGggPSAod2lkdGggPj0gNjApID8gd2lkdGggOiA2MFxyXG4gICAgICAgIGhlaWdodCA9IChoZWlnaHQgPj0gNDUpID8gaGVpZ2h0IDogNDVcclxuICAgICAgICBvZmZzZXRYID0gd2lkdGggLSByZXNpemVEYXRhLm9yaWdpbldpZHRoXHJcbiAgICAgICAgb2Zmc2V0WSA9IGhlaWdodCAtIHJlc2l6ZURhdGEub3JpZ2luSGVpZ2h0XHJcblxyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0UG9zaXRpb24ocmVzaXplRGF0YS5vcmlnaW5MZWZ0IC0gb2Zmc2V0WCwgcmVzaXplRGF0YS5vcmlnaW5Ub3AgLSBvZmZzZXRZKVxyXG4gICAgICAgIHNoYXBlQ29udHJvbGxlci5yZXNldChzZWxlY3RlZFNoYXBlLmxlZnQsIHNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICduZSc6XHJcbiAgICAgICAgd2lkdGggPSBldmVudC5wYWdlWCAtIHJlc2l6ZURhdGEuYmVnaW5YICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IHJlc2l6ZURhdGEuYmVnaW5ZIC0gZXZlbnQucGFnZVkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcbiAgICAgICAgb2Zmc2V0WCA9IHdpZHRoIC0gcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIG9mZnNldFkgPSBoZWlnaHQgLSByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG5cclxuICAgICAgICBzZWxlY3RlZFNoYXBlLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICBzZWxlY3RlZFNoYXBlLnNldFBvc2l0aW9uKHJlc2l6ZURhdGEub3JpZ2luTGVmdCwgcmVzaXplRGF0YS5vcmlnaW5Ub3AgLSBvZmZzZXRZKVxyXG4gICAgICAgIHNoYXBlQ29udHJvbGxlci5yZXNldChzZWxlY3RlZFNoYXBlLmxlZnQsIHNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzZSc6XHJcbiAgICAgICAgd2lkdGggPSBldmVudC5wYWdlWCAtIHJlc2l6ZURhdGEuYmVnaW5YICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IGV2ZW50LnBhZ2VZIC0gcmVzaXplRGF0YS5iZWdpblkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcblxyXG4gICAgICAgIHNlbGVjdGVkU2hhcGUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIHNoYXBlQ29udHJvbGxlci5yZXNldChzZWxlY3RlZFNoYXBlLmxlZnQsIHNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdzdyc6XHJcbiAgICAgICAgd2lkdGggPSByZXNpemVEYXRhLmJlZ2luWCAtIGV2ZW50LnBhZ2VYICsgcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIGhlaWdodCA9IGV2ZW50LnBhZ2VZIC0gcmVzaXplRGF0YS5iZWdpblkgKyByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG4gICAgICAgIHdpZHRoID0gKHdpZHRoID49IDYwKSA/IHdpZHRoIDogNjBcclxuICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ID49IDQ1KSA/IGhlaWdodCA6IDQ1XHJcbiAgICAgICAgb2Zmc2V0WCA9IHdpZHRoIC0gcmVzaXplRGF0YS5vcmlnaW5XaWR0aFxyXG4gICAgICAgIG9mZnNldFkgPSBoZWlnaHQgLSByZXNpemVEYXRhLm9yaWdpbkhlaWdodFxyXG5cclxuICAgICAgICBzZWxlY3RlZFNoYXBlLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICBzZWxlY3RlZFNoYXBlLnNldFBvc2l0aW9uKHJlc2l6ZURhdGEub3JpZ2luTGVmdCAtIG9mZnNldFgsIHJlc2l6ZURhdGEub3JpZ2luVG9wKVxyXG4gICAgICAgIHNoYXBlQ29udHJvbGxlci5yZXNldChzZWxlY3RlZFNoYXBlLmxlZnQsIHNlbGVjdGVkU2hhcGUudG9wLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgc2VsZWN0ZWRTaGFwZS5kcmF3KClcclxuICAgIHNlbGVjdGVkU2hhcGUucmVzZXRMaW5lc1Bvc2l0aW9uKClcclxuICAgIHNoYXBlQ29udHJvbGxlci5kcmF3KHdpZHRoLCBoZWlnaHQpXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGFjdGl2ZVNoYXBlKSB7XHJcbiAgICBsZXQgeCA9IGV2ZW50LnBhZ2VYIC0gY2xpY2tPZmZzZXQueFxyXG4gICAgbGV0IHkgPSBldmVudC5wYWdlWSAtIGNsaWNrT2Zmc2V0LnlcclxuICAgIGFjdGl2ZVNoYXBlLnNldFBvc2l0aW9uKHgsIHkpXHJcbiAgICBzaGFwZUNvbnRyb2xsZXIucmVzZXQoeCwgeSwgYWN0aXZlU2hhcGUud2lkdGgsIGFjdGl2ZVNoYXBlLmhlaWdodClcclxuICAgIGFjdGl2ZVNoYXBlLnJlc2V0TGluZXNQb3NpdGlvbigpXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgbGV0IGp1ZGdlUmVzdWx0ID0ganVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgICBpZiAoIWp1ZGdlUmVzdWx0KSB7IHJldHVybiB9XHJcbiAgICBsZXQgc2hhcGUgPSBqdWRnZVJlc3VsdC5zaGFwZVxyXG4gICAgbGV0IGVsID0gKGp1ZGdlUmVzdWx0LnRvcEVsZW1lbnQgfHwgKHNoYXBlICYmIHNoYXBlLmVsKSlcclxuICAgIGlmICghZWwpIHsgcmV0dXJuIH1cclxuICAgIHN3aXRjaCAoanVkZ2VSZXN1bHQudHlwZSkge1xyXG4gICAgICBjYXNlICdsaW5lQm9keSc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2xpbmVEZXN0JzpcclxuICAgICAgY2FzZSAnbGluZVNyYyc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NoYXBlQm9keSc6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3NoYXBlTGluZUFyZWEnOlxyXG4gICAgICAgIGVsLnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckxpbmVEYXRhICgpIHtcclxuICBsaW5lRGF0YS5hY3RpdmVMaW5lID0gbnVsbFxyXG4gIGxpbmVEYXRhLmlzQWN0aXZlID0gZmFsc2VcclxuICBsaW5lRGF0YS5zcmMgPSB7XHJcbiAgICBwb3NpdGlvbjogbnVsbCxcclxuICAgICAgcmVmZXJQZXJjZW50OiBudWxsLFxyXG4gICAgICByZWZlclBvc2l0aW9uOiBudWxsLFxyXG4gICAgICBzaGFwZTogbnVsbFxyXG4gIH1cclxuICBsaW5lRGF0YS5kZXN0ID0ge1xyXG4gICAgcG9zaXRpb246IG51bGwsXHJcbiAgICAgIHJlZmVyUGVyY2VudDogbnVsbCxcclxuICAgICAgcmVmZXJQb3NpdGlvbjogbnVsbCxcclxuICAgICAgc2hhcGU6IG51bGxcclxuICB9XHJcbiAgbGluZURhdGEubmVlZERlbGV0ZWQgPSBmYWxzZVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaGFwZUV2ZW50T25Nb3VzZVVwIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgaWYgKGxpbmVEYXRhLmlzQWN0aXZlKSB7XHJcbiAgICBsZXQgbGluZSA9IGxpbmVEYXRhLmFjdGl2ZUxpbmVcclxuICAgIGlmICghbGluZSkgeyByZXR1cm4gfVxyXG4gICAgc3dpdGNoIChsaW5lRGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ25ldyc6XHJcbiAgICAgICAgaWYgKGxpbmVEYXRhLm5lZWREZWxldGVkKSB7XHJcbiAgICAgICAgICBsaW5lLmRlc3RydWN0KClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZiAobGluZS5zcmMuc2hhcGUpIHtcclxuICAgICAgICAgICAgbGluZS5zcmMuc2hhcGUuYWRkTGluZShsaW5lLCAnc3JjJywgbGluZURhdGEuc3JjLnJlZmVyUG9zaXRpb24sIGxpbmVEYXRhLnNyYy5yZWZlclBlcmNlbnQpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobGluZS5kZXN0LnNoYXBlKSB7XHJcbiAgICAgICAgICAgIGxpbmUuZGVzdC5zaGFwZS5hZGRMaW5lKGxpbmUsICdkZXN0JywgbGluZURhdGEuZGVzdC5yZWZlclBvc2l0aW9uLCBsaW5lRGF0YS5kZXN0LnJlZmVyUGVyY2VudClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNoYXBlTGlzdC5wdXNoKGxpbmUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICd0b0Rlc3QnOlxyXG4gICAgICAgIGlmIChsaW5lLmRlc3Quc2hhcGUpIHtcclxuICAgICAgICAgIGxpbmUuZGVzdC5zaGFwZS5hZGRMaW5lKGxpbmUsICdkZXN0JywgbGluZURhdGEuZGVzdC5yZWZlclBvc2l0aW9uLCBsaW5lRGF0YS5kZXN0LnJlZmVyUGVyY2VudClcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3RvU3JjJzpcclxuICAgICAgICBpZiAobGluZS5zcmMuc2hhcGUpIHtcclxuICAgICAgICAgIGxpbmUuc3JjLnNoYXBlLmFkZExpbmUobGluZSwgJ3NyYycsIGxpbmVEYXRhLnNyYy5yZWZlclBvc2l0aW9uLCBsaW5lRGF0YS5zcmMucmVmZXJQZXJjZW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSB0aGUgbGluZSBtYXJrLlxyXG4gICAgbGluZS5kcmF3KG51bGwsICEhbGluZURhdGEuc2VsZWN0ZWRMaW5lKVxyXG4gICAgY2xlYXJMaW5lRGF0YSgpXHJcbiAgfVxyXG4gIGVsc2UgaWYgKGFjdGl2ZVNoYXBlKSB7XHJcbiAgICBzZWxlY3RlZFNoYXBlID0gYWN0aXZlU2hhcGVcclxuICAgIGFjdGl2ZVNoYXBlID0gbnVsbFxyXG4gIH1cclxuICBlbHNlIGlmIChhY3RpdmVEaXJlY3Rpb24pIHtcclxuICAgIGFjdGl2ZURpcmVjdGlvbiA9IG51bGxcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNoYXBlRXZlbnRPbkRibENsaWNrIChldmVudCwgc2hhcGVMaXN0KSB7XHJcbiAgbGV0IGp1ZGdlUmVzdWx0ID0ganVkZ2VFdmVudEF0KGV2ZW50LCBzaGFwZUxpc3QpXHJcbiAgaWYgKCFqdWRnZVJlc3VsdCkgeyByZXR1cm4gfVxyXG5cclxuICBzd2l0Y2ggKGp1ZGdlUmVzdWx0LnR5cGUpIHtcclxuICAgIGNhc2UgJ3NoYXBlQm9keSc6XHJcbiAgICAgIGp1ZGdlUmVzdWx0LnNoYXBlLnNoYXBlVGV4dC5mb2N1cygpXHJcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdzZWxlY3RBbGwnKVxyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHNoYXBlQ29udHJvbGxlci5zZXRWaXNpYmlsaXR5KGZhbHNlKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2hhcGVFdmVudE9uS2V5RG93biAoZXZlbnQsIHNoYXBlTGlzdCkge1xyXG4gIGlmIChldmVudC5rZXkgPT09ICdEZWxldGUnKSB7XHJcbiAgICBpZiAoc2VsZWN0ZWRTaGFwZSB8fCBhY3RpdmVTaGFwZSkge1xyXG4gICAgICBsZXQgc2hhcGUgPSAoYWN0aXZlU2hhcGUpID8gYWN0aXZlU2hhcGUgOiBzZWxlY3RlZFNoYXBlXHJcbiAgICAgIGxldCBpc0FjdGl2ZSA9ICEhYWN0aXZlU2hhcGVcclxuICAgICAgc2hhcGVDb250cm9sbGVyLnNldFZpc2liaWxpdHkoZmFsc2UpXHJcbiAgICAgIGRlbGV0ZVNoYXBlSW5MaXN0QnlJZChzaGFwZS5pZCwgc2hhcGVMaXN0KVxyXG5cclxuICAgICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgICAgYWN0aXZlU2hhcGUgPSBudWxsXHJcbiAgICAgIH1cclxuICAgICAgc2VsZWN0ZWRTaGFwZSA9IG51bGxcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxpbmVEYXRhLmlzQWN0aXZlIHx8IGxpbmVEYXRhLnNlbGVjdGVkTGluZSkge1xyXG4gICAgICBsZXQgbGluZSA9IChsaW5lRGF0YS5pc0FjdGl2ZSkgPyBsaW5lRGF0YS5hY3RpdmVMaW5lIDogbGluZURhdGEuc2VsZWN0ZWRMaW5lXHJcbiAgICAgIGRlbGV0ZVNoYXBlSW5MaXN0QnlJZChsaW5lLmlkLCBzaGFwZUxpc3QpXHJcbiAgICAgIGNsZWFyTGluZURhdGEoKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtzaGFwZUV2ZW50T25Nb3VzZU1vdmUsIHNoYXBlRXZlbnRPbk1vdXNlRG93biwgc2hhcGVFdmVudE9uTW91c2VVcCxcclxuICBzaGFwZUV2ZW50T25EYmxDbGljaywgc2hhcGVFdmVudE9uS2V5RG93bn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29yZS9ldmVudHMvc2hhcGVFdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function controllerDraw(el, width, height, margin) {\r\n  if (!el) { return }\r\n\r\n  el.width = width\r\n  el.height = height\r\n  let context = el.getContext('2d')\r\n\r\n  context.strokeStyle = '#883333'\r\n  context.lineWidth = 1\r\n  context.beginPath()\r\n  context.rect(margin, margin, width - 2 * margin, height - 2 * margin);\r\n  context.stroke();\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (controllerDraw);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy9jb250cm9sbGVyLmpzP2UwYTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY29udHJvbGxlckRyYXcoZWwsIHdpZHRoLCBoZWlnaHQsIG1hcmdpbikge1xyXG4gIGlmICghZWwpIHsgcmV0dXJuIH1cclxuXHJcbiAgZWwud2lkdGggPSB3aWR0aFxyXG4gIGVsLmhlaWdodCA9IGhlaWdodFxyXG4gIGxldCBjb250ZXh0ID0gZWwuZ2V0Q29udGV4dCgnMmQnKVxyXG5cclxuICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyM4ODMzMzMnXHJcbiAgY29udGV4dC5saW5lV2lkdGggPSAxXHJcbiAgY29udGV4dC5iZWdpblBhdGgoKVxyXG4gIGNvbnRleHQucmVjdChtYXJnaW4sIG1hcmdpbiwgd2lkdGggLSAyICogbWFyZ2luLCBoZWlnaHQgLSAyICogbWFyZ2luKTtcclxuICBjb250ZXh0LnN0cm9rZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb250cm9sbGVyRHJhd1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kcmF3L2NvbnRyb2xsZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n");

/***/ })
/******/ ]);